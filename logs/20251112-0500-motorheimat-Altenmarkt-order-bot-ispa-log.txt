2025-11-12 05:21:33,675 - ispa_next.main - DEBUG - ISPA Next attempt (1 / 5)
2025-11-12 05:21:33,682 - overlays.client - INFO - Connected to overlay manager pipe
2025-11-12 05:21:42,601 - ispa_next.app_start.functions - DEBUG - handle_update_available
2025-11-12 05:21:53,355 - ispa_next.app_start.functions - DEBUG - has_ispa_errors
2025-11-12 05:22:08,783 - ispa_next.app_start.functions - DEBUG - authenticate_user
2025-11-12 05:22:40,548 - ispa_next.app_start.main - DEBUG - Login successful
2025-11-12 05:22:52,993 - ispa_next.appointments.functions - DEBUG - order_appointments_grid_by_created_at
2025-11-12 05:22:55,462 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 05:22:56,327 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 208
2025-11-12 05:22:56,329 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 89
2025-11-12 05:22:58,405 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 58
2025-11-12 05:22:58,406 - ispa_next.appointments.functions - DEBUG - recover_or_exit_IPS_error
2025-11-12 05:22:58,406 - ispa_next.appointments.functions - DEBUG - check_appointments_grid_for_IPS_error
2025-11-12 05:22:59,500 - ispa_next.appointments.functions - DEBUG - check_appointments_grid_for_IPS_error
2025-11-12 05:23:00,486 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 05:23:08,596 - ispa_next.appointments.models - DEBUG - Skipping appointment without VIN
2025-11-12 05:23:08,611 - ispa_next.appointments.models - DEBUG - Skipping appointment without VIN
2025-11-12 05:23:08,611 - ispa_next.appointments.models - DEBUG - Skipping appointment without VIN
2025-11-12 05:23:08,619 - ispa_next.main - DEBUG - Found 5 out of 14 appointments to process (configured limit: 15).
2025-11-12 05:23:08,620 - ispa_next.main - DEBUG - Processing 0 fresh appointments.
2025-11-12 05:23:08,620 - ispa_next.main - DEBUG - Processing 5 already visited appointments (w/ RKR not callable).
2025-11-12 05:23:08,620 - ispa_next.main - DEBUG - All appointments: TS-M 2679, TS-AA 1132, TS-MV 266 E, TS-SU 348, TS-VS 73
2025-11-12 05:23:08,623 - ispa_next.main - DEBUG - 



2025-11-12 05:23:08,623 - ispa_next.main - DEBUG - starting with process 1 (TS-M 2679) of 5
2025-11-12 05:23:08,626 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 05:23:09,612 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 05:23:10,413 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 208
2025-11-12 05:23:10,415 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 58
2025-11-12 05:23:11,572 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 1
2025-11-12 05:23:11,573 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 05:23:39,781 - ispa_next.rkr_manager.main - DEBUG - RemoteKeyReadManager initialized
2025-11-12 05:23:41,465 - ispa_next.appointments.functions - DEBUG - Appointment was already processed in the past.
2025-11-12 05:23:46,286 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:23:49,546 - ispa_next.functions - DEBUG - check_and_verify_hu_date
2025-11-12 05:23:49,548 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 05:23:49,633 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 05:23:50,012 - ispa_next.functions - DEBUG - check_potential_workshop_test
2025-11-12 05:23:50,015 - ispa_next.functions - DEBUG - check_vehicle_age_for_service_plus
2025-11-12 05:23:50,016 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 05:23:50,104 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 05:23:52,966 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 05:23:52,968 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 05:23:53,964 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 05:23:55,967 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-12 05:23:56,071 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-12 05:23:56,147 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-12 05:23:56,207 - ispa_next.rkr_manager.state - DEBUG - Getting cart and advice list contents
2025-11-12 05:23:56,209 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-12 05:24:04,146 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: non_blocking_wait
2025-11-12 05:24:05,150 - ispa_next.functions - DEBUG - handle_data_privacy_consent
2025-11-12 05:24:05,150 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 05:24:05,623 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 05:24:15,204 - ispa_next.functions - DEBUG - DSE icon is yellow
2025-11-12 05:24:15,204 - ispa_next.functions - DEBUG - DSE dealer channels are valid
2025-11-12 05:24:18,012 - ispa_next.functions - DEBUG - transfer_customer_data_to_appointment
2025-11-12 05:24:18,014 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 05:24:18,095 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 05:24:18,095 - ispa_next.functions - DEBUG - fetch_customer_data
2025-11-12 05:24:18,137 - ispa_next.functions - DEBUG - fetch_customer_data_from_bmw_id
2025-11-12 05:24:19,263 - ispa_next.functions - DEBUG - All data found, skipping remaining sources
2025-11-12 05:24:19,537 - ispa_next.functions - DEBUG - copy_customer_data_to_appointment
2025-11-12 05:24:21,228 - ispa_next.functions - DEBUG - check_for_alpina_vehicle
2025-11-12 05:24:21,230 - ispa_next.functions - DEBUG - check_bmw_id_add_to_list
2025-11-12 05:24:21,880 - ispa_next.functions - DEBUG - check_home_dealer_add_to_list
2025-11-12 05:24:21,881 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-12 05:24:22,501 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Fahrzeugzustand
2025-11-12 05:24:26,081 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 05:24:26,083 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 05:24:26,562 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 05:24:28,566 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-12 05:24:28,665 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-12 05:24:28,766 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-12 05:24:28,827 - ispa_next.rkr_manager.state - DEBUG - Getting cart and advice list contents
2025-11-12 05:24:28,827 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-12 05:24:36,675 - ispa_next.rkr_manager.state - DEBUG - Waiting for timeout to pass
2025-11-12 05:25:36,677 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-12 05:25:48,062 - ispa_next.rkr_manager.helper - DEBUG - Found button 'Schlüsseldaten überschreiben und öffnen (Empfohlen)' in nested popup
2025-11-12 05:25:51,998 - ispa_next.rkr_manager.state - DEBUG - Checking cart items after successfull RKR
2025-11-12 05:25:51,998 - ispa_next.rkr_manager.state - DEBUG - Checking color in CBS positions
2025-11-12 05:25:56,197 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: success
2025-11-12 05:25:57,203 - ispa_next.functions - DEBUG - generate_attachments
2025-11-12 05:25:57,204 - ispa_next.functions - DEBUG - check_service_requirement
2025-11-12 05:25:57,204 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 05:25:57,296 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-12 05:26:01,385 - ispa_next.functions - DEBUG - check_service_requirement result: pdf_needed =False
2025-11-12 05:26:01,390 - ispa_next.wipers - DEBUG - handle_wiper_service_contracts
2025-11-12 05:26:01,391 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 05:26:01,450 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-12 05:26:07,086 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 05:26:07,595 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 05:26:07,596 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 05:26:08,302 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 05:26:08,304 - ispa_next.package_manager.main - DEBUG - updating cart content
2025-11-12 05:26:11,312 - ispa_next.package_manager.main - DEBUG - updating advice list content
2025-11-12 05:26:11,314 - ispa_next.package_manager.helper - DEBUG - get_advice_list_contents
2025-11-12 05:26:12,297 - ispa_next.package_manager.main - DEBUG - determining package movements
2025-11-12 05:26:12,299 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 05:26:12,304 - ispa_next.package_manager.main - DEBUG - Cannot place Beide Bremsscheiben hinten aus- und einbauen/erset: placement requirements not met
2025-11-12 05:26:12,306 - ispa_next.package_manager.main - DEBUG - Cannot place Beide Bremsscheiben vorn aus- und einbauen/ersetze: placement requirements not met
2025-11-12 05:26:12,308 - ispa_next.package_manager.main - DEBUG - found packages to cart: set()
2025-11-12 05:26:12,310 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 05:26:12,310 - ispa_next.package_manager.main - DEBUG - Cannot place Ladewunsch und Ladezustand: not present in source
2025-11-12 05:26:12,312 - ispa_next.package_manager.main - DEBUG - found packages to advice_list: set()
2025-11-12 05:26:12,312 - ispa_next.package_manager.main - DEBUG - determining package to delete
2025-11-12 05:26:12,314 - ispa_next.package_manager.main - DEBUG - found packages to delete: set()
2025-11-12 05:26:12,316 - ispa_next.package_manager.main - DEBUG - determining package to update
2025-11-12 05:26:12,316 - ispa_next.package_manager.main - DEBUG - found packages to update: set()
2025-11-12 05:26:12,320 - ispa_next.functions - DEBUG - verify_cart_packages_additional_texts
2025-11-12 05:26:12,320 - ispa_next.functions - DEBUG - check_cart_for_additional_text_packages
2025-11-12 05:26:12,320 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:26:15,580 - ispa_next.functions - DEBUG - handle_mobility_replacement
2025-11-12 05:26:15,582 - ispa_next.functions - DEBUG - verify_battery_in_motoroil_package
2025-11-12 05:26:15,584 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:26:18,952 - ispa_next.functions - DEBUG - verify_breaks_in_break_package
2025-11-12 05:26:18,952 - ispa_next.functions - DEBUG - verify breaks added if breaks service in cart
2025-11-12 05:26:18,955 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:26:22,297 - ispa_next.functions - DEBUG - process_check_control
2025-11-12 05:26:22,297 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Beanstandungen
2025-11-12 05:26:22,963 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Beanstandungen
2025-11-12 05:26:23,026 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:26:27,653 - ispa_next.functions - DEBUG - trying add_material_to_package
2025-11-12 05:26:27,655 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:26:30,832 - ispa_next.functions - DEBUG - notify_aw_increase_to_service_advisor
2025-11-12 05:26:41,105 - ispa_next.functions - DEBUG - check_cart_packages_for_parts_service_and_parts_availability
2025-11-12 05:26:41,567 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-12 05:26:42,107 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Abschluss
2025-11-12 05:26:42,225 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:26:52,609 - ispa_next.appointment_ending - DEBUG - entered complete process
2025-11-12 05:26:52,609 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 05:26:53,225 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-12 05:26:53,327 - ispa_next.common.shared - DEBUG - ISPA tab Abschluss is already open
2025-11-12 05:26:53,327 - ispa_next.appointment_ending - DEBUG - complete_process isn't exiting early.
2025-11-12 05:26:55,625 - ispa_next.appointment_ending - DEBUG - Service parts target assigned before process exit.
2025-11-12 05:27:07,371 - ispa_next.appointment_ending - DEBUG - return from complete process straight to process_list with saving without error_dialog.
2025-11-12 05:27:07,754 - ispa_next.appointment_loop.main - DEBUG - Closing appointment 1.
2025-11-12 05:27:07,924 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 05:27:08,762 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 208
2025-11-12 05:27:08,764 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 1
2025-11-12 05:27:11,731 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 89
2025-11-12 05:27:11,732 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 05:27:12,566 - ispa_next.main - DEBUG - 



2025-11-12 05:27:12,566 - ispa_next.main - DEBUG - starting with process 2 (TS-AA 1132) of 5
2025-11-12 05:27:12,570 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 05:27:13,747 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 05:27:14,880 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 208
2025-11-12 05:27:14,881 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 89
2025-11-12 05:27:16,122 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 1
2025-11-12 05:27:16,124 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 05:27:46,244 - ispa_next.rkr_manager.main - DEBUG - RemoteKeyReadManager initialized
2025-11-12 05:27:47,554 - ispa_next.appointments.functions - DEBUG - Appointment was already processed in the past.
2025-11-12 05:27:51,939 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:27:56,561 - ispa_next.functions - DEBUG - check_and_verify_hu_date
2025-11-12 05:27:56,561 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 05:27:56,624 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 05:27:56,872 - ispa_next.functions - DEBUG - HU date already expired after 1291 days.
2025-11-12 05:28:00,621 - ispa_next.functions - DEBUG - check_potential_workshop_test
2025-11-12 05:28:00,623 - ispa_next.functions - DEBUG - check_vehicle_age_for_service_plus
2025-11-12 05:28:00,625 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 05:28:00,725 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 05:28:07,384 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 05:28:07,386 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 05:28:08,311 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 05:28:10,314 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-12 05:28:10,414 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-12 05:28:10,521 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-12 05:28:10,583 - ispa_next.rkr_manager.state - DEBUG - Getting cart and advice list contents
2025-11-12 05:28:10,583 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-12 05:28:18,418 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: non_blocking_wait
2025-11-12 05:28:19,435 - ispa_next.functions - DEBUG - handle_data_privacy_consent
2025-11-12 05:28:19,435 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 05:28:19,927 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 05:28:30,161 - ispa_next.functions - DEBUG - DSE icon is yellow
2025-11-12 05:28:33,780 - ispa_next.functions - DEBUG - transfer_customer_data_to_appointment
2025-11-12 05:28:33,783 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 05:28:33,886 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 05:28:33,886 - ispa_next.functions - DEBUG - fetch_customer_data
2025-11-12 05:28:33,929 - ispa_next.functions - DEBUG - fetch_customer_data_from_bmw_id
2025-11-12 05:28:34,046 - ispa_next.functions - DEBUG - fetch_customer_data_from_dms
2025-11-12 05:28:35,171 - ispa_next.functions - DEBUG - fetch_customer_data_from_wps
2025-11-12 05:28:36,327 - ispa_next.functions - DEBUG - fetch_customer_data_from_temporary_data
2025-11-12 05:28:36,639 - ispa_next.functions - DEBUG - copy_customer_data_to_appointment
2025-11-12 05:28:38,437 - ispa_next.functions - DEBUG - Updated appointment (AJ00017663) customer contact data.
2025-11-12 05:28:39,349 - ispa_next.functions - DEBUG - check_for_alpina_vehicle
2025-11-12 05:28:39,350 - ispa_next.functions - DEBUG - check_bmw_id_add_to_list
2025-11-12 05:28:39,484 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-12 05:28:40,176 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Fahrzeugzustand
2025-11-12 05:28:41,153 - ispa_next.functions - DEBUG - check_home_dealer_add_to_list
2025-11-12 05:28:41,154 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-12 05:28:41,229 - ispa_next.common.shared - DEBUG - ISPA tab Fahrzeugzustand is already open
2025-11-12 05:28:45,312 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 05:28:45,314 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 05:28:45,786 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 05:28:47,789 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-12 05:28:47,900 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-12 05:28:48,013 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-12 05:28:48,115 - ispa_next.rkr_manager.state - DEBUG - Getting cart and advice list contents
2025-11-12 05:28:48,115 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-12 05:28:56,298 - ispa_next.rkr_manager.state - DEBUG - Waiting for timeout to pass
2025-11-12 05:29:56,301 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-12 05:30:04,487 - ispa_next.rkr_manager.state - DEBUG - Waiting for timeout to pass
2025-11-12 05:30:46,490 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-12 05:30:57,108 - ispa_next.rkr_manager.helper - DEBUG - Found button 'Schlüsseldaten überschreiben und öffnen (Empfohlen)' in nested popup
2025-11-12 05:31:01,341 - ispa_next.rkr_manager.state - DEBUG - Checking cart items after successfull RKR
2025-11-12 05:31:01,341 - ispa_next.rkr_manager.state - DEBUG - Checking color in CBS positions
2025-11-12 05:31:05,570 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: success
2025-11-12 05:31:06,576 - ispa_next.functions - DEBUG - generate_attachments
2025-11-12 05:31:06,576 - ispa_next.functions - DEBUG - check_service_requirement
2025-11-12 05:31:06,576 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 05:31:06,707 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-12 05:31:10,820 - ispa_next.functions - DEBUG - check_service_requirement result: pdf_needed =True
2025-11-12 05:31:14,298 - ispa_next.wipers - DEBUG - handle_wiper_service_contracts
2025-11-12 05:31:14,300 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 05:31:14,373 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-12 05:31:14,744 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 05:31:15,304 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 05:31:15,305 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 05:31:15,907 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 05:31:15,908 - ispa_next.package_manager.main - DEBUG - updating cart content
2025-11-12 05:31:19,968 - ispa_next.package_manager.main - DEBUG - updating advice list content
2025-11-12 05:31:19,970 - ispa_next.package_manager.helper - DEBUG - get_advice_list_contents
2025-11-12 05:31:21,451 - ispa_next.package_manager.main - DEBUG - determining package movements
2025-11-12 05:31:21,461 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 05:31:21,463 - ispa_next.package_manager.main - DEBUG - Cannot place Beide Bremsscheiben hinten aus- und einbauen/erset: placement requirements not met
2025-11-12 05:31:21,465 - ispa_next.package_manager.main - DEBUG - Cannot place Beide Bremsscheiben vorn aus- und einbauen/ersetze: placement requirements not met
2025-11-12 05:31:21,467 - ispa_next.package_manager.main - DEBUG - found packages to cart: set()
2025-11-12 05:31:21,467 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 05:31:21,471 - ispa_next.package_manager.main - DEBUG - Cannot place Ladewunsch und Ladezustand: not present in source
2025-11-12 05:31:21,471 - ispa_next.package_manager.main - DEBUG - found packages to advice_list: set()
2025-11-12 05:31:21,475 - ispa_next.package_manager.main - DEBUG - determining package to delete
2025-11-12 05:31:21,475 - ispa_next.package_manager.main - DEBUG - found packages to delete: set()
2025-11-12 05:31:21,479 - ispa_next.package_manager.main - DEBUG - determining package to update
2025-11-12 05:31:21,479 - ispa_next.package_manager.main - DEBUG - found packages to update: set()
2025-11-12 05:31:21,484 - ispa_next.functions - DEBUG - verify_cart_packages_additional_texts
2025-11-12 05:31:21,485 - ispa_next.functions - DEBUG - check_cart_for_additional_text_packages
2025-11-12 05:31:21,485 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:31:26,129 - ispa_next.functions - DEBUG - handle_mobility_replacement
2025-11-12 05:31:26,131 - ispa_next.functions - DEBUG - verify_battery_in_motoroil_package
2025-11-12 05:31:26,131 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:31:30,671 - ispa_next.functions - DEBUG - verify_breaks_in_break_package
2025-11-12 05:31:30,673 - ispa_next.functions - DEBUG - verify breaks added if breaks service in cart
2025-11-12 05:31:30,683 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:31:35,297 - ispa_next.functions - DEBUG - process_check_control
2025-11-12 05:31:35,298 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Beanstandungen
2025-11-12 05:31:36,011 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Beanstandungen
2025-11-12 05:31:36,171 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:31:45,817 - ispa_next.functions - DEBUG - trying add_material_to_package
2025-11-12 05:31:45,820 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:31:50,379 - ispa_next.functions - DEBUG - notify_aw_increase_to_service_advisor
2025-11-12 05:32:00,636 - ispa_next.functions - DEBUG - check_cart_packages_for_parts_service_and_parts_availability
2025-11-12 05:32:01,142 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-12 05:32:01,621 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Abschluss
2025-11-12 05:32:01,739 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:32:46,778 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-12 05:32:50,379 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-12 05:32:53,979 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-12 05:32:57,644 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-12 05:33:01,084 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-12 05:33:05,427 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-12 05:33:05,429 - ispa_next.appointment_ending - DEBUG - entered complete process
2025-11-12 05:33:05,429 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 05:33:05,983 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-12 05:33:06,089 - ispa_next.common.shared - DEBUG - ISPA tab Abschluss is already open
2025-11-12 05:33:06,090 - ispa_next.appointment_ending - DEBUG - complete_process isn't exiting early.
2025-11-12 05:33:07,534 - ispa_next.appointment_ending - DEBUG - No need to assign service parts target.
2025-11-12 05:33:14,539 - ispa_next.appointment_ending - DEBUG - return from complete process straight to process_list with saving without error_dialog.
2025-11-12 05:33:14,908 - ispa_next.appointment_loop.main - DEBUG - Closing appointment 2.
2025-11-12 05:33:15,322 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 05:33:15,953 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 208
2025-11-12 05:33:15,955 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 1
2025-11-12 05:33:18,789 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 89
2025-11-12 05:33:18,790 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 05:33:19,710 - ispa_next.main - DEBUG - 



2025-11-12 05:33:19,711 - ispa_next.main - DEBUG - starting with process 3 (TS-MV 266 E) of 5
2025-11-12 05:33:19,714 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 05:33:20,828 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 05:33:21,998 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 208
2025-11-12 05:33:22,000 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 89
2025-11-12 05:33:23,172 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 1
2025-11-12 05:33:23,173 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 05:33:53,199 - ispa_next.rkr_manager.main - DEBUG - RemoteKeyReadManager initialized
2025-11-12 05:33:54,600 - ispa_next.appointments.functions - DEBUG - Appointment was already processed in the past.
2025-11-12 05:33:58,987 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:34:02,223 - ispa_next.functions - DEBUG - check_and_verify_hu_date
2025-11-12 05:34:02,223 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 05:34:02,309 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 05:34:02,450 - ispa_next.functions - DEBUG - HU date is not available.
2025-11-12 05:34:05,349 - ispa_next.functions - DEBUG - check_potential_workshop_test
2025-11-12 05:34:05,351 - ispa_next.functions - DEBUG - check_vehicle_age_for_service_plus
2025-11-12 05:34:05,351 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 05:34:05,412 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 05:34:08,352 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 05:34:08,352 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 05:34:09,139 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 05:34:11,143 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-12 05:34:11,258 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-12 05:34:11,379 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-12 05:34:11,470 - ispa_next.rkr_manager.state - DEBUG - Checking color in CBS positions
2025-11-12 05:34:15,606 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: data_still_good
2025-11-12 05:34:16,624 - ispa_next.functions - DEBUG - handle_data_privacy_consent
2025-11-12 05:34:16,625 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 05:34:17,119 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 05:34:27,579 - ispa_next.functions - DEBUG - DSE icon is yellow
2025-11-12 05:34:31,186 - ispa_next.functions - DEBUG - transfer_customer_data_to_appointment
2025-11-12 05:34:31,190 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 05:34:31,291 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 05:34:31,292 - ispa_next.functions - DEBUG - fetch_customer_data
2025-11-12 05:34:31,337 - ispa_next.functions - DEBUG - fetch_customer_data_from_bmw_id
2025-11-12 05:34:32,553 - ispa_next.functions - DEBUG - fetch_customer_data_from_dms
2025-11-12 05:34:33,698 - ispa_next.functions - DEBUG - All data found, skipping remaining sources
2025-11-12 05:34:33,907 - ispa_next.functions - DEBUG - copy_customer_data_to_appointment
2025-11-12 05:34:35,632 - ispa_next.functions - DEBUG - Updated appointment (AJ00018011) customer contact data.
2025-11-12 05:34:36,542 - ispa_next.functions - DEBUG - check_for_alpina_vehicle
2025-11-12 05:34:36,544 - ispa_next.functions - DEBUG - check_bmw_id_add_to_list
2025-11-12 05:34:37,262 - ispa_next.functions - DEBUG - check_home_dealer_add_to_list
2025-11-12 05:34:37,262 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-12 05:34:37,934 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Fahrzeugzustand
2025-11-12 05:34:41,975 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 05:34:41,975 - ispa_next.rkr_manager.main - DEBUG - early exiting RemoteKeyReadManager - enabled=False or early_exit_enabled=True
2025-11-12 05:34:41,977 - ispa_next.functions - DEBUG - generate_attachments
2025-11-12 05:34:41,978 - ispa_next.functions - DEBUG - check_service_requirement
2025-11-12 05:34:41,979 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 05:34:42,492 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 05:34:46,598 - ispa_next.functions - DEBUG - check_service_requirement result: pdf_needed =False
2025-11-12 05:34:46,602 - ispa_next.wipers - DEBUG - handle_wiper_service_contracts
2025-11-12 05:34:46,602 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 05:34:46,694 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-12 05:34:52,210 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 05:34:52,691 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 05:34:52,691 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 05:34:53,332 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 05:34:53,332 - ispa_next.package_manager.main - DEBUG - updating cart content
2025-11-12 05:34:56,413 - ispa_next.package_manager.main - DEBUG - updating advice list content
2025-11-12 05:34:56,415 - ispa_next.package_manager.helper - DEBUG - get_advice_list_contents
2025-11-12 05:34:57,970 - ispa_next.package_manager.main - DEBUG - determining package movements
2025-11-12 05:34:57,972 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 05:34:57,974 - ispa_next.package_manager.main - DEBUG - Cannot place Beide Bremsscheiben hinten aus- und einbauen/erset: placement requirements not met
2025-11-12 05:34:57,974 - ispa_next.package_manager.main - DEBUG - Cannot place Beide Bremsscheiben vorn aus- und einbauen/ersetze: placement requirements not met
2025-11-12 05:34:57,976 - ispa_next.package_manager.main - DEBUG - found packages to cart: set()
2025-11-12 05:34:57,976 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 05:34:57,978 - ispa_next.package_manager.main - DEBUG - found packages to advice_list: set()
2025-11-12 05:34:57,978 - ispa_next.package_manager.main - DEBUG - determining package to delete
2025-11-12 05:34:57,981 - ispa_next.package_manager.main - DEBUG - found packages to delete: set()
2025-11-12 05:34:57,986 - ispa_next.package_manager.main - DEBUG - determining package to update
2025-11-12 05:34:57,990 - ispa_next.package_manager.main - DEBUG - found packages to update: set()
2025-11-12 05:34:57,994 - ispa_next.functions - DEBUG - verify_cart_packages_additional_texts
2025-11-12 05:34:57,994 - ispa_next.functions - DEBUG - check_cart_for_additional_text_packages
2025-11-12 05:34:57,996 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:35:01,300 - ispa_next.functions - DEBUG - handle_mobility_replacement
2025-11-12 05:35:01,302 - ispa_next.functions - DEBUG - verify_battery_in_motoroil_package
2025-11-12 05:35:01,304 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:35:04,556 - ispa_next.functions - DEBUG - verify_breaks_in_break_package
2025-11-12 05:35:04,556 - ispa_next.functions - DEBUG - verify breaks added if breaks service in cart
2025-11-12 05:35:04,556 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:35:07,834 - ispa_next.functions - DEBUG - process_check_control
2025-11-12 05:35:07,836 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Beanstandungen
2025-11-12 05:35:08,504 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Beanstandungen
2025-11-12 05:35:08,763 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:35:24,036 - ispa_next.functions - DEBUG - trying add_material_to_package
2025-11-12 05:35:24,037 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:35:27,292 - ispa_next.functions - DEBUG - notify_aw_increase_to_service_advisor
2025-11-12 05:35:37,075 - ispa_next.functions - DEBUG - check_cart_packages_for_parts_service_and_parts_availability
2025-11-12 05:35:37,564 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-12 05:35:38,045 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Abschluss
2025-11-12 05:35:38,145 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:36:09,472 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-12 05:36:13,706 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-12 05:36:17,171 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-12 05:36:21,288 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-12 05:36:21,290 - ispa_next.appointment_ending - DEBUG - entered complete process
2025-11-12 05:36:21,290 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 05:36:21,828 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-12 05:36:21,911 - ispa_next.common.shared - DEBUG - ISPA tab Abschluss is already open
2025-11-12 05:36:21,912 - ispa_next.appointment_ending - DEBUG - complete_process isn't exiting early.
2025-11-12 05:36:23,637 - ispa_next.appointment_ending - DEBUG - No need to assign service parts target.
2025-11-12 05:36:30,721 - ispa_next.appointment_ending - DEBUG - return from complete process straight to process_list with saving without error_dialog.
2025-11-12 05:36:31,095 - ispa_next.appointment_loop.main - DEBUG - Closing appointment 3.
2025-11-12 05:36:31,739 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 05:36:32,224 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 208
2025-11-12 05:36:32,226 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 1
2025-11-12 05:36:35,106 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 89
2025-11-12 05:36:35,107 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 05:36:36,034 - ispa_next.main - DEBUG - 



2025-11-12 05:36:36,035 - ispa_next.main - DEBUG - starting with process 4 (TS-SU 348) of 5
2025-11-12 05:36:36,037 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 05:36:37,111 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 05:36:38,326 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 208
2025-11-12 05:36:38,331 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 89
2025-11-12 05:36:39,543 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 1
2025-11-12 05:36:39,544 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 05:37:01,924 - ispa_next.rkr_manager.main - DEBUG - RemoteKeyReadManager initialized
2025-11-12 05:37:03,536 - ispa_next.appointments.functions - DEBUG - Appointment was already processed in the past.
2025-11-12 05:37:08,179 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:37:10,028 - ispa_next.functions - DEBUG - check_and_verify_hu_date
2025-11-12 05:37:10,030 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 05:37:10,129 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 05:37:10,300 - ispa_next.functions - DEBUG - check_potential_workshop_test
2025-11-12 05:37:10,302 - ispa_next.functions - DEBUG - check_vehicle_age_for_service_plus
2025-11-12 05:37:10,302 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 05:37:10,377 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 05:37:13,568 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 05:37:13,569 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 05:37:14,668 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 05:37:16,675 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-12 05:37:16,774 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-12 05:37:16,878 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-12 05:37:16,964 - ispa_next.rkr_manager.state - DEBUG - Checking color in CBS positions
2025-11-12 05:37:21,162 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: data_still_good
2025-11-12 05:37:22,168 - ispa_next.functions - DEBUG - handle_data_privacy_consent
2025-11-12 05:37:22,168 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 05:37:22,632 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 05:37:33,435 - ispa_next.functions - DEBUG - DSE icon is yellow
2025-11-12 05:37:33,435 - ispa_next.functions - DEBUG - DSE dealer channels are valid
2025-11-12 05:37:37,013 - ispa_next.functions - DEBUG - transfer_customer_data_to_appointment
2025-11-12 05:37:37,016 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 05:37:37,098 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 05:37:37,100 - ispa_next.functions - DEBUG - fetch_customer_data
2025-11-12 05:37:37,131 - ispa_next.functions - DEBUG - fetch_customer_data_from_bmw_id
2025-11-12 05:37:38,376 - ispa_next.functions - DEBUG - All data found, skipping remaining sources
2025-11-12 05:37:38,600 - ispa_next.functions - DEBUG - copy_customer_data_to_appointment
2025-11-12 05:37:40,307 - ispa_next.functions - DEBUG - Updated appointment (AJ00018087) customer contact data.
2025-11-12 05:37:41,219 - ispa_next.functions - DEBUG - check_for_alpina_vehicle
2025-11-12 05:37:41,220 - ispa_next.functions - DEBUG - check_bmw_id_add_to_list
2025-11-12 05:37:41,726 - ispa_next.functions - DEBUG - check_home_dealer_add_to_list
2025-11-12 05:37:41,726 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-12 05:37:42,458 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Fahrzeugzustand
2025-11-12 05:37:46,076 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 05:37:46,077 - ispa_next.rkr_manager.main - DEBUG - early exiting RemoteKeyReadManager - enabled=False or early_exit_enabled=True
2025-11-12 05:37:46,080 - ispa_next.functions - DEBUG - generate_attachments
2025-11-12 05:37:46,080 - ispa_next.functions - DEBUG - check_service_requirement
2025-11-12 05:37:46,082 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 05:37:46,636 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 05:37:50,756 - ispa_next.functions - DEBUG - check_service_requirement result: pdf_needed =False
2025-11-12 05:37:50,760 - ispa_next.wipers - DEBUG - handle_wiper_service_contracts
2025-11-12 05:37:50,760 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 05:37:50,828 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-12 05:37:59,885 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 05:38:00,368 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 05:38:00,368 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 05:38:01,022 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 05:38:01,022 - ispa_next.package_manager.main - DEBUG - updating cart content
2025-11-12 05:38:02,889 - ispa_next.package_manager.main - DEBUG - updating advice list content
2025-11-12 05:38:02,893 - ispa_next.package_manager.helper - DEBUG - get_advice_list_contents
2025-11-12 05:38:04,230 - ispa_next.package_manager.main - DEBUG - determining package movements
2025-11-12 05:38:04,234 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 05:38:04,236 - ispa_next.package_manager.main - DEBUG - Cannot place Beide Bremsscheiben hinten aus- und einbauen/erset: placement requirements not met
2025-11-12 05:38:04,240 - ispa_next.package_manager.main - DEBUG - Cannot place Beide Bremsscheiben vorn aus- und einbauen/ersetze: placement requirements not met
2025-11-12 05:38:04,240 - ispa_next.package_manager.main - DEBUG - found packages to cart: set()
2025-11-12 05:38:04,248 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 05:38:04,251 - ispa_next.package_manager.main - DEBUG - Cannot place Ladewunsch und Ladezustand: not present in source
2025-11-12 05:38:04,254 - ispa_next.package_manager.main - DEBUG - found packages to advice_list: set()
2025-11-12 05:38:04,256 - ispa_next.package_manager.main - DEBUG - determining package to delete
2025-11-12 05:38:04,258 - ispa_next.package_manager.main - DEBUG - found packages to delete: set()
2025-11-12 05:38:04,260 - ispa_next.package_manager.main - DEBUG - determining package to update
2025-11-12 05:38:04,270 - ispa_next.package_manager.main - DEBUG - found packages to update: set()
2025-11-12 05:38:04,275 - ispa_next.functions - DEBUG - verify_cart_packages_additional_texts
2025-11-12 05:38:04,276 - ispa_next.functions - DEBUG - check_cart_for_additional_text_packages
2025-11-12 05:38:04,277 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:38:06,129 - ispa_next.functions - DEBUG - handle_mobility_replacement
2025-11-12 05:38:06,129 - ispa_next.functions - DEBUG - verify_battery_in_motoroil_package
2025-11-12 05:38:06,131 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:38:08,010 - ispa_next.functions - DEBUG - verify_breaks_in_break_package
2025-11-12 05:38:08,019 - ispa_next.functions - DEBUG - verify breaks added if breaks service in cart
2025-11-12 05:38:08,021 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:38:09,935 - ispa_next.functions - DEBUG - process_check_control
2025-11-12 05:38:09,936 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Beanstandungen
2025-11-12 05:38:10,598 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Beanstandungen
2025-11-12 05:38:10,826 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:38:24,911 - ispa_next.functions - DEBUG - trying add_material_to_package
2025-11-12 05:38:24,913 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:38:26,901 - ispa_next.functions - DEBUG - notify_aw_increase_to_service_advisor
2025-11-12 05:38:37,889 - ispa_next.functions - DEBUG - check_cart_packages_for_parts_service_and_parts_availability
2025-11-12 05:38:38,375 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-12 05:38:38,883 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Abschluss
2025-11-12 05:38:38,967 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:38:56,005 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-12 05:38:59,619 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-12 05:38:59,621 - ispa_next.appointment_ending - DEBUG - entered complete process
2025-11-12 05:38:59,621 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 05:39:00,083 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-12 05:39:00,144 - ispa_next.common.shared - DEBUG - ISPA tab Abschluss is already open
2025-11-12 05:39:00,146 - ispa_next.appointment_ending - DEBUG - complete_process isn't exiting early.
2025-11-12 05:39:01,343 - ispa_next.appointment_ending - DEBUG - No need to assign service parts target.
2025-11-12 05:39:07,823 - ispa_next.appointment_ending - DEBUG - return from complete process straight to process_list with saving without error_dialog.
2025-11-12 05:39:08,219 - ispa_next.appointment_loop.main - DEBUG - Closing appointment 4.
2025-11-12 05:39:08,993 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 05:39:09,605 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 208
2025-11-12 05:39:09,605 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 1
2025-11-12 05:39:12,668 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 89
2025-11-12 05:39:12,668 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 05:39:13,654 - ispa_next.main - DEBUG - 



2025-11-12 05:39:13,655 - ispa_next.main - DEBUG - starting with process 5 (TS-VS 73) of 5
2025-11-12 05:39:13,666 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 05:39:14,764 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 05:39:15,802 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 208
2025-11-12 05:39:15,803 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 89
2025-11-12 05:39:17,120 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 1
2025-11-12 05:39:17,121 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 05:39:38,462 - ispa_next.rkr_manager.main - DEBUG - RemoteKeyReadManager initialized
2025-11-12 05:39:39,785 - ispa_next.appointments.functions - DEBUG - Appointment was already processed in the past.
2025-11-12 05:39:44,342 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:39:46,228 - ispa_next.functions - DEBUG - check_and_verify_hu_date
2025-11-12 05:39:46,229 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 05:39:46,316 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 05:39:46,509 - ispa_next.functions - DEBUG - HU date already expired after 872 days.
2025-11-12 05:39:49,735 - ispa_next.functions - DEBUG - check_potential_workshop_test
2025-11-12 05:39:49,737 - ispa_next.functions - DEBUG - check_vehicle_age_for_service_plus
2025-11-12 05:39:49,737 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 05:39:49,815 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 05:39:55,317 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 05:39:55,319 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 05:39:56,137 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 05:39:58,141 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-12 05:39:58,240 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-12 05:39:58,331 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-12 05:39:58,390 - ispa_next.rkr_manager.state - DEBUG - Getting cart and advice list contents
2025-11-12 05:39:58,390 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-12 05:40:06,626 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: non_blocking_wait
2025-11-12 05:40:07,628 - ispa_next.functions - DEBUG - handle_data_privacy_consent
2025-11-12 05:40:07,630 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 05:40:08,185 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 05:40:18,462 - ispa_next.functions - DEBUG - DSE icon is yellow
2025-11-12 05:40:22,231 - ispa_next.functions - DEBUG - transfer_customer_data_to_appointment
2025-11-12 05:40:22,233 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 05:40:22,319 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 05:40:22,320 - ispa_next.functions - DEBUG - fetch_customer_data
2025-11-12 05:40:22,358 - ispa_next.functions - DEBUG - fetch_customer_data_from_bmw_id
2025-11-12 05:40:22,480 - ispa_next.functions - DEBUG - fetch_customer_data_from_dms
2025-11-12 05:40:23,585 - ispa_next.functions - DEBUG - fetch_customer_data_from_wps
2025-11-12 05:40:24,760 - ispa_next.functions - DEBUG - fetch_customer_data_from_temporary_data
2025-11-12 05:40:25,080 - ispa_next.functions - DEBUG - copy_customer_data_to_appointment
2025-11-12 05:40:26,731 - ispa_next.functions - DEBUG - Updated appointment (AJ00018047) customer contact data.
2025-11-12 05:40:27,659 - ispa_next.functions - DEBUG - check_for_alpina_vehicle
2025-11-12 05:40:27,661 - ispa_next.functions - DEBUG - check_bmw_id_add_to_list
2025-11-12 05:40:27,773 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-12 05:40:28,509 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Fahrzeugzustand
2025-11-12 05:40:29,496 - ispa_next.functions - DEBUG - check_home_dealer_add_to_list
2025-11-12 05:40:29,498 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-12 05:40:29,565 - ispa_next.common.shared - DEBUG - ISPA tab Fahrzeugzustand is already open
2025-11-12 05:40:33,135 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 05:40:33,137 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 05:40:33,585 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 05:40:35,588 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-12 05:40:35,694 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-12 05:40:35,814 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-12 05:40:35,885 - ispa_next.rkr_manager.state - DEBUG - Getting cart and advice list contents
2025-11-12 05:40:35,885 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-12 05:40:43,885 - ispa_next.rkr_manager.state - DEBUG - Waiting for timeout to pass
2025-11-12 05:41:43,887 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-12 05:41:52,194 - ispa_next.rkr_manager.state - DEBUG - Waiting for timeout to pass
2025-11-12 05:42:39,196 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-12 05:42:49,947 - ispa_next.rkr_manager.helper - DEBUG - Found button 'Schlüsseldaten überschreiben und öffnen' in nested popup
2025-11-12 05:42:54,118 - ispa_next.rkr_manager.state - DEBUG - Checking cart items after successfull RKR
2025-11-12 05:42:54,120 - ispa_next.rkr_manager.state - DEBUG - Checking color in CBS positions
2025-11-12 05:42:58,315 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: success
2025-11-12 05:42:59,321 - ispa_next.functions - DEBUG - generate_attachments
2025-11-12 05:42:59,321 - ispa_next.functions - DEBUG - check_service_requirement
2025-11-12 05:42:59,321 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 05:42:59,396 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-12 05:43:03,502 - ispa_next.functions - DEBUG - check_service_requirement result: pdf_needed =False
2025-11-12 05:43:03,504 - ispa_next.wipers - DEBUG - handle_wiper_service_contracts
2025-11-12 05:43:03,506 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 05:43:03,572 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-12 05:43:04,079 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 05:43:04,584 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 05:43:04,586 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 05:43:05,186 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 05:43:05,186 - ispa_next.package_manager.main - DEBUG - updating cart content
2025-11-12 05:43:07,048 - ispa_next.package_manager.main - DEBUG - updating advice list content
2025-11-12 05:43:07,050 - ispa_next.package_manager.helper - DEBUG - get_advice_list_contents
2025-11-12 05:43:08,565 - ispa_next.package_manager.main - DEBUG - determining package movements
2025-11-12 05:43:08,565 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 05:43:08,567 - ispa_next.package_manager.main - DEBUG - Cannot place Beide Bremsscheiben hinten aus- und einbauen/erset: placement requirements not met
2025-11-12 05:43:08,569 - ispa_next.package_manager.main - DEBUG - Cannot place Beide Bremsscheiben vorn aus- und einbauen/ersetze: placement requirements not met
2025-11-12 05:43:08,569 - ispa_next.package_manager.main - DEBUG - found packages to cart: set()
2025-11-12 05:43:08,569 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 05:43:08,573 - ispa_next.package_manager.main - DEBUG - Cannot place Ladewunsch und Ladezustand: not present in source
2025-11-12 05:43:08,575 - ispa_next.package_manager.main - DEBUG - found packages to advice_list: set()
2025-11-12 05:43:08,577 - ispa_next.package_manager.main - DEBUG - determining package to delete
2025-11-12 05:43:08,579 - ispa_next.package_manager.main - DEBUG - found packages to delete: set()
2025-11-12 05:43:08,581 - ispa_next.package_manager.main - DEBUG - determining package to update
2025-11-12 05:43:08,583 - ispa_next.package_manager.main - DEBUG - found packages to update: set()
2025-11-12 05:43:08,585 - ispa_next.functions - DEBUG - verify_cart_packages_additional_texts
2025-11-12 05:43:08,587 - ispa_next.functions - DEBUG - check_cart_for_additional_text_packages
2025-11-12 05:43:08,587 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:43:10,478 - ispa_next.functions - DEBUG - handle_mobility_replacement
2025-11-12 05:43:10,480 - ispa_next.functions - DEBUG - verify_battery_in_motoroil_package
2025-11-12 05:43:10,483 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:43:12,352 - ispa_next.functions - DEBUG - verify_breaks_in_break_package
2025-11-12 05:43:12,352 - ispa_next.functions - DEBUG - verify breaks added if breaks service in cart
2025-11-12 05:43:12,354 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:43:14,240 - ispa_next.functions - DEBUG - process_check_control
2025-11-12 05:43:14,241 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Beanstandungen
2025-11-12 05:43:14,973 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Beanstandungen
2025-11-12 05:43:15,195 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:43:27,801 - ispa_next.functions - DEBUG - trying add_material_to_package
2025-11-12 05:43:27,803 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:43:29,772 - ispa_next.functions - DEBUG - notify_aw_increase_to_service_advisor
2025-11-12 05:43:40,119 - ispa_next.functions - DEBUG - check_cart_packages_for_parts_service_and_parts_availability
2025-11-12 05:43:40,656 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-12 05:43:41,289 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Abschluss
2025-11-12 05:43:41,383 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:43:58,354 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-12 05:44:01,765 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-12 05:44:01,767 - ispa_next.appointment_ending - DEBUG - entered complete process
2025-11-12 05:44:01,767 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 05:44:02,315 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-12 05:44:02,399 - ispa_next.common.shared - DEBUG - ISPA tab Abschluss is already open
2025-11-12 05:44:02,400 - ispa_next.appointment_ending - DEBUG - complete_process isn't exiting early.
2025-11-12 05:44:03,970 - ispa_next.appointment_ending - DEBUG - No need to assign service parts target.
2025-11-12 05:44:11,074 - ispa_next.appointment_ending - DEBUG - return from complete process straight to process_list with saving without error_dialog.
2025-11-12 05:44:11,466 - ispa_next.appointment_loop.main - DEBUG - Closing appointment 5.
2025-11-12 05:44:12,219 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 05:44:12,810 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 208
2025-11-12 05:44:12,810 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 1
2025-11-12 05:44:15,865 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 89
2025-11-12 05:44:15,866 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
