2025-11-12 05:07:34,105 - ispa_next.main - DEBUG - ISPA Next attempt (1 / 5)
2025-11-12 05:07:34,112 - overlays.client - INFO - Connected to overlay manager pipe
2025-11-12 05:07:43,197 - ispa_next.app_start.functions - DEBUG - handle_update_available
2025-11-12 05:07:54,262 - ispa_next.app_start.functions - DEBUG - has_ispa_errors
2025-11-12 05:08:09,885 - ispa_next.app_start.functions - DEBUG - authenticate_user
2025-11-12 05:08:41,837 - ispa_next.app_start.main - DEBUG - Login successful
2025-11-12 05:08:59,054 - ispa_next.appointments.functions - DEBUG - order_appointments_grid_by_created_at
2025-11-12 05:09:01,764 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 05:09:02,922 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 348
2025-11-12 05:09:02,924 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 69
2025-11-12 05:09:05,403 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 69
2025-11-12 05:09:05,403 - ispa_next.appointments.functions - DEBUG - recover_or_exit_IPS_error
2025-11-12 05:09:05,404 - ispa_next.appointments.functions - DEBUG - check_appointments_grid_for_IPS_error
2025-11-12 05:09:06,463 - ispa_next.appointments.functions - DEBUG - check_appointments_grid_for_IPS_error
2025-11-12 05:09:07,517 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 05:09:16,844 - ispa_next.appointments.models - DEBUG - Skipping appointment without VIN
2025-11-12 05:09:16,903 - ispa_next.appointments.models - DEBUG - Appointment Ömer Mayalar Herr WS-M 600 WBATX95010N026886 ohne Termin.
2025-11-12 05:09:16,904 - ispa_next.appointments.models - DEBUG - Skipping appointment without VIN
2025-11-12 05:09:16,914 - ispa_next.appointments.models - DEBUG - Appointment Waltraud Christina Huber Frau RO-TP 220 WBAYH11070EM74799 ohne Termin.
2025-11-12 05:09:16,921 - ispa_next.appointments.models - DEBUG - Appointment Reifschneider Johann Herr RO-XR 8888 WBA71AB0105S06300 ohne Termin.
2025-11-12 05:09:16,924 - ispa_next.appointments.models - DEBUG - Skipping appointment without VIN
2025-11-12 05:09:16,929 - ispa_next.appointments.models - DEBUG - Skipping appointment without VIN
2025-11-12 05:09:16,930 - ispa_next.appointments.models - DEBUG - Skipping appointment without VIN
2025-11-12 05:09:16,931 - ispa_next.appointments.models - DEBUG - Skipping appointment without VIN
2025-11-12 05:09:16,932 - ispa_next.appointments.models - DEBUG - Skipping appointment without VIN
2025-11-12 05:09:16,940 - ispa_next.appointments.models - DEBUG - Appointment Manfred Rappolder Herr MÜ-TE 2010 WBAJP51010BV48571 ohne Termin.
2025-11-12 05:09:16,947 - ispa_next.appointments.models - DEBUG - Appointment Bernd Hubert Klaus Nurtsch Herr MÜ-CO 25 E WBY8P610807K15051 ohne Termin.
2025-11-12 05:09:16,960 - ispa_next.appointments.models - DEBUG - Appointment Markus Ungar Herr EBE-U 400 WBA71BJ0X0WX30479 ohne Termin.
2025-11-12 05:09:16,960 - ispa_next.appointments.models - DEBUG - Skipping appointment without VIN
2025-11-12 05:09:16,965 - ispa_next.main - DEBUG - Found 2 out of 18 appointments to process (configured limit: 15).
2025-11-12 05:09:16,966 - ispa_next.main - DEBUG - Processing 0 fresh appointments.
2025-11-12 05:09:16,966 - ispa_next.main - DEBUG - Processing 2 already visited appointments (w/ RKR not callable).
2025-11-12 05:09:16,966 - ispa_next.main - DEBUG - All appointments: RO-LU 2010, WS-NJ 2021
2025-11-12 05:09:16,968 - ispa_next.main - DEBUG - 



2025-11-12 05:09:16,969 - ispa_next.main - DEBUG - starting with process 1 (RO-LU 2010) of 2
2025-11-12 05:09:16,986 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 05:09:18,082 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 05:09:19,255 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 348
2025-11-12 05:09:19,256 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 69
2025-11-12 05:09:20,521 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 1
2025-11-12 05:09:20,523 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 05:09:44,377 - ispa_next.rkr_manager.main - DEBUG - RemoteKeyReadManager initialized
2025-11-12 05:09:45,889 - ispa_next.appointments.functions - DEBUG - Appointment was already processed in the past.
2025-11-12 05:09:50,863 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 05:09:50,928 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 05:09:51,089 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:09:53,029 - ispa_next.functions - DEBUG - check_and_verify_hu_date
2025-11-12 05:09:53,032 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 05:09:53,105 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 05:09:53,285 - ispa_next.functions - DEBUG - HU date already expired after 142 days.
2025-11-12 05:09:56,968 - ispa_next.functions - DEBUG - check_potential_workshop_test
2025-11-12 05:09:56,972 - ispa_next.functions - DEBUG - check_vehicle_age_for_service_plus
2025-11-12 05:09:56,973 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 05:09:57,057 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 05:10:03,568 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 05:10:03,570 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 05:10:04,499 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 05:10:06,503 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-12 05:10:06,662 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-12 05:10:06,752 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-12 05:10:06,836 - ispa_next.rkr_manager.state - DEBUG - Getting cart and advice list contents
2025-11-12 05:10:06,838 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-12 05:10:14,957 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: non_blocking_wait
2025-11-12 05:10:15,962 - ispa_next.functions - DEBUG - handle_data_privacy_consent
2025-11-12 05:10:15,962 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 05:10:16,514 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 05:10:26,112 - ispa_next.functions - DEBUG - DSE icon is yellow
2025-11-12 05:10:28,910 - ispa_next.functions - DEBUG - transfer_customer_data_to_appointment
2025-11-12 05:10:28,912 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 05:10:28,990 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 05:10:28,990 - ispa_next.functions - DEBUG - fetch_customer_data
2025-11-12 05:10:29,051 - ispa_next.functions - DEBUG - fetch_customer_data_from_bmw_id
2025-11-12 05:10:29,140 - ispa_next.functions - DEBUG - fetch_customer_data_from_dms
2025-11-12 05:10:30,254 - ispa_next.functions - DEBUG - All data found, skipping remaining sources
2025-11-12 05:10:30,500 - ispa_next.functions - DEBUG - copy_customer_data_to_appointment
2025-11-12 05:10:32,072 - ispa_next.functions - DEBUG - Updated appointment (AJ00018101) customer contact data.
2025-11-12 05:10:32,984 - ispa_next.functions - DEBUG - check_for_alpina_vehicle
2025-11-12 05:10:32,986 - ispa_next.functions - DEBUG - check_bmw_id_add_to_list
2025-11-12 05:10:33,070 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-12 05:10:33,721 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Fahrzeugzustand
2025-11-12 05:10:34,651 - ispa_next.functions - DEBUG - check_home_dealer_add_to_list
2025-11-12 05:10:34,653 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-12 05:10:34,730 - ispa_next.common.shared - DEBUG - ISPA tab Fahrzeugzustand is already open
2025-11-12 05:10:38,373 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 05:10:38,374 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 05:10:38,923 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 05:10:40,928 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-12 05:10:41,079 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-12 05:10:41,170 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-12 05:10:41,271 - ispa_next.rkr_manager.state - DEBUG - Getting cart and advice list contents
2025-11-12 05:10:41,271 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-12 05:10:49,320 - ispa_next.rkr_manager.state - DEBUG - Waiting for timeout to pass
2025-11-12 05:11:49,323 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-12 05:11:57,200 - ispa_next.rkr_manager.state - DEBUG - Waiting for timeout to pass
2025-11-12 05:12:45,202 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-12 05:12:53,188 - ispa_next.rkr_manager.state - DEBUG - Cannot call from RKR
2025-11-12 05:12:59,640 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: rkr_not_successfull
2025-11-12 05:13:00,644 - ispa_next.functions - DEBUG - generate_attachments
2025-11-12 05:13:00,646 - ispa_next.functions - DEBUG - check_service_requirement
2025-11-12 05:13:00,646 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 05:13:00,719 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-12 05:13:04,895 - ispa_next.functions - DEBUG - check_service_requirement result: pdf_needed =False
2025-11-12 05:13:04,897 - ispa_next.wipers - DEBUG - handle_wiper_service_contracts
2025-11-12 05:13:04,897 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 05:13:04,978 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-12 05:13:05,337 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 05:13:05,816 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 05:13:05,816 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 05:13:06,410 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 05:13:06,412 - ispa_next.package_manager.main - DEBUG - updating cart content
2025-11-12 05:13:08,231 - ispa_next.package_manager.main - DEBUG - updating advice list content
2025-11-12 05:13:08,233 - ispa_next.package_manager.helper - DEBUG - get_advice_list_contents
2025-11-12 05:13:09,491 - ispa_next.package_manager.main - DEBUG - determining package movements
2025-11-12 05:13:09,491 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 05:13:09,493 - ispa_next.package_manager.main - DEBUG - Cannot place Beide Bremsscheiben hinten aus- und einbauen/erset: placement requirements not met
2025-11-12 05:13:09,495 - ispa_next.package_manager.main - DEBUG - Cannot place Beide Bremsscheiben vorn aus- und einbauen/ersetze: placement requirements not met
2025-11-12 05:13:09,496 - ispa_next.package_manager.main - DEBUG - found packages to cart: set()
2025-11-12 05:13:09,498 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 05:13:09,502 - ispa_next.package_manager.main - DEBUG - Cannot place Ladewunsch und Ladezustand: not present in source
2025-11-12 05:13:09,504 - ispa_next.package_manager.main - DEBUG - found packages to advice_list: set()
2025-11-12 05:13:09,506 - ispa_next.package_manager.main - DEBUG - determining package to delete
2025-11-12 05:13:09,508 - ispa_next.package_manager.main - DEBUG - found packages to delete: set()
2025-11-12 05:13:09,508 - ispa_next.package_manager.main - DEBUG - determining package to update
2025-11-12 05:13:09,510 - ispa_next.package_manager.main - DEBUG - found packages to update: set()
2025-11-12 05:13:09,513 - ispa_next.functions - DEBUG - verify_cart_packages_additional_texts
2025-11-12 05:13:09,513 - ispa_next.functions - DEBUG - check_cart_for_additional_text_packages
2025-11-12 05:13:09,513 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:13:11,422 - ispa_next.functions - DEBUG - handle_mobility_replacement
2025-11-12 05:13:11,423 - ispa_next.functions - DEBUG - verify_battery_in_motoroil_package
2025-11-12 05:13:11,425 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:13:13,402 - ispa_next.functions - DEBUG - verify_breaks_in_break_package
2025-11-12 05:13:13,402 - ispa_next.functions - DEBUG - verify breaks added if breaks service in cart
2025-11-12 05:13:13,408 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:13:15,259 - ispa_next.functions - DEBUG - process_check_control
2025-11-12 05:13:15,260 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Beanstandungen
2025-11-12 05:13:15,995 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Beanstandungen
2025-11-12 05:13:16,039 - ispa_next.functions - DEBUG - trying add_material_to_package
2025-11-12 05:13:16,041 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:13:17,911 - ispa_next.functions - DEBUG - notify_aw_increase_to_service_advisor
2025-11-12 05:13:28,538 - ispa_next.functions - DEBUG - check_cart_packages_for_parts_service_and_parts_availability
2025-11-12 05:13:28,540 - ispa_next.appointment_ending - DEBUG - entered complete process
2025-11-12 05:13:28,540 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 05:13:28,857 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-12 05:13:29,389 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Abschluss
2025-11-12 05:13:29,389 - ispa_next.appointment_ending - DEBUG - complete_process isn't exiting early.
2025-11-12 05:13:30,824 - ispa_next.appointment_ending - DEBUG - No need to assign service parts target.
2025-11-12 05:13:38,758 - ispa_next.appointment_ending - DEBUG - return from complete process straight to process_list with saving without error_dialog.
2025-11-12 05:13:39,138 - ispa_next.appointment_loop.main - DEBUG - Closing appointment 1.
2025-11-12 05:13:39,538 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 05:13:40,330 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 348
2025-11-12 05:13:40,330 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 1
2025-11-12 05:13:43,109 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 69
2025-11-12 05:13:43,110 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 05:13:44,164 - ispa_next.appointments.models - DEBUG - Skipping appointment without VIN
2025-11-12 05:13:44,173 - ispa_next.appointments.models - DEBUG - Appointment Ömer Mayalar Herr WS-M 600 WBATX95010N026886 ohne Termin.
2025-11-12 05:13:44,174 - ispa_next.appointments.models - DEBUG - Skipping appointment without VIN
2025-11-12 05:13:44,177 - ispa_next.main - DEBUG - 



2025-11-12 05:13:44,177 - ispa_next.main - DEBUG - starting with process 2 (WS-NJ 2021) of 2
2025-11-12 05:13:44,181 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 05:13:45,226 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 05:13:46,414 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 348
2025-11-12 05:13:46,415 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 69
2025-11-12 05:13:47,405 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 1
2025-11-12 05:13:47,406 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 05:14:18,091 - ispa_next.rkr_manager.main - DEBUG - RemoteKeyReadManager initialized
2025-11-12 05:14:20,135 - ispa_next.appointments.functions - DEBUG - Appointment was already processed in the past.
2025-11-12 05:14:24,524 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:14:27,745 - ispa_next.functions - DEBUG - check_and_verify_hu_date
2025-11-12 05:14:27,745 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 05:14:27,836 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 05:14:28,007 - ispa_next.functions - DEBUG - HU date soon to be invalid in 50 days.
2025-11-12 05:14:31,244 - ispa_next.functions - DEBUG - check_potential_workshop_test
2025-11-12 05:14:31,247 - ispa_next.functions - DEBUG - check_vehicle_age_for_service_plus
2025-11-12 05:14:31,248 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 05:14:31,315 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 05:14:34,448 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 05:14:34,450 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 05:14:35,821 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 05:14:37,827 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-12 05:14:37,959 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-12 05:14:38,110 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-12 05:14:38,203 - ispa_next.rkr_manager.state - DEBUG - Getting cart and advice list contents
2025-11-12 05:14:38,205 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-12 05:14:46,487 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: non_blocking_wait
2025-11-12 05:14:47,491 - ispa_next.functions - DEBUG - handle_data_privacy_consent
2025-11-12 05:14:47,493 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 05:14:48,010 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 05:15:00,788 - ispa_next.functions - DEBUG - DSE icon is red
2025-11-12 05:15:04,344 - ispa_next.functions - DEBUG - transfer_customer_data_to_appointment
2025-11-12 05:15:04,346 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 05:15:04,424 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 05:15:04,424 - ispa_next.functions - DEBUG - fetch_customer_data
2025-11-12 05:15:04,458 - ispa_next.functions - DEBUG - fetch_customer_data_from_bmw_id
2025-11-12 05:15:05,668 - ispa_next.functions - DEBUG - All data found, skipping remaining sources
2025-11-12 05:15:05,928 - ispa_next.functions - DEBUG - copy_customer_data_to_appointment
2025-11-12 05:15:08,714 - ispa_next.functions - DEBUG - Updated appointment (AB00084146) customer contact data.
2025-11-12 05:15:09,678 - ispa_next.functions - DEBUG - check_for_alpina_vehicle
2025-11-12 05:15:09,680 - ispa_next.functions - DEBUG - check_bmw_id_add_to_list
2025-11-12 05:15:10,286 - ispa_next.functions - DEBUG - check_home_dealer_add_to_list
2025-11-12 05:15:10,286 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-12 05:15:11,016 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Fahrzeugzustand
2025-11-12 05:15:15,014 - ispa_next.functions - DEBUG - Home dealer assignment button not available
2025-11-12 05:15:15,014 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 05:15:15,015 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 05:15:15,564 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 05:15:17,568 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-12 05:15:17,671 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-12 05:15:17,749 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-12 05:15:17,828 - ispa_next.rkr_manager.state - DEBUG - Getting cart and advice list contents
2025-11-12 05:15:17,828 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-12 05:15:29,171 - ispa_next.rkr_manager.helper - DEBUG - Found button 'Schlüsseldaten überschreiben und öffnen (Empfohlen)' in nested popup
2025-11-12 05:15:33,448 - ispa_next.rkr_manager.state - DEBUG - Checking cart items after successfull RKR
2025-11-12 05:15:33,448 - ispa_next.rkr_manager.state - DEBUG - Checking color in CBS positions
2025-11-12 05:15:37,643 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: success
2025-11-12 05:15:38,648 - ispa_next.functions - DEBUG - generate_attachments
2025-11-12 05:15:38,648 - ispa_next.functions - DEBUG - check_service_requirement
2025-11-12 05:15:38,650 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 05:15:38,737 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-12 05:15:42,892 - ispa_next.functions - DEBUG - check_service_requirement result: pdf_needed =True
2025-11-12 05:15:46,252 - ispa_next.wipers - DEBUG - handle_wiper_service_contracts
2025-11-12 05:15:46,252 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 05:15:46,315 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-12 05:15:53,605 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 05:15:54,117 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 05:15:54,142 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 05:15:54,750 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 05:15:54,750 - ispa_next.package_manager.main - DEBUG - updating cart content
2025-11-12 05:15:57,759 - ispa_next.package_manager.main - DEBUG - updating advice list content
2025-11-12 05:15:57,762 - ispa_next.package_manager.helper - DEBUG - get_advice_list_contents
2025-11-12 05:15:58,828 - ispa_next.package_manager.main - DEBUG - determining package movements
2025-11-12 05:15:58,830 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 05:15:58,830 - ispa_next.package_manager.main - DEBUG - Cannot place Beide Bremsscheiben hinten aus- und einbauen/erset: placement requirements not met
2025-11-12 05:15:58,832 - ispa_next.package_manager.main - DEBUG - Cannot place Beide Bremsscheiben vorn aus- und einbauen/ersetze: placement requirements not met
2025-11-12 05:15:58,832 - ispa_next.package_manager.main - DEBUG - found packages to cart: set()
2025-11-12 05:15:58,834 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 05:15:58,836 - ispa_next.package_manager.main - DEBUG - Cannot place Ladewunsch und Ladezustand: not present in source
2025-11-12 05:15:58,840 - ispa_next.package_manager.main - DEBUG - found packages to advice_list: set()
2025-11-12 05:15:58,842 - ispa_next.package_manager.main - DEBUG - determining package to delete
2025-11-12 05:15:58,846 - ispa_next.package_manager.main - DEBUG - found packages to delete: set()
2025-11-12 05:15:58,848 - ispa_next.package_manager.main - DEBUG - determining package to update
2025-11-12 05:15:58,854 - ispa_next.package_manager.main - DEBUG - found packages to update: set()
2025-11-12 05:15:58,856 - ispa_next.functions - DEBUG - verify_cart_packages_additional_texts
2025-11-12 05:15:58,856 - ispa_next.functions - DEBUG - check_cart_for_additional_text_packages
2025-11-12 05:15:58,858 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:16:02,139 - ispa_next.functions - DEBUG - handle_mobility_replacement
2025-11-12 05:16:02,141 - ispa_next.functions - DEBUG - verify_battery_in_motoroil_package
2025-11-12 05:16:02,143 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:16:05,408 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 05:16:05,485 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-12 05:16:15,813 - ispa_next.functions - DEBUG - verify_breaks_in_break_package
2025-11-12 05:16:15,813 - ispa_next.functions - DEBUG - verify breaks added if breaks service in cart
2025-11-12 05:16:15,817 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:16:19,150 - ispa_next.functions - DEBUG - process_check_control
2025-11-12 05:16:19,150 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Beanstandungen
2025-11-12 05:16:19,849 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Beanstandungen
2025-11-12 05:16:20,121 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:16:32,212 - ispa_next.functions - DEBUG - trying add_material_to_package
2025-11-12 05:16:32,216 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:16:35,442 - ispa_next.functions - DEBUG - notify_aw_increase_to_service_advisor
2025-11-12 05:16:44,982 - ispa_next.functions - DEBUG - check_cart_packages_for_parts_service_and_parts_availability
2025-11-12 05:16:44,982 - ispa_next.appointment_ending - DEBUG - entered complete process
2025-11-12 05:16:44,984 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 05:16:45,434 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-12 05:16:45,983 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Abschluss
2025-11-12 05:16:45,985 - ispa_next.appointment_ending - DEBUG - complete_process isn't exiting early.
2025-11-12 05:16:47,627 - ispa_next.appointment_ending - DEBUG - No need to assign service parts target.
2025-11-12 05:16:53,927 - ispa_next.appointment_ending - DEBUG - return from complete process straight to process_list with saving without error_dialog.
2025-11-12 05:16:54,323 - ispa_next.appointment_loop.main - DEBUG - Closing appointment 2.
2025-11-12 05:16:55,296 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 05:16:55,738 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 348
2025-11-12 05:16:55,738 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 1
2025-11-12 05:16:58,125 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 69
2025-11-12 05:16:58,125 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 05:16:58,790 - ispa_next.appointments.models - DEBUG - Skipping appointment without VIN
2025-11-12 05:16:58,802 - ispa_next.appointments.models - DEBUG - Appointment Ömer Mayalar Herr WS-M 600 WBATX95010N026886 ohne Termin.
2025-11-12 05:16:58,803 - ispa_next.appointments.models - DEBUG - Skipping appointment without VIN
