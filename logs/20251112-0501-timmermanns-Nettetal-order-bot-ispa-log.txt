2025-11-12 05:22:25,636 - ispa_next.main - DEBUG - ISPA Next attempt (1 / 5)
2025-11-12 05:22:25,643 - overlays.client - INFO - Connected to overlay manager pipe
2025-11-12 05:22:46,945 - ispa_next.app_start.functions - DEBUG - handle_update_available
2025-11-12 05:23:04,973 - ispa_next.app_start.functions - DEBUG - has_ispa_errors
2025-11-12 05:23:23,175 - ispa_next.app_start.functions - DEBUG - authenticate_user
2025-11-12 05:25:35,372 - ispa_next.app_start.main - DEBUG - Operation already took 117.36 seconds (more than 80 seconds)
2025-11-12 05:25:37,472 - pytesseract - DEBUG - ['tesseract', 'C:\\Users\\azureuser\\AppData\\Local\\robocorp\\temp\\c6d3e49a5aba26c2\\tess_mdwj65p2_input.PNG', 'C:\\Users\\azureuser\\AppData\\Local\\robocorp\\temp\\c6d3e49a5aba26c2\\tess_mdwj65p2', 'txt']
2025-11-12 05:25:37,497 - ispa_next.app_start.main - DEBUG - Exception occurred: tesseract is not installed or it's not in your PATH. See README file for more information.
2025-11-12 05:25:37,499 - ispa_next.app_start.functions - DEBUG - authenticate_user
2025-11-12 05:26:14,061 - ispa_next.app_start.main - DEBUG - Login successful
2025-11-12 05:26:35,603 - ispa_next.appointments.functions - DEBUG - order_appointments_grid_by_created_at
2025-11-12 05:26:39,051 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 05:26:40,936 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 774
2025-11-12 05:26:40,938 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 379
2025-11-12 05:26:44,091 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 100
2025-11-12 05:26:44,092 - ispa_next.appointments.functions - DEBUG - recover_or_exit_IPS_error
2025-11-12 05:26:44,093 - ispa_next.appointments.functions - DEBUG - check_appointments_grid_for_IPS_error
2025-11-12 05:26:45,665 - ispa_next.appointments.functions - DEBUG - check_appointments_grid_for_IPS_error
2025-11-12 05:26:47,177 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 05:27:08,981 - ispa_next.appointments.models - DEBUG - Couldn't parse Appointment Jaffar Karimi KK.KK.210 WBA7M910905R43994, 1 validation error for Appointment
Kennzeichen
  Value error, 'Kennzeichen' includes unallowed special characters. [type=value_error, input_value='KK.KK.210', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/value_error
2025-11-12 05:27:09,015 - ispa_next.appointments.models - DEBUG - Appointment Jens Melis VIE-EJ 109 WBA5J71080GZ77644 ohne Termin.
2025-11-12 05:27:09,032 - ispa_next.appointments.models - DEBUG - Appointment Frank Felscher VIE-F 815 WBA6L31010FJ48668 ohne Termin.
2025-11-12 05:27:09,056 - ispa_next.appointments.models - DEBUG - Skipping appointment without VIN
2025-11-12 05:27:09,062 - ispa_next.appointments.models - DEBUG - Skipping appointment without VIN
2025-11-12 05:27:09,141 - ispa_next.appointments.models - DEBUG - Appointment Herbert Trienekens & Partner VIE-T 1515 WBA15BZ040N231326 ohne Termin.
2025-11-12 05:27:09,152 - ispa_next.main - DEBUG - Found 6 out of 7 appointments to process (configured limit: 15).
2025-11-12 05:27:09,152 - ispa_next.main - DEBUG - Processing 3 fresh appointments.
2025-11-12 05:27:09,153 - ispa_next.main - DEBUG - Processing 3 already visited appointments (w/ RKR not callable).
2025-11-12 05:27:09,153 - ispa_next.main - DEBUG - All appointments: VIE ZK 440, MG-MN1181, kk-lt 6, VIE-TI 700, VIE-O 2414, KK-MP 56
2025-11-12 05:27:09,156 - ispa_next.main - DEBUG - 



2025-11-12 05:27:09,156 - ispa_next.main - DEBUG - starting with process 1 (VIE ZK 440) of 6
2025-11-12 05:27:09,161 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 05:27:10,602 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 05:27:12,220 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 774
2025-11-12 05:27:12,222 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 100
2025-11-12 05:27:14,111 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 1
2025-11-12 05:27:14,112 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 05:27:55,993 - ispa_next.appointment_loop.main - DEBUG - Appointment failed: Traceback (most recent call last):
  File "C:\Users\azureuser\AppData\Local\automizor\runner\ispa_next\appointment_loop\main.py", line 43, in process_appointment
    handle_briefing_screen(element=app)
  File "C:\Users\azureuser\AppData\Local\automizor\runner\ispa_next\appointments\functions.py", line 160, in handle_briefing_screen
    raise AppointmentNotSynchronized(
ispa_next.exceptions.AppointmentNotSynchronized: Appointment is not properly synchronized with DMS, proceed with the next one.

2025-11-12 05:27:56,139 - ispa_next.appointment_loop.main - DEBUG - Closing appointment 1.
2025-11-12 05:27:56,144 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 05:27:56,845 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 774
2025-11-12 05:27:56,847 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 1
2025-11-12 05:28:00,055 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 379
2025-11-12 05:28:00,056 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 05:28:01,205 - ispa_next.appointments.models - DEBUG - Couldn't parse Appointment Jaffar Karimi KK.KK.210 WBA7M910905R43994, 1 validation error for Appointment
Kennzeichen
  Value error, 'Kennzeichen' includes unallowed special characters. [type=value_error, input_value='KK.KK.210', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/value_error
2025-11-12 05:28:01,212 - ispa_next.appointments.models - DEBUG - Appointment christoph Herzberg D-CH 704 WBA6L51020FH94901 ohne Termin.
2025-11-12 05:28:01,219 - ispa_next.appointments.models - DEBUG - Appointment Annelies Maas X-035-JR WMW21DH0602R35252 ohne Termin.
2025-11-12 05:28:01,226 - ispa_next.appointments.models - DEBUG - Appointment Marcel Lattik KK-ML 525 WBAJN11000BE38810 ohne Termin.
2025-11-12 05:28:01,228 - ispa_next.main - DEBUG - 



2025-11-12 05:28:01,228 - ispa_next.main - DEBUG - starting with process 2 (MG-MN1181) of 6
2025-11-12 05:28:01,231 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 05:28:02,765 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 05:28:04,466 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 774
2025-11-12 05:28:04,467 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 379
2025-11-12 05:28:06,405 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 1
2025-11-12 05:28:06,407 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 05:28:42,268 - ispa_next.appointment_loop.main - DEBUG - Appointment failed: Traceback (most recent call last):
  File "C:\Users\azureuser\AppData\Local\automizor\runner\ispa_next\appointment_loop\main.py", line 43, in process_appointment
    handle_briefing_screen(element=app)
  File "C:\Users\azureuser\AppData\Local\automizor\runner\ispa_next\appointments\functions.py", line 160, in handle_briefing_screen
    raise AppointmentNotSynchronized(
ispa_next.exceptions.AppointmentNotSynchronized: Appointment is not properly synchronized with DMS, proceed with the next one.

2025-11-12 05:28:42,280 - ispa_next.appointment_loop.main - DEBUG - Closing appointment 2.
2025-11-12 05:28:42,286 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 05:28:42,965 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 774
2025-11-12 05:28:42,967 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 1
2025-11-12 05:28:46,200 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 379
2025-11-12 05:28:46,201 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 05:28:47,218 - ispa_next.appointments.models - DEBUG - Couldn't parse Appointment Jaffar Karimi KK.KK.210 WBA7M910905R43994, 1 validation error for Appointment
Kennzeichen
  Value error, 'Kennzeichen' includes unallowed special characters. [type=value_error, input_value='KK.KK.210', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/value_error
2025-11-12 05:28:47,228 - ispa_next.appointments.models - DEBUG - Appointment christoph Herzberg D-CH 704 WBA6L51020FH94901 ohne Termin.
2025-11-12 05:28:47,234 - ispa_next.appointments.models - DEBUG - Appointment Annelies Maas X-035-JR WMW21DH0602R35252 ohne Termin.
2025-11-12 05:28:47,241 - ispa_next.appointments.models - DEBUG - Appointment Marcel Lattik KK-ML 525 WBAJN11000BE38810 ohne Termin.
2025-11-12 05:28:47,244 - ispa_next.main - DEBUG - 



2025-11-12 05:28:47,244 - ispa_next.main - DEBUG - starting with process 3 (kk-lt 6) of 6
2025-11-12 05:28:47,247 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 05:28:48,781 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 05:28:50,569 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 774
2025-11-12 05:28:50,571 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 379
2025-11-12 05:28:52,347 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 1
2025-11-12 05:28:52,349 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 05:29:25,148 - ispa_next.appointment_loop.main - DEBUG - Appointment failed: Traceback (most recent call last):
  File "C:\Users\azureuser\AppData\Local\automizor\runner\ispa_next\appointment_loop\main.py", line 43, in process_appointment
    handle_briefing_screen(element=app)
  File "C:\Users\azureuser\AppData\Local\automizor\runner\ispa_next\appointments\functions.py", line 160, in handle_briefing_screen
    raise AppointmentNotSynchronized(
ispa_next.exceptions.AppointmentNotSynchronized: Appointment is not properly synchronized with DMS, proceed with the next one.

2025-11-12 05:29:25,158 - ispa_next.appointment_loop.main - DEBUG - Closing appointment 3.
2025-11-12 05:29:25,162 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 05:29:25,671 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 774
2025-11-12 05:29:25,673 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 1
2025-11-12 05:29:29,126 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 379
2025-11-12 05:29:29,127 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 05:29:30,195 - ispa_next.appointments.models - DEBUG - Couldn't parse Appointment Jaffar Karimi KK.KK.210 WBA7M910905R43994, 1 validation error for Appointment
Kennzeichen
  Value error, 'Kennzeichen' includes unallowed special characters. [type=value_error, input_value='KK.KK.210', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/value_error
2025-11-12 05:29:30,206 - ispa_next.appointments.models - DEBUG - Appointment christoph Herzberg D-CH 704 WBA6L51020FH94901 ohne Termin.
2025-11-12 05:29:30,216 - ispa_next.appointments.models - DEBUG - Appointment Annelies Maas X-035-JR WMW21DH0602R35252 ohne Termin.
2025-11-12 05:29:30,224 - ispa_next.appointments.models - DEBUG - Appointment Marcel Lattik KK-ML 525 WBAJN11000BE38810 ohne Termin.
2025-11-12 05:29:30,227 - ispa_next.main - DEBUG - 



2025-11-12 05:29:30,227 - ispa_next.main - DEBUG - starting with process 4 (VIE-TI 700) of 6
2025-11-12 05:29:30,230 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 05:29:31,738 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 05:29:33,413 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 774
2025-11-12 05:29:33,415 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 379
2025-11-12 05:29:35,207 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 1
2025-11-12 05:29:35,209 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 05:30:06,376 - ispa_next.rkr_manager.main - DEBUG - RemoteKeyReadManager initialized
2025-11-12 05:30:08,828 - ispa_next.appointments.functions - DEBUG - Appointment was already processed in the past.
2025-11-12 05:30:14,484 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:30:16,537 - ispa_next.functions - DEBUG - check_and_verify_hu_date
2025-11-12 05:30:16,538 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 05:30:16,634 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 05:30:17,078 - ispa_next.functions - DEBUG - check_potential_workshop_test
2025-11-12 05:30:17,082 - ispa_next.functions - DEBUG - check_vehicle_age_for_service_plus
2025-11-12 05:30:20,049 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 05:30:20,051 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 05:30:21,616 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 05:30:23,619 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-12 05:30:23,791 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-12 05:30:23,891 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-12 05:30:23,998 - ispa_next.rkr_manager.state - DEBUG - Getting cart and advice list contents
2025-11-12 05:30:24,000 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:30:26,074 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-12 05:30:34,894 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: non_blocking_wait
2025-11-12 05:30:35,899 - ispa_next.functions - DEBUG - handle_data_privacy_consent
2025-11-12 05:30:35,900 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 05:30:36,477 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 05:30:51,176 - ispa_next.functions - DEBUG - DSE icon is yellow
2025-11-12 05:30:51,176 - ispa_next.functions - DEBUG - DSE dealer channels are valid
2025-11-12 05:30:55,934 - ispa_next.functions - DEBUG - transfer_customer_data_to_appointment
2025-11-12 05:30:55,953 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 05:30:56,035 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 05:30:56,036 - ispa_next.functions - DEBUG - fetch_customer_data
2025-11-12 05:30:56,115 - ispa_next.functions - DEBUG - fetch_customer_data_from_bmw_id
2025-11-12 05:30:57,673 - ispa_next.functions - DEBUG - fetch_customer_data_from_dms
2025-11-12 05:30:59,361 - ispa_next.functions - DEBUG - All data found, skipping remaining sources
2025-11-12 05:31:00,152 - ispa_next.functions - DEBUG - copy_customer_data_to_appointment
2025-11-12 05:31:01,855 - ispa_next.functions - DEBUG - Updated appointment (AA00025175) customer contact data.
2025-11-12 05:31:02,802 - ispa_next.functions - DEBUG - check_for_alpina_vehicle
2025-11-12 05:31:02,804 - ispa_next.functions - DEBUG - check_bmw_id_add_to_list
2025-11-12 05:31:03,793 - ispa_next.functions - DEBUG - check_home_dealer_add_to_list
2025-11-12 05:31:03,794 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-12 05:31:04,838 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Fahrzeugzustand
2025-11-12 05:31:08,609 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 05:31:08,611 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 05:31:09,146 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 05:31:11,149 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-12 05:31:11,289 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-12 05:31:11,437 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-12 05:31:11,570 - ispa_next.rkr_manager.state - DEBUG - Getting cart and advice list contents
2025-11-12 05:31:11,572 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:31:13,639 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-12 05:31:22,203 - ispa_next.rkr_manager.state - DEBUG - Waiting for timeout to pass
2025-11-12 05:32:22,206 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-12 05:32:34,136 - ispa_next.rkr_manager.helper - DEBUG - Found button 'Schlüsseldaten überschreiben und öffnen (Empfohlen)' in nested popup
2025-11-12 05:32:38,706 - ispa_next.rkr_manager.state - DEBUG - Checking cart items after successfull RKR
2025-11-12 05:32:38,707 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:32:40,763 - ispa_next.rkr_manager.state - DEBUG - Checking color in CBS positions
2025-11-12 05:32:44,986 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: success
2025-11-12 05:32:45,992 - ispa_next.functions - DEBUG - generate_attachments
2025-11-12 05:32:45,995 - ispa_next.wipers - DEBUG - handle_wiper_service_contracts
2025-11-12 05:32:45,996 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 05:32:46,181 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-12 05:32:46,558 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 05:32:47,094 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 05:32:47,095 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 05:32:47,924 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 05:32:47,925 - ispa_next.package_manager.main - DEBUG - updating cart content
2025-11-12 05:32:49,954 - ispa_next.package_manager.main - DEBUG - updating advice list content
2025-11-12 05:32:49,956 - ispa_next.package_manager.helper - DEBUG - get_advice_list_contents
2025-11-12 05:32:51,209 - ispa_next.package_manager.main - DEBUG - determining package movements
2025-11-12 05:32:51,212 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 05:32:51,216 - ispa_next.package_manager.main - DEBUG - Cannot place Ölwechsel im Doppelkupplungsgetriebe inkl. Altölen: placement requirements not met
2025-11-12 05:32:51,219 - ispa_next.package_manager.main - DEBUG - found packages to cart: set()
2025-11-12 05:32:51,222 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 05:32:51,227 - ispa_next.package_manager.main - DEBUG - Cannot place Ladewunsch und Ladezustand: not present in source
2025-11-12 05:32:51,230 - ispa_next.package_manager.main - DEBUG - found packages to advice_list: set()
2025-11-12 05:32:51,231 - ispa_next.package_manager.main - DEBUG - determining package to delete
2025-11-12 05:32:51,234 - ispa_next.package_manager.main - DEBUG - found packages to delete: set()
2025-11-12 05:32:51,235 - ispa_next.package_manager.main - DEBUG - determining package to update
2025-11-12 05:32:51,237 - ispa_next.package_manager.main - DEBUG - found packages to update: set()
2025-11-12 05:32:51,240 - ispa_next.functions - DEBUG - verify_cart_packages_additional_texts
2025-11-12 05:32:51,242 - ispa_next.functions - DEBUG - check_cart_for_additional_text_packages
2025-11-12 05:32:51,242 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:32:53,332 - ispa_next.functions - DEBUG - handle_mobility_replacement
2025-11-12 05:32:53,334 - ispa_next.functions - DEBUG - verify_battery_in_motoroil_package
2025-11-12 05:32:53,355 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:32:55,786 - ispa_next.functions - DEBUG - verify_breaks_in_break_package
2025-11-12 05:32:55,788 - ispa_next.functions - DEBUG - process_check_control
2025-11-12 05:32:55,789 - ispa_next.functions - DEBUG - trying add_material_to_package
2025-11-12 05:32:55,791 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:32:57,760 - ispa_next.functions - DEBUG - notify_aw_increase_to_service_advisor
2025-11-12 05:33:13,812 - ispa_next.functions - DEBUG - check_cart_packages_for_parts_service_and_parts_availability
2025-11-12 05:33:14,533 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-12 05:33:15,493 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Abschluss
2025-11-12 05:33:15,760 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:33:34,587 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-12 05:33:40,168 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-12 05:33:40,171 - ispa_next.appointment_ending - DEBUG - entered complete process
2025-11-12 05:33:40,171 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 05:33:40,979 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-12 05:33:41,068 - ispa_next.common.shared - DEBUG - ISPA tab Abschluss is already open
2025-11-12 05:33:41,069 - ispa_next.appointment_ending - DEBUG - complete_process isn't exiting early.
2025-11-12 05:33:43,276 - ispa_next.appointment_ending - DEBUG - No need to assign service parts target.
2025-11-12 05:33:54,930 - ispa_next.appointment_ending - DEBUG - return from complete process straight to process_list with saving without error_dialog.
2025-11-12 05:33:55,331 - ispa_next.appointment_loop.main - DEBUG - Closing appointment 4.
2025-11-12 05:33:56,526 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 05:33:57,365 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 774
2025-11-12 05:33:57,366 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 1
2025-11-12 05:34:01,184 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 379
2025-11-12 05:34:01,185 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 05:34:02,140 - ispa_next.appointments.models - DEBUG - Couldn't parse Appointment Jaffar Karimi KK.KK.210 WBA7M910905R43994, 1 validation error for Appointment
Kennzeichen
  Value error, 'Kennzeichen' includes unallowed special characters. [type=value_error, input_value='KK.KK.210', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/value_error
2025-11-12 05:34:02,155 - ispa_next.appointments.models - DEBUG - Appointment christoph Herzberg D-CH 704 WBA6L51020FH94901 ohne Termin.
2025-11-12 05:34:02,164 - ispa_next.appointments.models - DEBUG - Appointment Annelies Maas X-035-JR WMW21DH0602R35252 ohne Termin.
2025-11-12 05:34:02,174 - ispa_next.appointments.models - DEBUG - Appointment Marcel Lattik KK-ML 525 WBAJN11000BE38810 ohne Termin.
2025-11-12 05:34:02,178 - ispa_next.main - DEBUG - 



2025-11-12 05:34:02,178 - ispa_next.main - DEBUG - starting with process 5 (VIE-O 2414) of 6
2025-11-12 05:34:02,182 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 05:34:03,741 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 05:34:05,450 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 774
2025-11-12 05:34:05,451 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 379
2025-11-12 05:34:07,023 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 1
2025-11-12 05:34:07,025 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 05:34:44,978 - ispa_next.rkr_manager.main - DEBUG - RemoteKeyReadManager initialized
2025-11-12 05:34:47,345 - ispa_next.appointments.functions - DEBUG - Appointment was already processed in the past.
2025-11-12 05:34:52,774 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:34:54,737 - ispa_next.functions - DEBUG - check_and_verify_hu_date
2025-11-12 05:34:54,737 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 05:34:54,852 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 05:34:55,207 - ispa_next.functions - DEBUG - HU date already expired after 164 days.
2025-11-12 05:34:59,911 - ispa_next.functions - DEBUG - check_potential_workshop_test
2025-11-12 05:34:59,915 - ispa_next.functions - DEBUG - check_vehicle_age_for_service_plus
2025-11-12 05:35:03,040 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 05:35:03,042 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 05:35:04,409 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 05:35:06,412 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-12 05:35:06,564 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-12 05:35:06,667 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-12 05:35:06,773 - ispa_next.rkr_manager.state - DEBUG - Getting cart and advice list contents
2025-11-12 05:35:06,775 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:35:08,807 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-12 05:35:17,618 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: non_blocking_wait
2025-11-12 05:35:18,621 - ispa_next.functions - DEBUG - handle_data_privacy_consent
2025-11-12 05:35:18,622 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 05:35:19,143 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 05:35:33,665 - ispa_next.functions - DEBUG - DSE icon is yellow
2025-11-12 05:35:38,871 - ispa_next.functions - DEBUG - transfer_customer_data_to_appointment
2025-11-12 05:35:38,874 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 05:35:39,176 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 05:35:39,177 - ispa_next.functions - DEBUG - fetch_customer_data
2025-11-12 05:35:39,283 - ispa_next.functions - DEBUG - fetch_customer_data_from_bmw_id
2025-11-12 05:35:41,444 - ispa_next.functions - DEBUG - All data found, skipping remaining sources
2025-11-12 05:35:41,808 - ispa_next.functions - DEBUG - copy_customer_data_to_appointment
2025-11-12 05:35:43,651 - ispa_next.functions - DEBUG - Updated appointment (AA00025176) customer contact data.
2025-11-12 05:35:44,667 - ispa_next.functions - DEBUG - check_for_alpina_vehicle
2025-11-12 05:35:44,669 - ispa_next.functions - DEBUG - check_bmw_id_add_to_list
2025-11-12 05:35:45,549 - ispa_next.functions - DEBUG - check_home_dealer_add_to_list
2025-11-12 05:35:45,550 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-12 05:35:46,696 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Fahrzeugzustand
2025-11-12 05:35:50,356 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 05:35:50,358 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 05:35:50,865 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 05:35:52,871 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-12 05:35:53,041 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-12 05:35:53,222 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-12 05:35:53,339 - ispa_next.rkr_manager.state - DEBUG - Getting cart and advice list contents
2025-11-12 05:35:53,341 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:35:55,416 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-12 05:36:03,992 - ispa_next.rkr_manager.state - DEBUG - Waiting for timeout to pass
2025-11-12 05:37:03,995 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-12 05:37:15,163 - ispa_next.rkr_manager.helper - DEBUG - Found button 'Schlüsseldaten überschreiben und öffnen (Empfohlen)' in nested popup
2025-11-12 05:37:19,849 - ispa_next.rkr_manager.state - DEBUG - Checking cart items after successfull RKR
2025-11-12 05:37:19,850 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:37:21,850 - ispa_next.rkr_manager.state - DEBUG - Checking color in CBS positions
2025-11-12 05:37:26,082 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: success
2025-11-12 05:37:27,089 - ispa_next.functions - DEBUG - generate_attachments
2025-11-12 05:37:27,093 - ispa_next.wipers - DEBUG - handle_wiper_service_contracts
2025-11-12 05:37:27,094 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 05:37:27,241 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-12 05:37:27,622 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 05:37:28,190 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 05:37:28,191 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 05:37:29,048 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 05:37:29,050 - ispa_next.package_manager.main - DEBUG - updating cart content
2025-11-12 05:37:31,104 - ispa_next.package_manager.main - DEBUG - updating advice list content
2025-11-12 05:37:31,110 - ispa_next.package_manager.helper - DEBUG - get_advice_list_contents
2025-11-12 05:37:32,570 - ispa_next.package_manager.main - DEBUG - determining package movements
2025-11-12 05:37:32,571 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 05:37:32,574 - ispa_next.package_manager.main - DEBUG - Cannot place Ölwechsel im Doppelkupplungsgetriebe inkl. Altölen: placement requirements not met
2025-11-12 05:37:32,576 - ispa_next.package_manager.main - DEBUG - found packages to cart: set()
2025-11-12 05:37:32,577 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 05:37:32,580 - ispa_next.package_manager.main - DEBUG - Cannot place Ladewunsch und Ladezustand: not present in source
2025-11-12 05:37:32,581 - ispa_next.package_manager.main - DEBUG - found packages to advice_list: set()
2025-11-12 05:37:32,582 - ispa_next.package_manager.main - DEBUG - determining package to delete
2025-11-12 05:37:32,584 - ispa_next.package_manager.main - DEBUG - found packages to delete: set()
2025-11-12 05:37:32,585 - ispa_next.package_manager.main - DEBUG - determining package to update
2025-11-12 05:37:32,588 - ispa_next.package_manager.main - DEBUG - found packages to update: set()
2025-11-12 05:37:32,591 - ispa_next.functions - DEBUG - verify_cart_packages_additional_texts
2025-11-12 05:37:32,592 - ispa_next.functions - DEBUG - check_cart_for_additional_text_packages
2025-11-12 05:37:32,593 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:37:34,689 - ispa_next.functions - DEBUG - handle_mobility_replacement
2025-11-12 05:37:34,691 - ispa_next.functions - DEBUG - verify_battery_in_motoroil_package
2025-11-12 05:37:34,694 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:37:36,828 - ispa_next.functions - DEBUG - verify_breaks_in_break_package
2025-11-12 05:37:36,830 - ispa_next.functions - DEBUG - process_check_control
2025-11-12 05:37:36,832 - ispa_next.functions - DEBUG - trying add_material_to_package
2025-11-12 05:37:36,851 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:37:38,837 - ispa_next.functions - DEBUG - notify_aw_increase_to_service_advisor
2025-11-12 05:37:55,592 - ispa_next.functions - DEBUG - check_cart_packages_for_parts_service_and_parts_availability
2025-11-12 05:37:56,378 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-12 05:37:57,120 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Abschluss
2025-11-12 05:37:57,376 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:38:16,133 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-12 05:38:21,673 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-12 05:38:21,676 - ispa_next.appointment_ending - DEBUG - entered complete process
2025-11-12 05:38:21,676 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 05:38:22,500 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-12 05:38:22,635 - ispa_next.common.shared - DEBUG - ISPA tab Abschluss is already open
2025-11-12 05:38:22,637 - ispa_next.appointment_ending - DEBUG - complete_process isn't exiting early.
2025-11-12 05:38:24,825 - ispa_next.appointment_ending - DEBUG - No need to assign service parts target.
2025-11-12 05:38:34,161 - ispa_next.appointment_ending - DEBUG - return from complete process straight to process_list with saving without error_dialog.
2025-11-12 05:38:34,611 - ispa_next.appointment_loop.main - DEBUG - Closing appointment 5.
2025-11-12 05:38:35,388 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 05:38:36,654 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 774
2025-11-12 05:38:36,655 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 1
2025-11-12 05:38:40,599 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 379
2025-11-12 05:38:40,600 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 05:38:41,637 - ispa_next.appointments.models - DEBUG - Couldn't parse Appointment Jaffar Karimi KK.KK.210 WBA7M910905R43994, 1 validation error for Appointment
Kennzeichen
  Value error, 'Kennzeichen' includes unallowed special characters. [type=value_error, input_value='KK.KK.210', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/value_error
2025-11-12 05:38:41,645 - ispa_next.appointments.models - DEBUG - Appointment christoph Herzberg D-CH 704 WBA6L51020FH94901 ohne Termin.
2025-11-12 05:38:41,651 - ispa_next.appointments.models - DEBUG - Appointment Annelies Maas X-035-JR WMW21DH0602R35252 ohne Termin.
2025-11-12 05:38:41,658 - ispa_next.appointments.models - DEBUG - Appointment Marcel Lattik KK-ML 525 WBAJN11000BE38810 ohne Termin.
2025-11-12 05:38:41,661 - ispa_next.main - DEBUG - 



2025-11-12 05:38:41,661 - ispa_next.main - DEBUG - starting with process 6 (KK-MP 56) of 6
2025-11-12 05:38:41,664 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 05:38:43,185 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 05:38:44,917 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 774
2025-11-12 05:38:44,919 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 379
2025-11-12 05:38:46,767 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 1
2025-11-12 05:38:46,768 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 05:39:16,656 - ispa_next.rkr_manager.main - DEBUG - RemoteKeyReadManager initialized
2025-11-12 05:39:19,430 - ispa_next.appointments.functions - DEBUG - Appointment was already processed in the past.
2025-11-12 05:39:29,150 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:39:31,870 - ispa_next.functions - DEBUG - check_and_verify_hu_date
2025-11-12 05:39:31,871 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 05:39:32,031 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 05:39:32,275 - ispa_next.functions - DEBUG - check_potential_workshop_test
2025-11-12 05:39:32,278 - ispa_next.functions - DEBUG - check_vehicle_age_for_service_plus
2025-11-12 05:39:35,266 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 05:39:35,268 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 05:39:36,564 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 05:39:38,568 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-12 05:39:38,755 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-12 05:39:38,856 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-12 05:39:38,999 - ispa_next.rkr_manager.state - DEBUG - Getting cart and advice list contents
2025-11-12 05:39:39,001 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:39:41,906 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-12 05:39:50,612 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: non_blocking_wait
2025-11-12 05:39:51,616 - ispa_next.functions - DEBUG - handle_data_privacy_consent
2025-11-12 05:39:51,617 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 05:39:52,140 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 05:40:06,625 - ispa_next.functions - DEBUG - DSE icon is yellow
2025-11-12 05:40:11,389 - ispa_next.functions - DEBUG - transfer_customer_data_to_appointment
2025-11-12 05:40:11,391 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 05:40:11,535 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 05:40:11,536 - ispa_next.functions - DEBUG - fetch_customer_data
2025-11-12 05:40:11,685 - ispa_next.functions - DEBUG - fetch_customer_data_from_bmw_id
2025-11-12 05:40:11,869 - ispa_next.functions - DEBUG - fetch_customer_data_from_dms
2025-11-12 05:40:13,631 - ispa_next.functions - DEBUG - All data found, skipping remaining sources
2025-11-12 05:40:14,244 - ispa_next.functions - DEBUG - copy_customer_data_to_appointment
2025-11-12 05:40:15,997 - ispa_next.functions - DEBUG - Updated appointment (AA00025090) customer contact data.
2025-11-12 05:40:16,950 - ispa_next.functions - DEBUG - check_for_alpina_vehicle
2025-11-12 05:40:16,952 - ispa_next.functions - DEBUG - check_bmw_id_add_to_list
2025-11-12 05:40:17,104 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-12 05:40:18,064 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Fahrzeugzustand
2025-11-12 05:40:19,326 - ispa_next.functions - DEBUG - check_home_dealer_add_to_list
2025-11-12 05:40:19,327 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-12 05:40:19,427 - ispa_next.common.shared - DEBUG - ISPA tab Fahrzeugzustand is already open
2025-11-12 05:40:23,135 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 05:40:23,137 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 05:40:23,837 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 05:40:25,839 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-12 05:40:26,028 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-12 05:40:26,173 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-12 05:40:26,365 - ispa_next.rkr_manager.state - DEBUG - Getting cart and advice list contents
2025-11-12 05:40:26,367 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:40:29,231 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-12 05:40:37,918 - ispa_next.rkr_manager.state - DEBUG - Waiting for timeout to pass
2025-11-12 05:41:37,921 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-12 05:41:49,794 - ispa_next.rkr_manager.helper - DEBUG - Found button 'Schlüsseldaten überschreiben und öffnen (Empfohlen)' in nested popup
2025-11-12 05:41:54,641 - ispa_next.rkr_manager.state - DEBUG - Checking cart items after successfull RKR
2025-11-12 05:41:54,642 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:41:57,472 - ispa_next.rkr_manager.state - DEBUG - Checking color in CBS positions
2025-11-12 05:42:01,703 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: success
2025-11-12 05:42:02,710 - ispa_next.functions - DEBUG - generate_attachments
2025-11-12 05:42:02,713 - ispa_next.wipers - DEBUG - handle_wiper_service_contracts
2025-11-12 05:42:02,714 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 05:42:02,827 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-12 05:42:03,249 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 05:42:03,836 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 05:42:03,837 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 05:42:04,675 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 05:42:04,677 - ispa_next.package_manager.main - DEBUG - updating cart content
2025-11-12 05:42:07,325 - ispa_next.package_manager.main - DEBUG - updating advice list content
2025-11-12 05:42:07,342 - ispa_next.package_manager.helper - DEBUG - get_advice_list_contents
2025-11-12 05:42:08,581 - ispa_next.package_manager.main - DEBUG - determining package movements
2025-11-12 05:42:08,584 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 05:42:08,588 - ispa_next.package_manager.main - DEBUG - Cannot place Ölwechsel im Doppelkupplungsgetriebe inkl. Altölen: placement requirements not met
2025-11-12 05:42:08,591 - ispa_next.package_manager.main - DEBUG - found packages to cart: set()
2025-11-12 05:42:08,595 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 05:42:08,600 - ispa_next.package_manager.main - DEBUG - Cannot place Ladewunsch und Ladezustand: not present in source
2025-11-12 05:42:08,603 - ispa_next.package_manager.main - DEBUG - found packages to advice_list: set()
2025-11-12 05:42:08,604 - ispa_next.package_manager.main - DEBUG - determining package to delete
2025-11-12 05:42:08,607 - ispa_next.package_manager.main - DEBUG - found packages to delete: set()
2025-11-12 05:42:08,608 - ispa_next.package_manager.main - DEBUG - determining package to update
2025-11-12 05:42:08,610 - ispa_next.package_manager.main - DEBUG - found packages to update: set()
2025-11-12 05:42:08,613 - ispa_next.functions - DEBUG - verify_cart_packages_additional_texts
2025-11-12 05:42:08,615 - ispa_next.functions - DEBUG - check_cart_for_additional_text_packages
2025-11-12 05:42:08,616 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:42:11,515 - ispa_next.functions - DEBUG - handle_mobility_replacement
2025-11-12 05:42:11,517 - ispa_next.functions - DEBUG - verify_battery_in_motoroil_package
2025-11-12 05:42:11,538 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:42:14,391 - ispa_next.functions - DEBUG - verify_breaks_in_break_package
2025-11-12 05:42:14,393 - ispa_next.functions - DEBUG - process_check_control
2025-11-12 05:42:14,394 - ispa_next.functions - DEBUG - trying add_material_to_package
2025-11-12 05:42:14,397 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:42:17,125 - ispa_next.functions - DEBUG - notify_aw_increase_to_service_advisor
2025-11-12 05:42:32,648 - ispa_next.functions - DEBUG - check_cart_packages_for_parts_service_and_parts_availability
2025-11-12 05:42:33,311 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-12 05:42:34,060 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Abschluss
2025-11-12 05:42:34,231 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 05:43:00,350 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-12 05:43:05,068 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-12 05:43:11,106 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-12 05:43:11,109 - ispa_next.appointment_ending - DEBUG - entered complete process
2025-11-12 05:43:11,110 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 05:43:11,850 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-12 05:43:11,972 - ispa_next.common.shared - DEBUG - ISPA tab Abschluss is already open
2025-11-12 05:43:11,973 - ispa_next.appointment_ending - DEBUG - complete_process isn't exiting early.
2025-11-12 05:43:14,211 - ispa_next.appointment_ending - DEBUG - No need to assign service parts target.
2025-11-12 05:43:24,080 - ispa_next.appointment_ending - DEBUG - return from complete process straight to process_list with saving without error_dialog.
2025-11-12 05:43:24,466 - ispa_next.appointment_loop.main - DEBUG - Closing appointment 6.
2025-11-12 05:43:25,701 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 05:43:26,437 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 774
2025-11-12 05:43:26,439 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 1
2025-11-12 05:43:30,440 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 379
2025-11-12 05:43:30,441 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 05:43:31,615 - ispa_next.appointments.models - DEBUG - Couldn't parse Appointment Jaffar Karimi KK.KK.210 WBA7M910905R43994, 1 validation error for Appointment
Kennzeichen
  Value error, 'Kennzeichen' includes unallowed special characters. [type=value_error, input_value='KK.KK.210', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/value_error
2025-11-12 05:43:31,622 - ispa_next.appointments.models - DEBUG - Appointment christoph Herzberg D-CH 704 WBA6L51020FH94901 ohne Termin.
2025-11-12 05:43:31,629 - ispa_next.appointments.models - DEBUG - Appointment Annelies Maas X-035-JR WMW21DH0602R35252 ohne Termin.
2025-11-12 05:43:31,636 - ispa_next.appointments.models - DEBUG - Appointment Marcel Lattik KK-ML 525 WBAJN11000BE38810 ohne Termin.
