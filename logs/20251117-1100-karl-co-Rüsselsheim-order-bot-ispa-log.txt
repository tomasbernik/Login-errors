2025-11-17 11:14:37,434 - ispa_next.main - DEBUG - ISPA Next attempt (1 / 5)
2025-11-17 11:14:37,441 - overlays.client - INFO - Connected to overlay manager pipe
2025-11-17 11:14:50,164 - ispa_next.app_start.functions - DEBUG - handle_update_available
2025-11-17 11:15:00,859 - ispa_next.app_start.functions - DEBUG - has_ispa_errors
2025-11-17 11:15:16,751 - ispa_next.app_start.functions - DEBUG - authenticate_user
2025-11-17 11:15:41,824 - ispa_next.app_start.main - DEBUG - Login successful
2025-11-17 11:15:56,991 - ispa_next.appointments.functions - DEBUG - order_appointments_grid_by_created_at
2025-11-17 11:15:59,487 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-17 11:16:00,591 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 555
2025-11-17 11:16:00,592 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 106
2025-11-17 11:16:02,936 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 71
2025-11-17 11:16:02,937 - ispa_next.appointments.functions - DEBUG - recover_or_exit_IPS_error
2025-11-17 11:16:02,938 - ispa_next.appointments.functions - DEBUG - check_appointments_grid_for_IPS_error
2025-11-17 11:16:04,165 - ispa_next.appointments.functions - DEBUG - check_appointments_grid_for_IPS_error
2025-11-17 11:16:05,304 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-17 11:16:15,864 - ispa_next.appointments.models - DEBUG - Skipping appointment without VIN
2025-11-17 11:16:15,882 - ispa_next.appointments.models - DEBUG - Skipping appointment without VIN
2025-11-17 11:16:15,886 - ispa_next.appointments.models - DEBUG - Skipping appointment without VIN
2025-11-17 11:16:15,890 - ispa_next.appointments.models - DEBUG - Skipping appointment without VIN
2025-11-17 11:16:15,911 - ispa_next.appointments.models - DEBUG - Appointment Firma La Rosa GmbH GG-DI 2016 WBAJJ310603M78808 ohne Termin.
2025-11-17 11:16:15,921 - ispa_next.appointments.models - DEBUG - Appointment Hiltrud Marx WI-XM 25 WMWWJ910003L15788 ohne Termin.
2025-11-17 11:16:15,928 - ispa_next.appointments.models - DEBUG - Appointment Masoumeh Rashvand Sardari GG-SH 141 WBA2V110009C09071 ohne Termin.
2025-11-17 11:16:15,938 - ispa_next.main - DEBUG - Found 11 out of 37 appointments to process (configured limit: 15).
2025-11-17 11:16:15,938 - ispa_next.main - DEBUG - Processing 11 fresh appointments.
2025-11-17 11:16:15,938 - ispa_next.main - DEBUG - All appointments: GG-MZ 2609, GG-NT 330, DA-H 2316E, SWA-CC 239, GG-AY 2020, GG-P 461, DA-WS 168, WI-MG 455, WI-MG 454, GG-YA 107, FRI-MK 152
2025-11-17 11:16:15,941 - ispa_next.main - DEBUG - 



2025-11-17 11:16:15,941 - ispa_next.main - DEBUG - starting with process 1 (GG-MZ 2609) of 11
2025-11-17 11:16:15,945 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-17 11:16:17,080 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-17 11:16:18,348 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 555
2025-11-17 11:16:18,350 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 71
2025-11-17 11:16:19,824 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 1
2025-11-17 11:16:19,825 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-17 11:16:49,632 - ispa_next.rkr_manager.main - DEBUG - RemoteKeyReadManager initialized
2025-11-17 11:16:59,477 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 11:17:01,353 - ispa_next.functions - DEBUG - check_and_verify_hu_date
2025-11-17 11:17:01,354 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:17:01,418 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 11:17:01,647 - ispa_next.functions - DEBUG - check_potential_workshop_test
2025-11-17 11:17:01,651 - ispa_next.functions - DEBUG - check_vehicle_age_for_service_plus
2025-11-17 11:17:01,652 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:17:01,756 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 11:17:11,431 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-17 11:17:11,433 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 11:17:12,159 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-17 11:17:14,161 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-17 11:17:14,288 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-17 11:17:17,493 - ispa_next.rkr_manager.state - DEBUG - Cannot call from RKR
2025-11-17 11:17:23,865 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: rkr_button_disabled
2025-11-17 11:17:24,876 - ispa_next.functions - DEBUG - handle_data_privacy_consent
2025-11-17 11:17:24,876 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:17:25,363 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-17 11:17:36,438 - ispa_next.functions - DEBUG - DSE icon is yellow
2025-11-17 11:17:43,355 - ispa_next.functions - DEBUG - transfer_customer_data_to_appointment
2025-11-17 11:17:43,357 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:17:43,433 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 11:17:43,433 - ispa_next.functions - DEBUG - fetch_customer_data
2025-11-17 11:17:43,540 - ispa_next.functions - DEBUG - fetch_customer_data_from_bmw_id
2025-11-17 11:17:44,814 - ispa_next.functions - DEBUG - fetch_customer_data_from_dms
2025-11-17 11:17:46,041 - ispa_next.functions - DEBUG - All data found, skipping remaining sources
2025-11-17 11:17:46,371 - ispa_next.functions - DEBUG - copy_customer_data_to_appointment
2025-11-17 11:17:51,825 - ispa_next.functions - DEBUG - Updated appointment (AE00049837) customer contact data.
2025-11-17 11:17:52,721 - ispa_next.functions - DEBUG - check_for_alpina_vehicle
2025-11-17 11:17:52,722 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:17:52,788 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 11:17:53,000 - ispa_next.functions - DEBUG - DMS info search failed: Dialog not available
2025-11-17 11:17:53,002 - ispa_next.functions - DEBUG - check_bmw_id_add_to_list
2025-11-17 11:17:53,811 - ispa_next.functions - DEBUG - check_home_dealer_add_to_list
2025-11-17 11:17:53,812 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-17 11:17:54,547 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Fahrzeugzustand
2025-11-17 11:17:58,138 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-17 11:17:58,140 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 11:17:58,619 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-17 11:18:00,622 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-17 11:18:00,757 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-17 11:18:00,864 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-17 11:18:00,940 - ispa_next.rkr_manager.state - DEBUG - Getting cart and advice list contents
2025-11-17 11:18:00,941 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-17 11:18:11,896 - ispa_next.rkr_manager.state - DEBUG - Waiting for timeout to pass
2025-11-17 11:19:11,899 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-17 11:19:23,132 - ispa_next.rkr_manager.state - DEBUG - Waiting for timeout to pass
2025-11-17 11:19:50,135 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-17 11:20:01,368 - ispa_next.rkr_manager.helper - DEBUG - Found button 'Schlüsseldaten überschreiben und öffnen (Empfohlen)' in nested popup
2025-11-17 11:20:08,458 - ispa_next.rkr_manager.state - DEBUG - Checking cart items after successfull RKR
2025-11-17 11:20:08,458 - ispa_next.rkr_manager.state - DEBUG - Checking color in CBS positions
2025-11-17 11:20:10,598 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: success
2025-11-17 11:20:11,604 - ispa_next.functions - DEBUG - generate_attachments
2025-11-17 11:20:11,605 - ispa_next.functions - DEBUG - check_service_requirement
2025-11-17 11:20:11,605 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 11:20:11,687 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-17 11:20:15,816 - ispa_next.functions - DEBUG - check_service_requirement result: pdf_needed =True
2025-11-17 11:20:16,473 - ispa_next.functions - DEBUG - generate_appointment_pdfs
2025-11-17 11:20:28,049 - ispa_next.wipers - DEBUG - handle_wiper_service_contracts
2025-11-17 11:20:28,050 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 11:20:28,145 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-17 11:20:28,520 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:20:29,059 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-17 11:20:29,093 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 11:20:29,935 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-17 11:20:29,936 - ispa_next.package_manager.main - DEBUG - updating cart content
2025-11-17 11:20:31,840 - ispa_next.package_manager.main - DEBUG - updating advice list content
2025-11-17 11:20:31,843 - ispa_next.package_manager.helper - DEBUG - get_advice_list_contents
2025-11-17 11:20:33,095 - ispa_next.package_manager.main - DEBUG - determining package movements
2025-11-17 11:20:33,096 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-17 11:20:33,098 - ispa_next.package_manager.main - DEBUG - Cannot place Auswuchten der Räder: placement requirements not met
2025-11-17 11:20:33,101 - ispa_next.package_manager.main - DEBUG - found packages to cart: {Package(name=Kostenloser Scheibencheck, source=from_tab, target=cart)}
2025-11-17 11:20:33,103 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-17 11:20:33,118 - ispa_next.package_manager.main - DEBUG - Cannot place Ladewunsch und Ladezustand: not present in source
2025-11-17 11:20:33,120 - ispa_next.package_manager.main - DEBUG - found packages to advice_list: set()
2025-11-17 11:20:33,122 - ispa_next.package_manager.main - DEBUG - determining package to delete
2025-11-17 11:20:33,124 - ispa_next.package_manager.main - DEBUG - found packages to delete: set()
2025-11-17 11:20:33,125 - ispa_next.package_manager.main - DEBUG - determining package to update
2025-11-17 11:20:33,127 - ispa_next.package_manager.main - DEBUG - found packages to update: set()
2025-11-17 11:20:33,129 - ispa_next.package_manager.helper - DEBUG - add_to_cart called
2025-11-17 11:20:33,807 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kataloge
2025-11-17 11:20:34,685 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kataloge
2025-11-17 11:20:48,010 - ispa_next.package_manager.helper - DEBUG - _add_to_container_manual
2025-11-17 11:20:48,011 - ispa_next.functions - DEBUG - verify_cart_packages_additional_texts
2025-11-17 11:20:48,013 - ispa_next.functions - DEBUG - check_cart_for_additional_text_packages
2025-11-17 11:20:48,013 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 11:20:50,638 - ispa_next.functions - DEBUG - handle_mobility_replacement
2025-11-17 11:20:50,639 - ispa_next.functions - DEBUG - verify_battery_in_motoroil_package
2025-11-17 11:20:50,643 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 11:20:53,335 - ispa_next.functions - DEBUG - verify_breaks_in_break_package
2025-11-17 11:20:53,337 - ispa_next.functions - DEBUG - process_check_control
2025-11-17 11:20:53,338 - ispa_next.functions - DEBUG - trying add_material_to_package
2025-11-17 11:20:53,342 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 11:20:55,968 - ispa_next.functions - DEBUG - notify_aw_increase_to_service_advisor
2025-11-17 11:21:12,354 - ispa_next.functions - DEBUG - check_cart_packages_for_parts_service_and_parts_availability
2025-11-17 11:21:13,030 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-17 11:21:13,806 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Abschluss
2025-11-17 11:21:13,987 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 11:21:21,504 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-17 11:21:27,512 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-17 11:21:38,386 - ispa_next.appointment_ending - DEBUG - entered complete process
2025-11-17 11:21:38,387 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-17 11:21:39,021 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-17 11:21:39,122 - ispa_next.common.shared - DEBUG - ISPA tab Abschluss is already open
2025-11-17 11:21:39,124 - ispa_next.appointment_ending - DEBUG - complete_process isn't exiting early.
2025-11-17 11:21:43,025 - ispa_next.appointment_ending - DEBUG - Service parts target assigned before process exit.
2025-11-17 11:21:56,301 - ispa_next.appointment_ending - DEBUG - return from complete process straight to process_list with saving without error_dialog.
2025-11-17 11:21:56,684 - ispa_next.appointment_loop.main - DEBUG - Closing appointment 1.
2025-11-17 11:21:58,357 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-17 11:21:59,072 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 555
2025-11-17 11:21:59,073 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 1
2025-11-17 11:22:03,091 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 106
2025-11-17 11:22:03,092 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-17 11:22:04,036 - ispa_next.appointments.models - DEBUG - Appointment Däffert Gallmann GG-MG 122E WBA5X710X0FH88078 ohne Termin.
2025-11-17 11:22:04,041 - ispa_next.main - DEBUG - 



2025-11-17 11:22:04,041 - ispa_next.main - DEBUG - starting with process 2 (GG-NT 330) of 11
2025-11-17 11:22:04,044 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-17 11:22:05,718 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-17 11:22:07,500 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 555
2025-11-17 11:22:07,502 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 106
2025-11-17 11:22:09,206 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 1
2025-11-17 11:22:09,208 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-17 11:22:50,977 - ispa_next.rkr_manager.main - DEBUG - RemoteKeyReadManager initialized
2025-11-17 11:23:02,965 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 11:23:04,885 - ispa_next.functions - DEBUG - check_and_verify_hu_date
2025-11-17 11:23:04,886 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:23:04,977 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 11:23:05,322 - ispa_next.functions - DEBUG - check_potential_workshop_test
2025-11-17 11:23:05,325 - ispa_next.functions - DEBUG - check_vehicle_age_for_service_plus
2025-11-17 11:23:05,326 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:23:05,415 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 11:23:17,033 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-17 11:23:17,035 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 11:23:17,771 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-17 11:23:19,776 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-17 11:23:26,102 - ispa_next.rkr_manager.state - DEBUG - RKR not available or supported
2025-11-17 11:23:33,814 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: no_support
2025-11-17 11:23:34,819 - ispa_next.functions - DEBUG - handle_data_privacy_consent
2025-11-17 11:23:34,820 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:23:35,329 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-17 11:23:47,143 - ispa_next.functions - DEBUG - DSE icon is green
2025-11-17 11:23:55,617 - ispa_next.functions - DEBUG - transfer_customer_data_to_appointment
2025-11-17 11:23:55,620 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:23:55,733 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 11:23:55,734 - ispa_next.functions - DEBUG - fetch_customer_data
2025-11-17 11:23:55,799 - ispa_next.functions - DEBUG - fetch_customer_data_from_bmw_id
2025-11-17 11:23:56,009 - ispa_next.functions - DEBUG - fetch_customer_data_from_dms
2025-11-17 11:23:57,360 - ispa_next.functions - DEBUG - All data found, skipping remaining sources
2025-11-17 11:23:57,660 - ispa_next.functions - DEBUG - copy_customer_data_to_appointment
2025-11-17 11:24:03,538 - ispa_next.functions - DEBUG - Updated appointment (AE00049834) customer contact data.
2025-11-17 11:24:04,473 - ispa_next.functions - DEBUG - check_for_alpina_vehicle
2025-11-17 11:24:04,475 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:24:04,617 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 11:24:04,844 - ispa_next.functions - DEBUG - DMS info search failed: Dialog not available
2025-11-17 11:24:04,846 - ispa_next.functions - DEBUG - check_bmw_id_add_to_list
2025-11-17 11:24:05,003 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-17 11:24:05,866 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Fahrzeugzustand
2025-11-17 11:24:07,623 - ispa_next.functions - DEBUG - check_home_dealer_add_to_list
2025-11-17 11:24:07,624 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-17 11:24:07,742 - ispa_next.common.shared - DEBUG - ISPA tab Fahrzeugzustand is already open
2025-11-17 11:24:11,806 - ispa_next.functions - DEBUG - Home dealer assignment button not available
2025-11-17 11:24:11,806 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-17 11:24:11,806 - ispa_next.rkr_manager.main - DEBUG - early exiting RemoteKeyReadManager - enabled=False or early_exit_enabled=True
2025-11-17 11:24:11,808 - ispa_next.functions - DEBUG - generate_attachments
2025-11-17 11:24:11,809 - ispa_next.functions - DEBUG - check_service_requirement
2025-11-17 11:24:11,810 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 11:24:12,327 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-17 11:24:13,101 - ispa_next.functions - DEBUG - check_service_requirement couldn't find CBS table, returning False
2025-11-17 11:24:13,104 - ispa_next.wipers - DEBUG - handle_wiper_service_contracts
2025-11-17 11:24:13,105 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 11:24:13,186 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-17 11:24:13,576 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:24:14,079 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-17 11:24:14,080 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 11:24:14,936 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-17 11:24:14,937 - ispa_next.package_manager.main - DEBUG - updating cart content
2025-11-17 11:24:17,439 - ispa_next.package_manager.main - DEBUG - updating advice list content
2025-11-17 11:24:17,441 - ispa_next.package_manager.helper - DEBUG - get_advice_list_contents
2025-11-17 11:24:18,280 - ispa_next.package_manager.main - DEBUG - determining package movements
2025-11-17 11:24:18,283 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-17 11:24:18,285 - ispa_next.package_manager.main - DEBUG - Cannot place Auswuchten der Räder: placement requirements not met
2025-11-17 11:24:18,302 - ispa_next.package_manager.main - DEBUG - found packages to cart: {Package(name=Kostenloser Scheibencheck, source=from_tab, target=cart)}
2025-11-17 11:24:18,304 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-17 11:24:18,306 - ispa_next.package_manager.main - DEBUG - Cannot place Ladewunsch und Ladezustand: not present in source
2025-11-17 11:24:18,307 - ispa_next.package_manager.main - DEBUG - found packages to advice_list: set()
2025-11-17 11:24:18,308 - ispa_next.package_manager.main - DEBUG - determining package to delete
2025-11-17 11:24:18,310 - ispa_next.package_manager.main - DEBUG - found packages to delete: set()
2025-11-17 11:24:18,311 - ispa_next.package_manager.main - DEBUG - determining package to update
2025-11-17 11:24:18,312 - ispa_next.package_manager.main - DEBUG - found packages to update: set()
2025-11-17 11:24:18,314 - ispa_next.package_manager.helper - DEBUG - add_to_cart called
2025-11-17 11:24:19,019 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kataloge
2025-11-17 11:24:19,685 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kataloge
2025-11-17 11:24:33,135 - ispa_next.package_manager.helper - DEBUG - _add_to_container_manual
2025-11-17 11:24:33,137 - ispa_next.functions - DEBUG - verify_cart_packages_additional_texts
2025-11-17 11:24:33,138 - ispa_next.functions - DEBUG - check_cart_for_additional_text_packages
2025-11-17 11:24:33,138 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 11:24:36,429 - ispa_next.functions - DEBUG - handle_mobility_replacement
2025-11-17 11:24:36,431 - ispa_next.functions - DEBUG - verify_battery_in_motoroil_package
2025-11-17 11:24:36,433 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 11:24:39,700 - ispa_next.functions - DEBUG - verify_breaks_in_break_package
2025-11-17 11:24:39,703 - ispa_next.functions - DEBUG - process_check_control
2025-11-17 11:24:39,704 - ispa_next.functions - DEBUG - trying add_material_to_package
2025-11-17 11:24:39,706 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 11:24:42,959 - ispa_next.functions - DEBUG - notify_aw_increase_to_service_advisor
2025-11-17 11:24:58,308 - ispa_next.functions - DEBUG - check_cart_packages_for_parts_service_and_parts_availability
2025-11-17 11:24:58,973 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-17 11:24:59,764 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Abschluss
2025-11-17 11:24:59,987 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 11:25:08,375 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-17 11:25:15,240 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-17 11:25:20,251 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-17 11:25:25,913 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-17 11:25:25,915 - ispa_next.appointment_ending - DEBUG - entered complete process
2025-11-17 11:25:25,916 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-17 11:25:26,824 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-17 11:25:26,945 - ispa_next.common.shared - DEBUG - ISPA tab Abschluss is already open
2025-11-17 11:25:26,946 - ispa_next.appointment_ending - DEBUG - complete_process isn't exiting early.
2025-11-17 11:25:29,553 - ispa_next.appointment_ending - DEBUG - No need to assign service parts target.
2025-11-17 11:25:40,246 - ispa_next.appointment_ending - DEBUG - return from complete process straight to process_list with saving without error_dialog.
2025-11-17 11:25:40,621 - ispa_next.appointment_loop.main - DEBUG - Closing appointment 2.
2025-11-17 11:25:42,013 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-17 11:25:42,829 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 555
2025-11-17 11:25:42,831 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 1
2025-11-17 11:25:46,958 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 106
2025-11-17 11:25:46,959 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-17 11:25:47,901 - ispa_next.appointments.models - DEBUG - Appointment Däffert Gallmann GG-MG 122E WBA5X710X0FH88078 ohne Termin.
2025-11-17 11:25:47,906 - ispa_next.main - DEBUG - 



2025-11-17 11:25:47,906 - ispa_next.main - DEBUG - starting with process 3 (DA-H 2316E) of 11
2025-11-17 11:25:47,908 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-17 11:25:49,366 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-17 11:25:50,974 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 555
2025-11-17 11:25:50,986 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 106
2025-11-17 11:25:52,782 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 1
2025-11-17 11:25:52,784 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-17 11:26:29,370 - ispa_next.rkr_manager.main - DEBUG - RemoteKeyReadManager initialized
2025-11-17 11:26:41,551 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 11:26:43,448 - ispa_next.functions - DEBUG - check_and_verify_hu_date
2025-11-17 11:26:43,449 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:26:43,536 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 11:26:43,966 - ispa_next.functions - DEBUG - check_potential_workshop_test
2025-11-17 11:26:43,968 - ispa_next.functions - DEBUG - check_vehicle_age_for_service_plus
2025-11-17 11:26:43,969 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:26:44,065 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 11:26:47,460 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-17 11:26:47,461 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 11:26:49,005 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-17 11:26:51,012 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-17 11:26:51,154 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-17 11:26:51,345 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-17 11:26:51,438 - ispa_next.rkr_manager.state - DEBUG - Checking color in CBS positions
2025-11-17 11:26:55,657 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: data_still_good
2025-11-17 11:26:56,678 - ispa_next.functions - DEBUG - handle_data_privacy_consent
2025-11-17 11:26:56,679 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:26:57,282 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-17 11:27:10,071 - ispa_next.functions - DEBUG - DSE icon is yellow
2025-11-17 11:27:18,467 - ispa_next.functions - DEBUG - transfer_customer_data_to_appointment
2025-11-17 11:27:18,470 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:27:18,568 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 11:27:18,569 - ispa_next.functions - DEBUG - fetch_customer_data
2025-11-17 11:27:18,626 - ispa_next.functions - DEBUG - fetch_customer_data_from_bmw_id
2025-11-17 11:27:19,998 - ispa_next.functions - DEBUG - fetch_customer_data_from_dms
2025-11-17 11:27:21,389 - ispa_next.functions - DEBUG - All data found, skipping remaining sources
2025-11-17 11:27:21,640 - ispa_next.functions - DEBUG - copy_customer_data_to_appointment
2025-11-17 11:27:26,485 - ispa_next.functions - DEBUG - Updated appointment (AS00013551) customer contact data.
2025-11-17 11:27:27,417 - ispa_next.functions - DEBUG - check_for_alpina_vehicle
2025-11-17 11:27:27,418 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:27:27,615 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 11:27:27,868 - ispa_next.functions - DEBUG - DMS info search failed: Dialog not available
2025-11-17 11:27:27,870 - ispa_next.functions - DEBUG - check_bmw_id_add_to_list
2025-11-17 11:27:28,937 - ispa_next.functions - DEBUG - check_home_dealer_add_to_list
2025-11-17 11:27:28,938 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-17 11:27:29,959 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Fahrzeugzustand
2025-11-17 11:27:34,493 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-17 11:27:34,494 - ispa_next.rkr_manager.main - DEBUG - early exiting RemoteKeyReadManager - enabled=False or early_exit_enabled=True
2025-11-17 11:27:34,501 - ispa_next.functions - DEBUG - generate_attachments
2025-11-17 11:27:34,502 - ispa_next.functions - DEBUG - check_service_requirement
2025-11-17 11:27:34,503 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 11:27:35,051 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-17 11:27:39,250 - ispa_next.functions - DEBUG - check_service_requirement result: pdf_needed =False
2025-11-17 11:27:39,254 - ispa_next.wipers - DEBUG - handle_wiper_service_contracts
2025-11-17 11:27:39,254 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 11:27:39,395 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-17 11:27:43,638 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:27:44,216 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-17 11:27:44,217 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 11:27:45,027 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-17 11:27:45,028 - ispa_next.package_manager.main - DEBUG - updating cart content
2025-11-17 11:27:47,543 - ispa_next.package_manager.main - DEBUG - updating advice list content
2025-11-17 11:27:47,545 - ispa_next.package_manager.helper - DEBUG - get_advice_list_contents
2025-11-17 11:27:48,809 - ispa_next.package_manager.main - DEBUG - determining package movements
2025-11-17 11:27:48,810 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-17 11:27:48,812 - ispa_next.package_manager.main - DEBUG - Cannot place Auswuchten der Räder: placement requirements not met
2025-11-17 11:27:48,813 - ispa_next.package_manager.main - DEBUG - found packages to cart: {Package(name=Kostenloser Scheibencheck, source=from_tab, target=cart)}
2025-11-17 11:27:48,814 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-17 11:27:48,815 - ispa_next.package_manager.main - DEBUG - Cannot place Ladewunsch und Ladezustand: not present in source
2025-11-17 11:27:48,816 - ispa_next.package_manager.main - DEBUG - found packages to advice_list: set()
2025-11-17 11:27:48,820 - ispa_next.package_manager.main - DEBUG - determining package to delete
2025-11-17 11:27:48,823 - ispa_next.package_manager.main - DEBUG - found packages to delete: set()
2025-11-17 11:27:48,827 - ispa_next.package_manager.main - DEBUG - determining package to update
2025-11-17 11:27:48,829 - ispa_next.package_manager.main - DEBUG - found packages to update: set()
2025-11-17 11:27:48,831 - ispa_next.package_manager.helper - DEBUG - add_to_cart called
2025-11-17 11:27:49,523 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kataloge
2025-11-17 11:27:50,368 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kataloge
2025-11-17 11:28:04,094 - ispa_next.package_manager.helper - DEBUG - _add_to_container_manual
2025-11-17 11:28:04,096 - ispa_next.functions - DEBUG - verify_cart_packages_additional_texts
2025-11-17 11:28:04,097 - ispa_next.functions - DEBUG - check_cart_for_additional_text_packages
2025-11-17 11:28:04,098 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 11:28:07,438 - ispa_next.functions - DEBUG - handle_mobility_replacement
2025-11-17 11:28:07,439 - ispa_next.functions - DEBUG - verify_battery_in_motoroil_package
2025-11-17 11:28:07,442 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 11:28:10,707 - ispa_next.functions - DEBUG - verify_breaks_in_break_package
2025-11-17 11:28:10,708 - ispa_next.functions - DEBUG - process_check_control
2025-11-17 11:28:10,710 - ispa_next.functions - DEBUG - trying add_material_to_package
2025-11-17 11:28:10,712 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 11:28:14,037 - ispa_next.functions - DEBUG - notify_aw_increase_to_service_advisor
2025-11-17 11:28:30,992 - ispa_next.functions - DEBUG - check_cart_packages_for_parts_service_and_parts_availability
2025-11-17 11:28:31,683 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-17 11:28:32,492 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Abschluss
2025-11-17 11:28:32,743 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 11:28:40,650 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-17 11:28:46,493 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-17 11:28:51,267 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-17 11:28:57,010 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-17 11:29:05,040 - ispa_next.appointment_ending - DEBUG - entered complete process
2025-11-17 11:29:05,041 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-17 11:29:06,024 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-17 11:29:06,138 - ispa_next.common.shared - DEBUG - ISPA tab Abschluss is already open
2025-11-17 11:29:06,140 - ispa_next.appointment_ending - DEBUG - complete_process isn't exiting early.
2025-11-17 11:29:10,171 - ispa_next.appointment_ending - DEBUG - Service parts target assigned before process exit.
2025-11-17 11:29:19,623 - ispa_next.appointment_ending - DEBUG - return from complete process straight to process_list with saving without error_dialog.
2025-11-17 11:29:20,024 - ispa_next.appointment_loop.main - DEBUG - Closing appointment 3.
2025-11-17 11:29:21,552 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-17 11:29:22,407 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 555
2025-11-17 11:29:22,409 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 1
2025-11-17 11:29:26,736 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 107
2025-11-17 11:29:26,737 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-17 11:29:27,998 - ispa_next.appointments.models - DEBUG - Appointment Däffert Gallmann GG-MG 122E WBA5X710X0FH88078 ohne Termin.
2025-11-17 11:29:28,017 - ispa_next.main - DEBUG - 



2025-11-17 11:29:28,017 - ispa_next.main - DEBUG - starting with process 4 (SWA-CC 239) of 11
2025-11-17 11:29:28,144 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-17 11:29:29,829 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-17 11:29:31,529 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 555
2025-11-17 11:29:31,531 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 107
2025-11-17 11:29:33,402 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 1
2025-11-17 11:29:33,404 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-17 11:30:08,648 - ispa_next.rkr_manager.main - DEBUG - RemoteKeyReadManager initialized
2025-11-17 11:30:20,981 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 11:30:26,381 - ispa_next.functions - DEBUG - check_and_verify_hu_date
2025-11-17 11:30:26,381 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:30:26,486 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 11:30:26,893 - ispa_next.functions - DEBUG - check_potential_workshop_test
2025-11-17 11:30:26,895 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:30:27,003 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 11:30:35,711 - ispa_next.functions - DEBUG - check_vehicle_age_for_service_plus
2025-11-17 11:30:35,745 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:30:35,829 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 11:30:39,031 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-17 11:30:39,032 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 11:30:40,370 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-17 11:30:42,373 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-17 11:30:42,501 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-17 11:30:42,628 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-17 11:30:42,846 - ispa_next.rkr_manager.state - DEBUG - Checking color in CBS positions
2025-11-17 11:30:45,061 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: data_still_good
2025-11-17 11:30:46,076 - ispa_next.functions - DEBUG - handle_data_privacy_consent
2025-11-17 11:30:46,077 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:30:46,549 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-17 11:31:00,844 - ispa_next.functions - DEBUG - DSE icon is yellow
2025-11-17 11:31:10,240 - ispa_next.functions - DEBUG - transfer_customer_data_to_appointment
2025-11-17 11:31:10,242 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:31:10,341 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 11:31:10,343 - ispa_next.functions - DEBUG - fetch_customer_data
2025-11-17 11:31:10,398 - ispa_next.functions - DEBUG - fetch_customer_data_from_bmw_id
2025-11-17 11:31:10,555 - ispa_next.functions - DEBUG - fetch_customer_data_from_dms
2025-11-17 11:31:11,794 - ispa_next.functions - DEBUG - All data found, skipping remaining sources
2025-11-17 11:31:12,050 - ispa_next.functions - DEBUG - copy_customer_data_to_appointment
2025-11-17 11:31:17,714 - ispa_next.functions - DEBUG - Updated appointment (AW00013147) customer contact data.
2025-11-17 11:31:18,685 - ispa_next.functions - DEBUG - check_for_alpina_vehicle
2025-11-17 11:31:18,687 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:31:18,917 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 11:31:19,161 - ispa_next.functions - DEBUG - DMS info search failed: Dialog not available
2025-11-17 11:31:19,163 - ispa_next.functions - DEBUG - check_bmw_id_add_to_list
2025-11-17 11:31:19,313 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-17 11:31:20,185 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Fahrzeugzustand
2025-11-17 11:31:22,036 - ispa_next.functions - DEBUG - check_home_dealer_add_to_list
2025-11-17 11:31:22,038 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-17 11:31:22,155 - ispa_next.common.shared - DEBUG - ISPA tab Fahrzeugzustand is already open
2025-11-17 11:31:26,242 - ispa_next.functions - DEBUG - Home dealer assignment button not available
2025-11-17 11:31:26,243 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-17 11:31:26,243 - ispa_next.rkr_manager.main - DEBUG - early exiting RemoteKeyReadManager - enabled=False or early_exit_enabled=True
2025-11-17 11:31:26,247 - ispa_next.functions - DEBUG - generate_attachments
2025-11-17 11:31:26,248 - ispa_next.functions - DEBUG - check_service_requirement
2025-11-17 11:31:26,249 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 11:31:26,796 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-17 11:31:30,948 - ispa_next.functions - DEBUG - check_service_requirement result: pdf_needed =True
2025-11-17 11:31:32,195 - ispa_next.functions - DEBUG - generate_appointment_pdfs
2025-11-17 11:31:41,856 - ispa_next.wipers - DEBUG - handle_wiper_service_contracts
2025-11-17 11:31:41,858 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 11:31:41,938 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-17 11:31:46,081 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:31:46,594 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-17 11:31:46,596 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 11:31:47,425 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-17 11:31:47,426 - ispa_next.package_manager.main - DEBUG - updating cart content
2025-11-17 11:31:52,973 - ispa_next.package_manager.main - DEBUG - updating advice list content
2025-11-17 11:31:52,979 - ispa_next.package_manager.helper - DEBUG - get_advice_list_contents
2025-11-17 11:31:54,535 - ispa_next.package_manager.main - DEBUG - determining package movements
2025-11-17 11:31:54,540 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-17 11:31:54,543 - ispa_next.package_manager.main - DEBUG - Cannot place Auswuchten der Räder: placement requirements not met
2025-11-17 11:31:54,546 - ispa_next.package_manager.main - DEBUG - found packages to cart: {Package(name=Kostenloser Scheibencheck, source=from_tab, target=cart)}
2025-11-17 11:31:54,550 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-17 11:31:54,552 - ispa_next.package_manager.main - DEBUG - Cannot place Ladewunsch und Ladezustand: not present in source
2025-11-17 11:31:54,554 - ispa_next.package_manager.main - DEBUG - found packages to advice_list: set()
2025-11-17 11:31:54,554 - ispa_next.package_manager.main - DEBUG - determining package to delete
2025-11-17 11:31:54,556 - ispa_next.package_manager.main - DEBUG - found packages to delete: set()
2025-11-17 11:31:54,558 - ispa_next.package_manager.main - DEBUG - determining package to update
2025-11-17 11:31:54,559 - ispa_next.package_manager.main - DEBUG - found packages to update: set()
2025-11-17 11:31:54,561 - ispa_next.package_manager.helper - DEBUG - add_to_cart called
2025-11-17 11:31:55,288 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kataloge
2025-11-17 11:31:56,238 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kataloge
2025-11-17 11:32:10,241 - ispa_next.package_manager.helper - DEBUG - _add_to_container_manual
2025-11-17 11:32:10,243 - ispa_next.functions - DEBUG - verify_cart_packages_additional_texts
2025-11-17 11:32:10,244 - ispa_next.functions - DEBUG - check_cart_for_additional_text_packages
2025-11-17 11:32:10,245 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 11:32:17,081 - ispa_next.functions - DEBUG - handle_mobility_replacement
2025-11-17 11:32:17,083 - ispa_next.functions - DEBUG - verify_battery_in_motoroil_package
2025-11-17 11:32:17,086 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 11:32:23,848 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 11:32:24,369 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-17 11:32:33,450 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 11:32:51,923 - ispa_next.functions - DEBUG - verify_breaks_in_break_package
2025-11-17 11:32:51,925 - ispa_next.functions - DEBUG - process_check_control
2025-11-17 11:32:51,926 - ispa_next.functions - DEBUG - trying add_material_to_package
2025-11-17 11:32:51,942 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 11:32:58,728 - ispa_next.functions - DEBUG - notify_aw_increase_to_service_advisor
2025-11-17 11:33:15,137 - ispa_next.functions - DEBUG - check_cart_packages_for_parts_service_and_parts_availability
2025-11-17 11:33:15,836 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-17 11:33:16,627 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Abschluss
2025-11-17 11:33:16,938 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 11:33:29,136 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-17 11:33:35,047 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-17 11:33:42,565 - ispa_next.appointment_ending - DEBUG - entered complete process
2025-11-17 11:33:42,566 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-17 11:33:43,482 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-17 11:33:43,595 - ispa_next.common.shared - DEBUG - ISPA tab Abschluss is already open
2025-11-17 11:33:43,596 - ispa_next.appointment_ending - DEBUG - complete_process isn't exiting early.
2025-11-17 11:33:48,515 - ispa_next.appointment_ending - DEBUG - Service parts target assigned before process exit.
2025-11-17 11:34:00,450 - ispa_next.appointment_ending - DEBUG - return from complete process straight to process_list with saving without error_dialog.
2025-11-17 11:34:00,835 - ispa_next.appointment_loop.main - DEBUG - Closing appointment 4.
2025-11-17 11:34:02,774 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-17 11:34:03,659 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 555
2025-11-17 11:34:03,660 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 1
2025-11-17 11:34:07,877 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 107
2025-11-17 11:34:07,878 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-17 11:34:09,031 - ispa_next.appointments.models - DEBUG - Appointment Däffert Gallmann GG-MG 122E WBA5X710X0FH88078 ohne Termin.
2025-11-17 11:34:09,035 - ispa_next.main - DEBUG - 



2025-11-17 11:34:09,035 - ispa_next.main - DEBUG - starting with process 5 (GG-AY 2020) of 11
2025-11-17 11:34:09,039 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-17 11:34:10,795 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-17 11:34:12,533 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 555
2025-11-17 11:34:12,534 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 107
2025-11-17 11:34:14,433 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 1
2025-11-17 11:34:14,434 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-17 11:34:49,398 - ispa_next.rkr_manager.main - DEBUG - RemoteKeyReadManager initialized
2025-11-17 11:35:00,460 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:35:00,547 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 11:35:00,764 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 11:35:02,011 - ispa_next.functions - DEBUG - check_and_verify_hu_date
2025-11-17 11:35:02,011 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:35:02,096 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 11:35:02,359 - ispa_next.functions - DEBUG - check_potential_workshop_test
2025-11-17 11:35:02,361 - ispa_next.functions - DEBUG - check_vehicle_age_for_service_plus
2025-11-17 11:35:02,362 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:35:02,453 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 11:35:05,770 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-17 11:35:05,771 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 11:35:07,234 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-17 11:35:09,241 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-17 11:35:09,386 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-17 11:35:12,672 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-17 11:35:12,816 - ispa_next.rkr_manager.state - DEBUG - Getting cart and advice list contents
2025-11-17 11:35:12,816 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-17 11:35:24,464 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: non_blocking_wait
2025-11-17 11:35:25,474 - ispa_next.functions - DEBUG - handle_data_privacy_consent
2025-11-17 11:35:25,474 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:35:26,008 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-17 11:35:40,182 - ispa_next.functions - DEBUG - DSE icon is yellow
2025-11-17 11:35:49,239 - ispa_next.functions - DEBUG - transfer_customer_data_to_appointment
2025-11-17 11:35:49,241 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:35:49,326 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 11:35:49,327 - ispa_next.functions - DEBUG - fetch_customer_data
2025-11-17 11:35:49,374 - ispa_next.functions - DEBUG - fetch_customer_data_from_bmw_id
2025-11-17 11:35:50,679 - ispa_next.functions - DEBUG - All data found, skipping remaining sources
2025-11-17 11:35:50,931 - ispa_next.functions - DEBUG - copy_customer_data_to_appointment
2025-11-17 11:35:56,863 - ispa_next.functions - DEBUG - Updated appointment (AE00049825) customer contact data.
2025-11-17 11:35:57,832 - ispa_next.functions - DEBUG - check_for_alpina_vehicle
2025-11-17 11:35:57,839 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:35:58,317 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 11:35:58,569 - ispa_next.functions - DEBUG - DMS info search failed: Dialog not available
2025-11-17 11:35:58,571 - ispa_next.functions - DEBUG - check_bmw_id_add_to_list
2025-11-17 11:35:59,733 - ispa_next.functions - DEBUG - check_home_dealer_add_to_list
2025-11-17 11:35:59,734 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-17 11:36:00,715 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Fahrzeugzustand
2025-11-17 11:36:04,314 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-17 11:36:04,317 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 11:36:04,835 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-17 11:36:06,840 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-17 11:36:07,000 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-17 11:36:07,183 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-17 11:36:07,283 - ispa_next.rkr_manager.state - DEBUG - Getting cart and advice list contents
2025-11-17 11:36:07,283 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-17 11:36:19,247 - ispa_next.rkr_manager.state - DEBUG - Waiting for timeout to pass
2025-11-17 11:37:19,250 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-17 11:37:31,259 - ispa_next.rkr_manager.state - DEBUG - Waiting for timeout to pass
2025-11-17 11:37:50,264 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-17 11:38:02,071 - ispa_next.rkr_manager.state - DEBUG - Cannot call from RKR
2025-11-17 11:38:11,764 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: rkr_not_successfull
2025-11-17 11:38:12,771 - ispa_next.functions - DEBUG - generate_attachments
2025-11-17 11:38:12,772 - ispa_next.functions - DEBUG - check_service_requirement
2025-11-17 11:38:12,773 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 11:38:12,854 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-17 11:38:17,063 - ispa_next.functions - DEBUG - check_service_requirement result: pdf_needed =False
2025-11-17 11:38:17,067 - ispa_next.wipers - DEBUG - handle_wiper_service_contracts
2025-11-17 11:38:17,068 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 11:38:17,162 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-17 11:38:26,593 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:38:27,133 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-17 11:38:27,134 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 11:38:28,096 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-17 11:38:28,097 - ispa_next.package_manager.main - DEBUG - updating cart content
2025-11-17 11:38:29,416 - ispa_next.package_manager.main - DEBUG - updating advice list content
2025-11-17 11:38:29,418 - ispa_next.package_manager.helper - DEBUG - get_advice_list_contents
2025-11-17 11:38:30,807 - ispa_next.package_manager.main - DEBUG - determining package movements
2025-11-17 11:38:30,809 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-17 11:38:30,811 - ispa_next.package_manager.main - DEBUG - Cannot place Auswuchten der Räder: placement requirements not met
2025-11-17 11:38:30,812 - ispa_next.package_manager.main - DEBUG - found packages to cart: {Package(name=Kostenloser Scheibencheck, source=from_tab, target=cart)}
2025-11-17 11:38:30,815 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-17 11:38:30,820 - ispa_next.package_manager.main - DEBUG - Cannot place Ladewunsch und Ladezustand: not present in source
2025-11-17 11:38:30,823 - ispa_next.package_manager.main - DEBUG - found packages to advice_list: set()
2025-11-17 11:38:30,825 - ispa_next.package_manager.main - DEBUG - determining package to delete
2025-11-17 11:38:30,828 - ispa_next.package_manager.main - DEBUG - found packages to delete: set()
2025-11-17 11:38:30,830 - ispa_next.package_manager.main - DEBUG - determining package to update
2025-11-17 11:38:30,832 - ispa_next.package_manager.main - DEBUG - found packages to update: set()
2025-11-17 11:38:30,834 - ispa_next.package_manager.helper - DEBUG - add_to_cart called
2025-11-17 11:38:31,547 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kataloge
2025-11-17 11:38:32,553 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kataloge
2025-11-17 11:38:46,456 - ispa_next.package_manager.helper - DEBUG - _add_to_container_manual
2025-11-17 11:38:46,458 - ispa_next.functions - DEBUG - verify_cart_packages_additional_texts
2025-11-17 11:38:46,460 - ispa_next.functions - DEBUG - check_cart_for_additional_text_packages
2025-11-17 11:38:46,461 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 11:38:48,419 - ispa_next.functions - DEBUG - Adding additional texts to cart items
2025-11-17 11:38:52,187 - ispa_next.functions - DEBUG - handle_mobility_replacement
2025-11-17 11:38:52,225 - ispa_next.functions - DEBUG - verify_battery_in_motoroil_package
2025-11-17 11:38:52,271 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 11:38:54,304 - ispa_next.functions - DEBUG - verify_breaks_in_break_package
2025-11-17 11:38:54,306 - ispa_next.functions - DEBUG - process_check_control
2025-11-17 11:38:54,308 - ispa_next.functions - DEBUG - trying add_material_to_package
2025-11-17 11:38:54,310 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 11:38:56,244 - ispa_next.functions - DEBUG - notify_aw_increase_to_service_advisor
2025-11-17 11:39:13,138 - ispa_next.functions - DEBUG - check_cart_packages_for_parts_service_and_parts_availability
2025-11-17 11:39:13,896 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-17 11:39:14,684 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Abschluss
2025-11-17 11:39:14,892 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 11:39:22,961 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-17 11:39:29,893 - ispa_next.appointment_ending - DEBUG - entered complete process
2025-11-17 11:39:29,894 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-17 11:39:30,720 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-17 11:39:30,818 - ispa_next.common.shared - DEBUG - ISPA tab Abschluss is already open
2025-11-17 11:39:30,820 - ispa_next.appointment_ending - DEBUG - complete_process isn't exiting early.
2025-11-17 11:39:35,270 - ispa_next.appointment_ending - DEBUG - Service parts target assigned before process exit.
2025-11-17 11:39:45,833 - ispa_next.appointment_ending - DEBUG - return from complete process straight to process_list with saving without error_dialog.
2025-11-17 11:39:46,207 - ispa_next.appointment_loop.main - DEBUG - Closing appointment 5.
2025-11-17 11:39:47,788 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-17 11:39:48,651 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 555
2025-11-17 11:39:48,652 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 1
2025-11-17 11:39:52,922 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 107
2025-11-17 11:39:52,923 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-17 11:39:54,103 - ispa_next.appointments.models - DEBUG - Appointment Däffert Gallmann GG-MG 122E WBA5X710X0FH88078 ohne Termin.
2025-11-17 11:39:54,106 - ispa_next.main - DEBUG - 



2025-11-17 11:39:54,106 - ispa_next.main - DEBUG - starting with process 6 (GG-P 461) of 11
2025-11-17 11:39:54,122 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-17 11:39:55,846 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-17 11:39:57,578 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 555
2025-11-17 11:39:57,579 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 107
2025-11-17 11:39:59,345 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 1
2025-11-17 11:39:59,346 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-17 11:40:36,969 - ispa_next.rkr_manager.main - DEBUG - RemoteKeyReadManager initialized
2025-11-17 11:40:49,707 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:40:49,808 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 11:40:50,125 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 11:40:51,356 - ispa_next.functions - DEBUG - check_and_verify_hu_date
2025-11-17 11:40:51,357 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:40:51,435 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 11:40:51,765 - ispa_next.functions - DEBUG - HU date already expired after 0 days.
2025-11-17 11:41:00,827 - ispa_next.functions - DEBUG - check_potential_workshop_test
2025-11-17 11:41:00,830 - ispa_next.functions - DEBUG - check_vehicle_age_for_service_plus
2025-11-17 11:41:00,831 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:41:00,931 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 11:41:13,646 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-17 11:41:13,648 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 11:41:14,453 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-17 11:41:16,457 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-17 11:41:22,447 - ispa_next.rkr_manager.state - DEBUG - RKR not available or supported
2025-11-17 11:41:30,225 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: no_support
2025-11-17 11:41:31,230 - ispa_next.functions - DEBUG - handle_data_privacy_consent
2025-11-17 11:41:31,230 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:41:31,723 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-17 11:41:46,559 - ispa_next.functions - DEBUG - DSE icon is yellow
2025-11-17 11:41:55,445 - ispa_next.functions - DEBUG - transfer_customer_data_to_appointment
2025-11-17 11:41:55,448 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:41:55,541 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 11:41:55,541 - ispa_next.functions - DEBUG - fetch_customer_data
2025-11-17 11:41:55,609 - ispa_next.functions - DEBUG - fetch_customer_data_from_bmw_id
2025-11-17 11:41:55,749 - ispa_next.functions - DEBUG - fetch_customer_data_from_dms
2025-11-17 11:41:57,004 - ispa_next.functions - DEBUG - All data found, skipping remaining sources
2025-11-17 11:41:57,228 - ispa_next.functions - DEBUG - copy_customer_data_to_appointment
2025-11-17 11:42:03,170 - ispa_next.functions - DEBUG - Updated appointment (AE00049823) customer contact data.
2025-11-17 11:42:04,083 - ispa_next.functions - DEBUG - check_for_alpina_vehicle
2025-11-17 11:42:04,083 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:42:04,281 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 11:42:04,507 - ispa_next.functions - DEBUG - DMS info search failed: Dialog not available
2025-11-17 11:42:04,509 - ispa_next.functions - DEBUG - check_bmw_id_add_to_list
2025-11-17 11:42:04,677 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-17 11:42:05,652 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Fahrzeugzustand
2025-11-17 11:42:07,583 - ispa_next.functions - DEBUG - check_home_dealer_add_to_list
2025-11-17 11:42:07,584 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-17 11:42:07,686 - ispa_next.common.shared - DEBUG - ISPA tab Fahrzeugzustand is already open
2025-11-17 11:42:11,937 - ispa_next.functions - DEBUG - Home dealer assignment button not available
2025-11-17 11:42:11,937 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-17 11:42:11,937 - ispa_next.rkr_manager.main - DEBUG - early exiting RemoteKeyReadManager - enabled=False or early_exit_enabled=True
2025-11-17 11:42:11,939 - ispa_next.functions - DEBUG - generate_attachments
2025-11-17 11:42:11,942 - ispa_next.functions - DEBUG - check_service_requirement
2025-11-17 11:42:11,942 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 11:42:12,450 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-17 11:42:13,431 - ispa_next.functions - DEBUG - check_service_requirement couldn't find CBS table, returning False
2025-11-17 11:42:13,435 - ispa_next.wipers - DEBUG - handle_wiper_service_contracts
2025-11-17 11:42:13,436 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 11:42:13,523 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-17 11:42:13,910 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:42:14,418 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-17 11:42:14,419 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 11:42:15,230 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-17 11:42:15,231 - ispa_next.package_manager.main - DEBUG - updating cart content
2025-11-17 11:42:17,152 - ispa_next.package_manager.main - DEBUG - updating advice list content
2025-11-17 11:42:17,155 - ispa_next.package_manager.helper - DEBUG - get_advice_list_contents
2025-11-17 11:42:17,943 - ispa_next.package_manager.main - DEBUG - determining package movements
2025-11-17 11:42:17,945 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-17 11:42:17,948 - ispa_next.package_manager.main - DEBUG - Cannot place Auswuchten der Räder: placement requirements not met
2025-11-17 11:42:17,949 - ispa_next.package_manager.main - DEBUG - found packages to cart: {Package(name=Kostenloser Scheibencheck, source=from_tab, target=cart)}
2025-11-17 11:42:17,950 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-17 11:42:17,952 - ispa_next.package_manager.main - DEBUG - Cannot place Ladewunsch und Ladezustand: not present in source
2025-11-17 11:42:17,954 - ispa_next.package_manager.main - DEBUG - found packages to advice_list: set()
2025-11-17 11:42:17,955 - ispa_next.package_manager.main - DEBUG - determining package to delete
2025-11-17 11:42:17,957 - ispa_next.package_manager.main - DEBUG - found packages to delete: set()
2025-11-17 11:42:17,958 - ispa_next.package_manager.main - DEBUG - determining package to update
2025-11-17 11:42:17,959 - ispa_next.package_manager.main - DEBUG - found packages to update: set()
2025-11-17 11:42:17,961 - ispa_next.package_manager.helper - DEBUG - add_to_cart called
2025-11-17 11:42:18,639 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kataloge
2025-11-17 11:42:19,264 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kataloge
2025-11-17 11:42:32,323 - ispa_next.package_manager.helper - DEBUG - _add_to_container_manual
2025-11-17 11:42:32,325 - ispa_next.functions - DEBUG - verify_cart_packages_additional_texts
2025-11-17 11:42:32,326 - ispa_next.functions - DEBUG - check_cart_for_additional_text_packages
2025-11-17 11:42:32,327 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 11:42:34,985 - ispa_next.functions - DEBUG - handle_mobility_replacement
2025-11-17 11:42:34,987 - ispa_next.functions - DEBUG - verify_battery_in_motoroil_package
2025-11-17 11:42:34,989 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 11:42:37,641 - ispa_next.functions - DEBUG - verify_breaks_in_break_package
2025-11-17 11:42:37,643 - ispa_next.functions - DEBUG - process_check_control
2025-11-17 11:42:37,645 - ispa_next.functions - DEBUG - trying add_material_to_package
2025-11-17 11:42:37,647 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 11:42:40,278 - ispa_next.functions - DEBUG - notify_aw_increase_to_service_advisor
2025-11-17 11:42:57,499 - ispa_next.functions - DEBUG - check_cart_packages_for_parts_service_and_parts_availability
2025-11-17 11:42:58,269 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-17 11:42:59,121 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Abschluss
2025-11-17 11:42:59,354 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 11:43:08,968 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-17 11:43:13,208 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-17 11:43:18,649 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-17 11:43:18,651 - ispa_next.appointment_ending - DEBUG - entered complete process
2025-11-17 11:43:18,652 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-17 11:43:19,615 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-17 11:43:19,743 - ispa_next.common.shared - DEBUG - ISPA tab Abschluss is already open
2025-11-17 11:43:19,744 - ispa_next.appointment_ending - DEBUG - complete_process isn't exiting early.
2025-11-17 11:43:22,245 - ispa_next.appointment_ending - DEBUG - No need to assign service parts target.
2025-11-17 11:43:32,550 - ispa_next.appointment_ending - DEBUG - return from complete process straight to process_list with saving without error_dialog.
2025-11-17 11:43:32,923 - ispa_next.appointment_loop.main - DEBUG - Closing appointment 6.
2025-11-17 11:43:34,488 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-17 11:43:35,408 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 555
2025-11-17 11:43:35,409 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 1
2025-11-17 11:43:39,491 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 107
2025-11-17 11:43:39,492 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-17 11:43:40,681 - ispa_next.appointments.models - DEBUG - Appointment Däffert Gallmann GG-MG 122E WBA5X710X0FH88078 ohne Termin.
2025-11-17 11:43:40,685 - ispa_next.main - DEBUG - 



2025-11-17 11:43:40,685 - ispa_next.main - DEBUG - starting with process 7 (DA-WS 168) of 11
2025-11-17 11:43:40,694 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-17 11:43:42,520 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-17 11:43:44,306 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 555
2025-11-17 11:43:44,307 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 107
2025-11-17 11:43:46,264 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 1
2025-11-17 11:43:46,265 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-17 11:44:20,632 - ispa_next.rkr_manager.main - DEBUG - RemoteKeyReadManager initialized
2025-11-17 11:44:32,716 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 11:44:34,009 - ispa_next.functions - DEBUG - check_and_verify_hu_date
2025-11-17 11:44:34,010 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:44:34,131 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 11:44:34,453 - ispa_next.functions - DEBUG - check_potential_workshop_test
2025-11-17 11:44:34,458 - ispa_next.functions - DEBUG - check_vehicle_age_for_service_plus
2025-11-17 11:44:34,459 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:44:34,544 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 11:44:46,831 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-17 11:44:46,833 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 11:44:48,172 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-17 11:44:50,178 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-17 11:44:50,318 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-17 11:44:53,579 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-17 11:44:53,682 - ispa_next.rkr_manager.state - DEBUG - Getting cart and advice list contents
2025-11-17 11:44:53,683 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-17 11:45:05,787 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: non_blocking_wait
2025-11-17 11:45:06,792 - ispa_next.functions - DEBUG - handle_data_privacy_consent
2025-11-17 11:45:06,792 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:45:07,317 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-17 11:45:23,361 - ispa_next.functions - DEBUG - DSE icon is red
2025-11-17 11:45:33,234 - ispa_next.functions - DEBUG - transfer_customer_data_to_appointment
2025-11-17 11:45:33,236 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:45:33,326 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 11:45:33,327 - ispa_next.functions - DEBUG - fetch_customer_data
2025-11-17 11:45:33,414 - ispa_next.functions - DEBUG - fetch_customer_data_from_bmw_id
2025-11-17 11:45:33,623 - ispa_next.functions - DEBUG - fetch_customer_data_from_dms
2025-11-17 11:45:34,972 - ispa_next.functions - DEBUG - All data found, skipping remaining sources
2025-11-17 11:45:35,218 - ispa_next.functions - DEBUG - copy_customer_data_to_appointment
2025-11-17 11:45:41,407 - ispa_next.functions - DEBUG - Updated appointment (AE00049821) customer contact data.
2025-11-17 11:45:42,348 - ispa_next.functions - DEBUG - check_for_alpina_vehicle
2025-11-17 11:45:42,349 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:45:42,528 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 11:45:42,748 - ispa_next.functions - DEBUG - DMS info search failed: Dialog not available
2025-11-17 11:45:42,751 - ispa_next.functions - DEBUG - check_bmw_id_add_to_list
2025-11-17 11:45:42,881 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-17 11:45:43,966 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Fahrzeugzustand
2025-11-17 11:45:45,706 - ispa_next.functions - DEBUG - check_home_dealer_add_to_list
2025-11-17 11:45:45,707 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-17 11:45:45,804 - ispa_next.common.shared - DEBUG - ISPA tab Fahrzeugzustand is already open
2025-11-17 11:45:50,518 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-17 11:45:50,520 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 11:45:51,042 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-17 11:45:53,046 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-17 11:45:53,184 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-17 11:45:53,342 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-17 11:45:53,445 - ispa_next.rkr_manager.state - DEBUG - Getting cart and advice list contents
2025-11-17 11:45:53,445 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-17 11:46:05,234 - ispa_next.rkr_manager.state - DEBUG - Waiting for timeout to pass
2025-11-17 11:47:05,236 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-17 11:47:17,136 - ispa_next.rkr_manager.helper - DEBUG - Found button 'Schlüsseldaten überschreiben und öffnen (Empfohlen)' in nested popup
2025-11-17 11:47:24,898 - ispa_next.rkr_manager.state - DEBUG - Checking cart items after successfull RKR
2025-11-17 11:47:24,898 - ispa_next.rkr_manager.state - DEBUG - Checking color in CBS positions
2025-11-17 11:47:29,617 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: success
2025-11-17 11:47:30,623 - ispa_next.functions - DEBUG - generate_attachments
2025-11-17 11:47:30,623 - ispa_next.functions - DEBUG - check_service_requirement
2025-11-17 11:47:30,624 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 11:47:30,756 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-17 11:47:34,929 - ispa_next.functions - DEBUG - check_service_requirement result: pdf_needed =False
2025-11-17 11:47:34,933 - ispa_next.wipers - DEBUG - handle_wiper_service_contracts
2025-11-17 11:47:34,933 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 11:47:35,024 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-17 11:47:35,391 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:47:35,949 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-17 11:47:35,950 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 11:47:36,733 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-17 11:47:36,734 - ispa_next.package_manager.main - DEBUG - updating cart content
2025-11-17 11:47:39,247 - ispa_next.package_manager.main - DEBUG - updating advice list content
2025-11-17 11:47:39,252 - ispa_next.package_manager.helper - DEBUG - get_advice_list_contents
2025-11-17 11:47:40,527 - ispa_next.package_manager.main - DEBUG - determining package movements
2025-11-17 11:47:40,532 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-17 11:47:40,534 - ispa_next.package_manager.main - DEBUG - Cannot place Auswuchten der Räder: placement requirements not met
2025-11-17 11:47:40,537 - ispa_next.package_manager.main - DEBUG - found packages to cart: {Package(name=Kostenloser Scheibencheck, source=from_tab, target=cart)}
2025-11-17 11:47:40,539 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-17 11:47:40,541 - ispa_next.package_manager.main - DEBUG - Cannot place Ladewunsch und Ladezustand: not present in source
2025-11-17 11:47:40,542 - ispa_next.package_manager.main - DEBUG - found packages to advice_list: set()
2025-11-17 11:47:40,544 - ispa_next.package_manager.main - DEBUG - determining package to delete
2025-11-17 11:47:40,545 - ispa_next.package_manager.main - DEBUG - found packages to delete: set()
2025-11-17 11:47:40,546 - ispa_next.package_manager.main - DEBUG - determining package to update
2025-11-17 11:47:40,548 - ispa_next.package_manager.main - DEBUG - found packages to update: set()
2025-11-17 11:47:40,550 - ispa_next.package_manager.helper - DEBUG - add_to_cart called
2025-11-17 11:47:41,224 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kataloge
2025-11-17 11:47:42,234 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kataloge
2025-11-17 11:47:56,042 - ispa_next.package_manager.helper - DEBUG - _add_to_container_manual
2025-11-17 11:47:56,044 - ispa_next.functions - DEBUG - verify_cart_packages_additional_texts
2025-11-17 11:47:56,045 - ispa_next.functions - DEBUG - check_cart_for_additional_text_packages
2025-11-17 11:47:56,046 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 11:47:59,393 - ispa_next.functions - DEBUG - Adding additional texts to cart items
2025-11-17 11:48:02,783 - ispa_next.functions - DEBUG - handle_mobility_replacement
2025-11-17 11:48:02,869 - ispa_next.functions - DEBUG - verify_battery_in_motoroil_package
2025-11-17 11:48:02,881 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 11:48:06,391 - ispa_next.functions - DEBUG - verify_breaks_in_break_package
2025-11-17 11:48:06,393 - ispa_next.functions - DEBUG - process_check_control
2025-11-17 11:48:06,394 - ispa_next.functions - DEBUG - trying add_material_to_package
2025-11-17 11:48:06,396 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 11:48:09,727 - ispa_next.functions - DEBUG - notify_aw_increase_to_service_advisor
2025-11-17 11:48:27,890 - ispa_next.functions - DEBUG - check_cart_packages_for_parts_service_and_parts_availability
2025-11-17 11:48:28,680 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-17 11:48:29,423 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Abschluss
2025-11-17 11:48:29,644 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 11:48:38,432 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-17 11:48:43,611 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-17 11:48:49,031 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-17 11:48:54,581 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-17 11:48:54,582 - ispa_next.appointment_ending - DEBUG - entered complete process
2025-11-17 11:48:54,583 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-17 11:48:55,296 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-17 11:48:55,394 - ispa_next.common.shared - DEBUG - ISPA tab Abschluss is already open
2025-11-17 11:48:55,396 - ispa_next.appointment_ending - DEBUG - complete_process isn't exiting early.
2025-11-17 11:48:58,074 - ispa_next.appointment_ending - DEBUG - No need to assign service parts target.
2025-11-17 11:49:09,480 - ispa_next.appointment_ending - DEBUG - return from complete process straight to process_list with saving without error_dialog.
2025-11-17 11:49:09,859 - ispa_next.appointment_loop.main - DEBUG - Closing appointment 7.
2025-11-17 11:49:11,446 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-17 11:49:12,418 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 555
2025-11-17 11:49:12,420 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 1
2025-11-17 11:49:16,842 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 107
2025-11-17 11:49:16,843 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-17 11:49:17,978 - ispa_next.appointments.models - DEBUG - Appointment Däffert Gallmann GG-MG 122E WBA5X710X0FH88078 ohne Termin.
2025-11-17 11:49:17,981 - ispa_next.main - DEBUG - 



2025-11-17 11:49:17,981 - ispa_next.main - DEBUG - starting with process 8 (WI-MG 455) of 11
2025-11-17 11:49:17,984 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-17 11:49:19,735 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-17 11:49:21,528 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 555
2025-11-17 11:49:21,529 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 107
2025-11-17 11:49:23,510 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 1
2025-11-17 11:49:23,511 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-17 11:50:01,371 - ispa_next.rkr_manager.main - DEBUG - RemoteKeyReadManager initialized
2025-11-17 11:50:13,864 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 11:50:15,745 - ispa_next.functions - DEBUG - check_and_verify_hu_date
2025-11-17 11:50:15,746 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:50:15,825 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 11:50:16,100 - ispa_next.functions - DEBUG - HU date is not available.
2025-11-17 11:50:24,577 - ispa_next.functions - DEBUG - check_potential_workshop_test
2025-11-17 11:50:24,581 - ispa_next.functions - DEBUG - check_vehicle_age_for_service_plus
2025-11-17 11:50:24,582 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:50:24,710 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 11:50:37,023 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-17 11:50:37,025 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 11:50:38,346 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-17 11:50:40,350 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-17 11:50:48,101 - ispa_next.rkr_manager.state - DEBUG - RKR not available or supported
2025-11-17 11:50:57,004 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: no_support
2025-11-17 11:50:58,009 - ispa_next.functions - DEBUG - handle_data_privacy_consent
2025-11-17 11:50:58,009 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:50:58,554 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-17 11:51:13,172 - ispa_next.functions - DEBUG - DSE icon is yellow
2025-11-17 11:51:13,173 - ispa_next.functions - DEBUG - DSE dealer channels are valid
2025-11-17 11:51:22,810 - ispa_next.functions - DEBUG - transfer_customer_data_to_appointment
2025-11-17 11:51:22,812 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:51:22,946 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 11:51:22,947 - ispa_next.functions - DEBUG - fetch_customer_data
2025-11-17 11:51:23,004 - ispa_next.functions - DEBUG - fetch_customer_data_from_bmw_id
2025-11-17 11:51:24,299 - ispa_next.functions - DEBUG - fetch_customer_data_from_dms
2025-11-17 11:51:25,524 - ispa_next.functions - DEBUG - fetch_customer_data_from_wps
2025-11-17 11:51:26,830 - ispa_next.functions - DEBUG - fetch_customer_data_from_temporary_data
2025-11-17 11:51:27,286 - ispa_next.functions - DEBUG - copy_customer_data_to_appointment
2025-11-17 11:51:29,178 - ispa_next.functions - DEBUG - Updated appointment (AG00036698) customer contact data.
2025-11-17 11:51:30,075 - ispa_next.functions - DEBUG - check_for_alpina_vehicle
2025-11-17 11:51:30,084 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:51:30,623 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 11:51:33,297 - ispa_next.functions - DEBUG - check_bmw_id_add_to_list
2025-11-17 11:51:34,442 - ispa_next.functions - DEBUG - check_home_dealer_add_to_list
2025-11-17 11:51:34,442 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-17 11:51:35,396 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Fahrzeugzustand
2025-11-17 11:51:39,935 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-17 11:51:39,935 - ispa_next.rkr_manager.main - DEBUG - early exiting RemoteKeyReadManager - enabled=False or early_exit_enabled=True
2025-11-17 11:51:39,939 - ispa_next.functions - DEBUG - generate_attachments
2025-11-17 11:51:39,940 - ispa_next.functions - DEBUG - check_service_requirement
2025-11-17 11:51:39,941 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 11:51:40,438 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-17 11:51:44,645 - ispa_next.functions - DEBUG - check_service_requirement result: pdf_needed =False
2025-11-17 11:51:44,650 - ispa_next.wipers - DEBUG - handle_wiper_service_contracts
2025-11-17 11:51:44,665 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 11:51:44,761 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-17 11:51:45,158 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:51:45,639 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-17 11:51:45,640 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 11:51:46,522 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-17 11:51:46,522 - ispa_next.package_manager.main - DEBUG - updating cart content
2025-11-17 11:51:49,060 - ispa_next.package_manager.main - DEBUG - updating advice list content
2025-11-17 11:51:49,062 - ispa_next.package_manager.helper - DEBUG - get_advice_list_contents
2025-11-17 11:51:50,306 - ispa_next.package_manager.main - DEBUG - determining package movements
2025-11-17 11:51:50,309 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-17 11:51:50,313 - ispa_next.package_manager.main - DEBUG - Cannot place Auswuchten der Räder: placement requirements not met
2025-11-17 11:51:50,316 - ispa_next.package_manager.main - DEBUG - found packages to cart: {Package(name=Kostenloser Scheibencheck, source=from_tab, target=cart)}
2025-11-17 11:51:50,318 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-17 11:51:50,319 - ispa_next.package_manager.main - DEBUG - Cannot place Ladewunsch und Ladezustand: not present in source
2025-11-17 11:51:50,321 - ispa_next.package_manager.main - DEBUG - found packages to advice_list: set()
2025-11-17 11:51:50,322 - ispa_next.package_manager.main - DEBUG - determining package to delete
2025-11-17 11:51:50,323 - ispa_next.package_manager.main - DEBUG - found packages to delete: set()
2025-11-17 11:51:50,325 - ispa_next.package_manager.main - DEBUG - determining package to update
2025-11-17 11:51:50,327 - ispa_next.package_manager.main - DEBUG - found packages to update: set()
2025-11-17 11:51:50,328 - ispa_next.package_manager.helper - DEBUG - add_to_cart called
2025-11-17 11:51:51,015 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kataloge
2025-11-17 11:51:51,919 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kataloge
2025-11-17 11:52:05,774 - ispa_next.package_manager.helper - DEBUG - _add_to_container_manual
2025-11-17 11:52:05,776 - ispa_next.functions - DEBUG - verify_cart_packages_additional_texts
2025-11-17 11:52:05,777 - ispa_next.functions - DEBUG - check_cart_for_additional_text_packages
2025-11-17 11:52:05,777 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 11:52:09,146 - ispa_next.functions - DEBUG - handle_mobility_replacement
2025-11-17 11:52:09,148 - ispa_next.functions - DEBUG - verify_battery_in_motoroil_package
2025-11-17 11:52:09,152 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 11:52:12,586 - ispa_next.functions - DEBUG - verify_breaks_in_break_package
2025-11-17 11:52:12,588 - ispa_next.functions - DEBUG - process_check_control
2025-11-17 11:52:12,590 - ispa_next.functions - DEBUG - trying add_material_to_package
2025-11-17 11:52:12,595 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 11:52:16,007 - ispa_next.functions - DEBUG - notify_aw_increase_to_service_advisor
2025-11-17 11:52:33,732 - ispa_next.functions - DEBUG - check_cart_packages_for_parts_service_and_parts_availability
2025-11-17 11:52:34,514 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-17 11:52:35,364 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Abschluss
2025-11-17 11:52:35,599 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 11:52:46,435 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-17 11:52:52,404 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-17 11:52:58,260 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-17 11:53:04,156 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-17 11:53:11,741 - ispa_next.appointment_ending - DEBUG - entered complete process
2025-11-17 11:53:11,742 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-17 11:53:12,727 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-17 11:53:12,832 - ispa_next.common.shared - DEBUG - ISPA tab Abschluss is already open
2025-11-17 11:53:12,833 - ispa_next.appointment_ending - DEBUG - complete_process isn't exiting early.
2025-11-17 11:53:17,371 - ispa_next.appointment_ending - DEBUG - Service parts target assigned before process exit.
2025-11-17 11:53:28,734 - ispa_next.appointment_ending - DEBUG - return from complete process straight to process_list with saving without error_dialog.
2025-11-17 11:53:29,108 - ispa_next.appointment_loop.main - DEBUG - Closing appointment 8.
2025-11-17 11:53:30,768 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-17 11:53:31,749 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 556
2025-11-17 11:53:31,751 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 1
2025-11-17 11:53:36,363 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 108
2025-11-17 11:53:36,364 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-17 11:53:37,888 - ispa_next.appointments.models - DEBUG - Appointment Firma Schufa Holding AG WI-SF 178 WBA31GN0705000668 ohne Termin.
2025-11-17 11:53:37,898 - ispa_next.appointments.models - DEBUG - Appointment Däffert Gallmann GG-MG 122E WBA5X710X0FH88078 ohne Termin.
2025-11-17 11:53:37,901 - ispa_next.main - DEBUG - 



2025-11-17 11:53:37,901 - ispa_next.main - DEBUG - starting with process 9 (WI-MG 454) of 11
2025-11-17 11:53:37,905 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-17 11:53:39,636 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-17 11:53:41,356 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 556
2025-11-17 11:53:41,357 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 108
2025-11-17 11:53:43,290 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 1
2025-11-17 11:53:43,291 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-17 11:54:22,608 - ispa_next.rkr_manager.main - DEBUG - RemoteKeyReadManager initialized
2025-11-17 11:54:34,915 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 11:54:36,824 - ispa_next.functions - DEBUG - check_and_verify_hu_date
2025-11-17 11:54:36,825 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:54:36,916 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 11:54:37,227 - ispa_next.functions - DEBUG - check_potential_workshop_test
2025-11-17 11:54:37,230 - ispa_next.functions - DEBUG - check_vehicle_age_for_service_plus
2025-11-17 11:54:37,230 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:54:37,321 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 11:54:50,097 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-17 11:54:50,099 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 11:54:51,429 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-17 11:54:53,439 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-17 11:55:01,052 - ispa_next.rkr_manager.state - DEBUG - RKR not available or supported
2025-11-17 11:55:10,287 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: no_support
2025-11-17 11:55:11,292 - ispa_next.functions - DEBUG - handle_data_privacy_consent
2025-11-17 11:55:11,293 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:55:11,820 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-17 11:55:26,221 - ispa_next.functions - DEBUG - DSE icon is yellow
2025-11-17 11:55:26,221 - ispa_next.functions - DEBUG - DSE dealer channels are valid
2025-11-17 11:55:35,517 - ispa_next.functions - DEBUG - transfer_customer_data_to_appointment
2025-11-17 11:55:35,519 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:55:35,612 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 11:55:35,613 - ispa_next.functions - DEBUG - fetch_customer_data
2025-11-17 11:55:35,678 - ispa_next.functions - DEBUG - fetch_customer_data_from_bmw_id
2025-11-17 11:55:37,016 - ispa_next.functions - DEBUG - fetch_customer_data_from_dms
2025-11-17 11:55:38,211 - ispa_next.functions - DEBUG - fetch_customer_data_from_wps
2025-11-17 11:55:39,672 - ispa_next.functions - DEBUG - fetch_customer_data_from_temporary_data
2025-11-17 11:55:40,087 - ispa_next.functions - DEBUG - copy_customer_data_to_appointment
2025-11-17 11:55:42,136 - ispa_next.functions - DEBUG - Updated appointment (AG00036696) customer contact data.
2025-11-17 11:55:43,084 - ispa_next.functions - DEBUG - check_for_alpina_vehicle
2025-11-17 11:55:43,084 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:55:43,262 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 11:55:46,202 - ispa_next.functions - DEBUG - check_bmw_id_add_to_list
2025-11-17 11:55:47,458 - ispa_next.functions - DEBUG - check_home_dealer_add_to_list
2025-11-17 11:55:47,459 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-17 11:55:48,465 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Fahrzeugzustand
2025-11-17 11:55:52,982 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-17 11:55:52,982 - ispa_next.rkr_manager.main - DEBUG - early exiting RemoteKeyReadManager - enabled=False or early_exit_enabled=True
2025-11-17 11:55:53,016 - ispa_next.functions - DEBUG - generate_attachments
2025-11-17 11:55:53,017 - ispa_next.functions - DEBUG - check_service_requirement
2025-11-17 11:55:53,018 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 11:55:53,531 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-17 11:55:57,768 - ispa_next.functions - DEBUG - check_service_requirement result: pdf_needed =False
2025-11-17 11:55:57,774 - ispa_next.wipers - DEBUG - handle_wiper_service_contracts
2025-11-17 11:55:57,775 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 11:55:57,884 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-17 11:55:58,275 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:55:58,783 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-17 11:55:58,814 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 11:55:59,747 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-17 11:55:59,748 - ispa_next.package_manager.main - DEBUG - updating cart content
2025-11-17 11:56:02,287 - ispa_next.package_manager.main - DEBUG - updating advice list content
2025-11-17 11:56:02,289 - ispa_next.package_manager.helper - DEBUG - get_advice_list_contents
2025-11-17 11:56:03,571 - ispa_next.package_manager.main - DEBUG - determining package movements
2025-11-17 11:56:03,572 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-17 11:56:03,574 - ispa_next.package_manager.main - DEBUG - Cannot place Auswuchten der Räder: placement requirements not met
2025-11-17 11:56:03,575 - ispa_next.package_manager.main - DEBUG - found packages to cart: {Package(name=Kostenloser Scheibencheck, source=from_tab, target=cart)}
2025-11-17 11:56:03,576 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-17 11:56:03,577 - ispa_next.package_manager.main - DEBUG - Cannot place Ladewunsch und Ladezustand: not present in source
2025-11-17 11:56:03,578 - ispa_next.package_manager.main - DEBUG - found packages to advice_list: set()
2025-11-17 11:56:03,579 - ispa_next.package_manager.main - DEBUG - determining package to delete
2025-11-17 11:56:03,581 - ispa_next.package_manager.main - DEBUG - found packages to delete: set()
2025-11-17 11:56:03,582 - ispa_next.package_manager.main - DEBUG - determining package to update
2025-11-17 11:56:03,583 - ispa_next.package_manager.main - DEBUG - found packages to update: set()
2025-11-17 11:56:03,585 - ispa_next.package_manager.helper - DEBUG - add_to_cart called
2025-11-17 11:56:04,275 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kataloge
2025-11-17 11:56:05,198 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kataloge
2025-11-17 11:56:19,209 - ispa_next.package_manager.helper - DEBUG - _add_to_container_manual
2025-11-17 11:56:19,211 - ispa_next.functions - DEBUG - verify_cart_packages_additional_texts
2025-11-17 11:56:19,212 - ispa_next.functions - DEBUG - check_cart_for_additional_text_packages
2025-11-17 11:56:19,213 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 11:56:22,646 - ispa_next.functions - DEBUG - handle_mobility_replacement
2025-11-17 11:56:22,647 - ispa_next.functions - DEBUG - verify_battery_in_motoroil_package
2025-11-17 11:56:22,668 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 11:56:26,089 - ispa_next.functions - DEBUG - verify_breaks_in_break_package
2025-11-17 11:56:26,090 - ispa_next.functions - DEBUG - process_check_control
2025-11-17 11:56:26,092 - ispa_next.functions - DEBUG - trying add_material_to_package
2025-11-17 11:56:26,097 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 11:56:29,543 - ispa_next.functions - DEBUG - notify_aw_increase_to_service_advisor
2025-11-17 11:56:47,217 - ispa_next.functions - DEBUG - check_cart_packages_for_parts_service_and_parts_availability
2025-11-17 11:56:47,982 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-17 11:56:48,820 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Abschluss
2025-11-17 11:56:49,076 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 11:56:59,935 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-17 11:57:06,025 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-17 11:57:11,251 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-17 11:57:17,403 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-17 11:57:25,727 - ispa_next.appointment_ending - DEBUG - entered complete process
2025-11-17 11:57:25,728 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-17 11:57:26,728 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-17 11:57:26,839 - ispa_next.common.shared - DEBUG - ISPA tab Abschluss is already open
2025-11-17 11:57:26,841 - ispa_next.appointment_ending - DEBUG - complete_process isn't exiting early.
2025-11-17 11:57:31,490 - ispa_next.appointment_ending - DEBUG - Service parts target assigned before process exit.
2025-11-17 11:57:42,552 - ispa_next.appointment_ending - DEBUG - return from complete process straight to process_list with saving without error_dialog.
2025-11-17 11:57:42,919 - ispa_next.appointment_loop.main - DEBUG - Closing appointment 9.
2025-11-17 11:57:44,594 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-17 11:57:45,522 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 556
2025-11-17 11:57:45,523 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 1
2025-11-17 11:57:50,153 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 108
2025-11-17 11:57:50,154 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-17 11:57:51,302 - ispa_next.appointments.models - DEBUG - Appointment Firma Schufa Holding AG WI-SF 178 WBA31GN0705000668 ohne Termin.
2025-11-17 11:57:51,311 - ispa_next.appointments.models - DEBUG - Appointment Däffert Gallmann GG-MG 122E WBA5X710X0FH88078 ohne Termin.
2025-11-17 11:57:51,314 - ispa_next.main - DEBUG - 



2025-11-17 11:57:51,315 - ispa_next.main - DEBUG - starting with process 10 (GG-YA 107) of 11
2025-11-17 11:57:51,318 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-17 11:57:53,053 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-17 11:57:55,221 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 556
2025-11-17 11:57:55,223 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 108
2025-11-17 11:57:57,181 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 1
2025-11-17 11:57:57,182 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-17 11:58:33,801 - ispa_next.rkr_manager.main - DEBUG - RemoteKeyReadManager initialized
2025-11-17 11:58:46,164 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 11:58:48,748 - ispa_next.functions - DEBUG - check_and_verify_hu_date
2025-11-17 11:58:48,749 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:58:48,831 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 11:58:49,112 - ispa_next.functions - DEBUG - check_potential_workshop_test
2025-11-17 11:58:49,114 - ispa_next.functions - DEBUG - check_vehicle_age_for_service_plus
2025-11-17 11:58:49,115 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:58:49,238 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 11:59:02,175 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-17 11:59:02,176 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 11:59:03,921 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-17 11:59:05,925 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-17 11:59:06,066 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-17 11:59:09,320 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-17 11:59:09,418 - ispa_next.rkr_manager.state - DEBUG - Getting cart and advice list contents
2025-11-17 11:59:09,419 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-17 11:59:21,049 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: non_blocking_wait
2025-11-17 11:59:22,054 - ispa_next.functions - DEBUG - handle_data_privacy_consent
2025-11-17 11:59:22,055 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:59:22,579 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-17 11:59:36,938 - ispa_next.functions - DEBUG - DSE icon is yellow
2025-11-17 11:59:46,722 - ispa_next.functions - DEBUG - transfer_customer_data_to_appointment
2025-11-17 11:59:46,724 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:59:46,817 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 11:59:46,818 - ispa_next.functions - DEBUG - fetch_customer_data
2025-11-17 11:59:46,888 - ispa_next.functions - DEBUG - fetch_customer_data_from_bmw_id
2025-11-17 11:59:48,200 - ispa_next.functions - DEBUG - All data found, skipping remaining sources
2025-11-17 11:59:48,422 - ispa_next.functions - DEBUG - copy_customer_data_to_appointment
2025-11-17 11:59:53,646 - ispa_next.functions - DEBUG - Updated appointment (AB00061381) customer contact data.
2025-11-17 11:59:54,610 - ispa_next.functions - DEBUG - check_for_alpina_vehicle
2025-11-17 11:59:54,611 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 11:59:54,837 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 11:59:55,117 - ispa_next.functions - DEBUG - DMS info search failed: Dialog not available
2025-11-17 11:59:55,119 - ispa_next.functions - DEBUG - check_bmw_id_add_to_list
2025-11-17 11:59:56,372 - ispa_next.functions - DEBUG - check_home_dealer_add_to_list
2025-11-17 11:59:56,373 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-17 11:59:57,456 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Fahrzeugzustand
2025-11-17 12:00:01,086 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-17 12:00:01,089 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 12:00:01,600 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-17 12:00:03,603 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-17 12:00:03,754 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-17 12:00:03,931 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-17 12:00:04,043 - ispa_next.rkr_manager.state - DEBUG - Getting cart and advice list contents
2025-11-17 12:00:04,043 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-17 12:00:25,783 - ispa_next.rkr_manager.state - DEBUG - Waiting for timeout to pass
2025-11-17 12:01:25,798 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-17 12:01:37,058 - ispa_next.rkr_manager.helper - DEBUG - Found button 'Hinzufügen (Empfohlen)' in nested popup
2025-11-17 12:01:45,139 - ispa_next.rkr_manager.state - DEBUG - Checking cart items after successfull RKR
2025-11-17 12:01:45,140 - ispa_next.rkr_manager.state - DEBUG - Checking color in CBS positions
2025-11-17 12:01:49,379 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: success
2025-11-17 12:01:50,385 - ispa_next.functions - DEBUG - generate_attachments
2025-11-17 12:01:50,386 - ispa_next.functions - DEBUG - check_service_requirement
2025-11-17 12:01:50,386 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 12:01:50,533 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-17 12:01:54,719 - ispa_next.functions - DEBUG - check_service_requirement result: pdf_needed =False
2025-11-17 12:01:54,725 - ispa_next.wipers - DEBUG - handle_wiper_service_contracts
2025-11-17 12:01:54,726 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 12:01:54,825 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-17 12:01:59,828 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 12:02:00,347 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-17 12:02:00,348 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 12:02:01,168 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-17 12:02:01,169 - ispa_next.package_manager.main - DEBUG - updating cart content
2025-11-17 12:02:03,684 - ispa_next.package_manager.main - DEBUG - updating advice list content
2025-11-17 12:02:03,687 - ispa_next.package_manager.helper - DEBUG - get_advice_list_contents
2025-11-17 12:02:04,945 - ispa_next.package_manager.main - DEBUG - determining package movements
2025-11-17 12:02:04,946 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-17 12:02:04,948 - ispa_next.package_manager.main - DEBUG - Cannot place Auswuchten der Räder: placement requirements not met
2025-11-17 12:02:04,949 - ispa_next.package_manager.main - DEBUG - found packages to cart: {Package(name=Kostenloser Scheibencheck, source=from_tab, target=cart)}
2025-11-17 12:02:04,950 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-17 12:02:04,952 - ispa_next.package_manager.main - DEBUG - Cannot place Ladewunsch und Ladezustand: not present in source
2025-11-17 12:02:04,953 - ispa_next.package_manager.main - DEBUG - found packages to advice_list: set()
2025-11-17 12:02:04,954 - ispa_next.package_manager.main - DEBUG - determining package to delete
2025-11-17 12:02:04,956 - ispa_next.package_manager.main - DEBUG - found packages to delete: set()
2025-11-17 12:02:04,957 - ispa_next.package_manager.main - DEBUG - determining package to update
2025-11-17 12:02:04,962 - ispa_next.package_manager.main - DEBUG - found packages to update: set()
2025-11-17 12:02:04,967 - ispa_next.package_manager.helper - DEBUG - add_to_cart called
2025-11-17 12:02:05,679 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kataloge
2025-11-17 12:02:06,699 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kataloge
2025-11-17 12:02:20,941 - ispa_next.package_manager.helper - DEBUG - _add_to_container_manual
2025-11-17 12:02:20,944 - ispa_next.functions - DEBUG - verify_cart_packages_additional_texts
2025-11-17 12:02:20,945 - ispa_next.functions - DEBUG - check_cart_for_additional_text_packages
2025-11-17 12:02:20,946 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 12:02:24,307 - ispa_next.functions - DEBUG - handle_mobility_replacement
2025-11-17 12:02:24,309 - ispa_next.functions - DEBUG - verify_battery_in_motoroil_package
2025-11-17 12:02:24,313 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 12:02:27,707 - ispa_next.functions - DEBUG - verify_breaks_in_break_package
2025-11-17 12:02:27,708 - ispa_next.functions - DEBUG - process_check_control
2025-11-17 12:02:27,710 - ispa_next.functions - DEBUG - trying add_material_to_package
2025-11-17 12:02:27,715 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 12:02:31,200 - ispa_next.functions - DEBUG - notify_aw_increase_to_service_advisor
2025-11-17 12:02:47,926 - ispa_next.functions - DEBUG - check_cart_packages_for_parts_service_and_parts_availability
2025-11-17 12:02:48,604 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-17 12:02:49,378 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Abschluss
2025-11-17 12:02:49,580 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 12:03:00,681 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-17 12:03:06,951 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-17 12:03:12,992 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-17 12:03:19,309 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-17 12:03:19,311 - ispa_next.appointment_ending - DEBUG - entered complete process
2025-11-17 12:03:19,312 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-17 12:03:20,435 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-17 12:03:20,534 - ispa_next.common.shared - DEBUG - ISPA tab Abschluss is already open
2025-11-17 12:03:20,535 - ispa_next.appointment_ending - DEBUG - complete_process isn't exiting early.
2025-11-17 12:03:23,422 - ispa_next.appointment_ending - DEBUG - No need to assign service parts target.
2025-11-17 12:03:35,249 - ispa_next.appointment_ending - DEBUG - return from complete process straight to process_list with saving without error_dialog.
2025-11-17 12:03:35,634 - ispa_next.appointment_loop.main - DEBUG - Closing appointment 10.
2025-11-17 12:03:37,553 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-17 12:03:38,646 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 556
2025-11-17 12:03:38,648 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 1
2025-11-17 12:03:43,041 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 108
2025-11-17 12:03:43,042 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-17 12:03:44,386 - ispa_next.appointments.models - DEBUG - Appointment Firma Schufa Holding AG WI-SF 178 WBA31GN0705000668 ohne Termin.
2025-11-17 12:03:44,398 - ispa_next.appointments.models - DEBUG - Appointment Däffert Gallmann GG-MG 122E WBA5X710X0FH88078 ohne Termin.
2025-11-17 12:03:44,401 - ispa_next.main - DEBUG - 



2025-11-17 12:03:44,401 - ispa_next.main - DEBUG - starting with process 11 (FRI-MK 152) of 11
2025-11-17 12:03:44,407 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-17 12:03:46,305 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-17 12:03:48,157 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 556
2025-11-17 12:03:48,159 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 108
2025-11-17 12:03:50,272 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 1
2025-11-17 12:03:50,273 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-17 12:04:31,554 - ispa_next.rkr_manager.main - DEBUG - RemoteKeyReadManager initialized
2025-11-17 12:04:43,399 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 12:04:49,001 - ispa_next.functions - DEBUG - check_and_verify_hu_date
2025-11-17 12:04:49,002 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 12:04:49,091 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 12:04:49,387 - ispa_next.functions - DEBUG - check_potential_workshop_test
2025-11-17 12:04:49,390 - ispa_next.functions - DEBUG - check_vehicle_age_for_service_plus
2025-11-17 12:04:49,391 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 12:04:49,516 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 12:04:53,175 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-17 12:04:53,177 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 12:04:54,786 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-17 12:04:56,791 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-17 12:04:56,945 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-17 12:04:57,107 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-17 12:04:57,199 - ispa_next.rkr_manager.state - DEBUG - Getting cart and advice list contents
2025-11-17 12:04:57,199 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-17 12:05:09,141 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: non_blocking_wait
2025-11-17 12:05:10,145 - ispa_next.functions - DEBUG - handle_data_privacy_consent
2025-11-17 12:05:10,147 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 12:05:10,999 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-17 12:05:28,357 - ispa_next.functions - DEBUG - DSE icon is red
2025-11-17 12:05:39,125 - ispa_next.functions - DEBUG - transfer_customer_data_to_appointment
2025-11-17 12:05:39,128 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 12:05:39,219 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 12:05:39,221 - ispa_next.functions - DEBUG - fetch_customer_data
2025-11-17 12:05:39,288 - ispa_next.functions - DEBUG - fetch_customer_data_from_bmw_id
2025-11-17 12:05:40,698 - ispa_next.functions - DEBUG - All data found, skipping remaining sources
2025-11-17 12:05:40,951 - ispa_next.functions - DEBUG - copy_customer_data_to_appointment
2025-11-17 12:05:47,414 - ispa_next.functions - DEBUG - Updated appointment (AL00019990) customer contact data.
2025-11-17 12:05:48,441 - ispa_next.functions - DEBUG - check_for_alpina_vehicle
2025-11-17 12:05:48,494 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 12:05:49,195 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 12:05:49,525 - ispa_next.functions - DEBUG - DMS info search failed: Dialog not available
2025-11-17 12:05:49,527 - ispa_next.functions - DEBUG - check_bmw_id_add_to_list
2025-11-17 12:05:50,716 - ispa_next.functions - DEBUG - check_home_dealer_add_to_list
2025-11-17 12:05:50,717 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-17 12:05:51,933 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Fahrzeugzustand
2025-11-17 12:05:55,551 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-17 12:05:55,554 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 12:05:56,036 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-17 12:05:58,041 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-17 12:05:58,193 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-17 12:05:58,397 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-17 12:05:58,571 - ispa_next.rkr_manager.state - DEBUG - Getting cart and advice list contents
2025-11-17 12:05:58,572 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-17 12:06:09,896 - ispa_next.rkr_manager.helper - DEBUG - Found button 'Schlüsseldaten überschreiben und öffnen (Empfohlen)' in nested popup
2025-11-17 12:06:17,744 - ispa_next.rkr_manager.state - DEBUG - Checking cart items after successfull RKR
2025-11-17 12:06:17,745 - ispa_next.rkr_manager.state - DEBUG - Checking color in CBS positions
2025-11-17 12:06:21,990 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: success
2025-11-17 12:06:23,013 - ispa_next.functions - DEBUG - generate_attachments
2025-11-17 12:06:23,013 - ispa_next.functions - DEBUG - check_service_requirement
2025-11-17 12:06:23,013 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 12:06:23,126 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-17 12:06:27,305 - ispa_next.functions - DEBUG - check_service_requirement result: pdf_needed =True
2025-11-17 12:06:28,502 - ispa_next.functions - DEBUG - generate_appointment_pdfs
2025-11-17 12:06:43,176 - ispa_next.wipers - DEBUG - handle_wiper_service_contracts
2025-11-17 12:06:43,177 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 12:06:43,348 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-17 12:06:52,809 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 12:06:53,316 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-17 12:06:53,317 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 12:06:54,308 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-17 12:06:54,309 - ispa_next.package_manager.main - DEBUG - updating cart content
2025-11-17 12:06:59,468 - ispa_next.package_manager.main - DEBUG - updating advice list content
2025-11-17 12:06:59,470 - ispa_next.package_manager.helper - DEBUG - get_advice_list_contents
2025-11-17 12:07:00,645 - ispa_next.package_manager.main - DEBUG - determining package movements
2025-11-17 12:07:00,646 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-17 12:07:00,649 - ispa_next.package_manager.main - DEBUG - Cannot place Auswuchten der Räder: placement requirements not met
2025-11-17 12:07:00,656 - ispa_next.package_manager.main - DEBUG - found packages to cart: set()
2025-11-17 12:07:00,660 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-17 12:07:00,662 - ispa_next.package_manager.main - DEBUG - Cannot place Ladewunsch und Ladezustand: not present in source
2025-11-17 12:07:00,664 - ispa_next.package_manager.main - DEBUG - found packages to advice_list: set()
2025-11-17 12:07:00,665 - ispa_next.package_manager.main - DEBUG - determining package to delete
2025-11-17 12:07:00,666 - ispa_next.package_manager.main - DEBUG - found packages to delete: set()
2025-11-17 12:07:00,671 - ispa_next.package_manager.main - DEBUG - determining package to update
2025-11-17 12:07:00,672 - ispa_next.package_manager.main - DEBUG - found packages to update: set()
2025-11-17 12:07:00,695 - ispa_next.functions - DEBUG - verify_cart_packages_additional_texts
2025-11-17 12:07:00,696 - ispa_next.functions - DEBUG - check_cart_for_additional_text_packages
2025-11-17 12:07:00,697 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 12:07:06,231 - ispa_next.functions - DEBUG - Adding additional texts to cart items
2025-11-17 12:07:10,386 - ispa_next.functions - DEBUG - handle_mobility_replacement
2025-11-17 12:07:10,511 - ispa_next.functions - DEBUG - verify_battery_in_motoroil_package
2025-11-17 12:07:10,516 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 12:07:16,345 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 12:07:16,434 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-17 12:07:26,816 - ispa_next.functions - DEBUG - verify_breaks_in_break_package
2025-11-17 12:07:26,818 - ispa_next.functions - DEBUG - process_check_control
2025-11-17 12:07:26,819 - ispa_next.functions - DEBUG - trying add_material_to_package
2025-11-17 12:07:26,837 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 12:07:32,632 - ispa_next.functions - DEBUG - notify_aw_increase_to_service_advisor
2025-11-17 12:07:51,317 - ispa_next.functions - DEBUG - check_cart_packages_for_parts_service_and_parts_availability
2025-11-17 12:07:52,164 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-17 12:07:53,188 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Abschluss
2025-11-17 12:07:53,466 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 12:08:05,258 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-17 12:08:11,882 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-17 12:08:19,723 - ispa_next.appointment_ending - DEBUG - entered complete process
2025-11-17 12:08:19,724 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-17 12:08:20,441 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-17 12:08:20,538 - ispa_next.common.shared - DEBUG - ISPA tab Abschluss is already open
2025-11-17 12:08:20,539 - ispa_next.appointment_ending - DEBUG - complete_process isn't exiting early.
2025-11-17 12:08:25,445 - ispa_next.appointment_ending - DEBUG - Service parts target assigned before process exit.
2025-11-17 12:08:39,807 - ispa_next.appointment_ending - DEBUG - return from complete process straight to process_list with saving without error_dialog.
2025-11-17 12:08:40,194 - ispa_next.appointment_loop.main - DEBUG - Closing appointment 11.
2025-11-17 12:08:42,107 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-17 12:08:43,246 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 556
2025-11-17 12:08:43,247 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 1
2025-11-17 12:08:47,819 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 108
2025-11-17 12:08:47,820 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-17 12:08:49,594 - ispa_next.appointments.models - DEBUG - Appointment Firma Schufa Holding AG WI-SF 178 WBA31GN0705000668 ohne Termin.
2025-11-17 12:08:49,604 - ispa_next.appointments.models - DEBUG - Appointment Däffert Gallmann GG-MG 122E WBA5X710X0FH88078 ohne Termin.
