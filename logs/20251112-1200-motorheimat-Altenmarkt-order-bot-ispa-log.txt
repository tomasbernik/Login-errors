2025-11-12 12:21:35,360 - ispa_next.main - DEBUG - ISPA Next attempt (1 / 5)
2025-11-12 12:21:35,367 - overlays.client - INFO - Connected to overlay manager pipe
2025-11-12 12:21:44,225 - ispa_next.app_start.functions - DEBUG - handle_update_available
2025-11-12 12:21:54,984 - ispa_next.app_start.functions - DEBUG - has_ispa_errors
2025-11-12 12:22:10,527 - ispa_next.app_start.functions - DEBUG - authenticate_user
2025-11-12 12:22:34,243 - ispa_next.app_start.main - DEBUG - Login successful
2025-11-12 12:22:52,243 - ispa_next.appointments.functions - DEBUG - order_appointments_grid_by_created_at
2025-11-12 12:22:54,850 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 12:22:55,794 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 193
2025-11-12 12:22:55,796 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 81
2025-11-12 12:22:57,647 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 55
2025-11-12 12:22:57,648 - ispa_next.appointments.functions - DEBUG - recover_or_exit_IPS_error
2025-11-12 12:22:57,648 - ispa_next.appointments.functions - DEBUG - check_appointments_grid_for_IPS_error
2025-11-12 12:22:58,395 - ispa_next.appointments.functions - DEBUG - check_appointments_grid_for_IPS_error
2025-11-12 12:22:59,747 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 12:23:06,178 - ispa_next.appointments.models - DEBUG - Skipping appointment without VIN
2025-11-12 12:23:06,197 - ispa_next.appointments.models - DEBUG - Skipping appointment without VIN
2025-11-12 12:23:06,199 - ispa_next.appointments.models - DEBUG - Skipping appointment without VIN
2025-11-12 12:23:06,204 - ispa_next.main - DEBUG - Found 3 out of 12 appointments to process (configured limit: 15).
2025-11-12 12:23:06,205 - ispa_next.main - DEBUG - Processing 0 fresh appointments.
2025-11-12 12:23:06,205 - ispa_next.main - DEBUG - Processing 3 already visited appointments (w/ RKR not callable).
2025-11-12 12:23:06,205 - ispa_next.main - DEBUG - All appointments: TS-M 2679, TS-MV 266 E, TS-SU 348
2025-11-12 12:23:06,207 - ispa_next.main - DEBUG - 



2025-11-12 12:23:06,207 - ispa_next.main - DEBUG - starting with process 1 (TS-M 2679) of 3
2025-11-12 12:23:06,210 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 12:23:06,900 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 12:23:07,732 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 193
2025-11-12 12:23:07,733 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 55
2025-11-12 12:23:08,821 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 1
2025-11-12 12:23:08,822 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 12:23:34,587 - ispa_next.rkr_manager.main - DEBUG - RemoteKeyReadManager initialized
2025-11-12 12:23:36,008 - ispa_next.appointments.functions - DEBUG - Appointment was already processed in the past.
2025-11-12 12:23:40,390 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 12:23:43,613 - ispa_next.functions - DEBUG - check_and_verify_hu_date
2025-11-12 12:23:43,614 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 12:23:43,701 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 12:23:43,847 - ispa_next.functions - DEBUG - check_potential_workshop_test
2025-11-12 12:23:43,849 - ispa_next.functions - DEBUG - check_vehicle_age_for_service_plus
2025-11-12 12:23:43,851 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 12:23:43,946 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 12:23:46,889 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 12:23:46,891 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 12:23:47,917 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 12:23:49,921 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-12 12:23:50,017 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-12 12:23:50,150 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-12 12:23:50,225 - ispa_next.rkr_manager.state - DEBUG - Checking color in CBS positions
2025-11-12 12:23:54,395 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: data_still_good
2025-11-12 12:23:55,400 - ispa_next.functions - DEBUG - handle_data_privacy_consent
2025-11-12 12:23:55,401 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 12:23:55,922 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 12:24:05,892 - ispa_next.functions - DEBUG - DSE icon is yellow
2025-11-12 12:24:05,893 - ispa_next.functions - DEBUG - DSE dealer channels are valid
2025-11-12 12:24:08,773 - ispa_next.functions - DEBUG - transfer_customer_data_to_appointment
2025-11-12 12:24:08,775 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 12:24:08,835 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 12:24:08,835 - ispa_next.functions - DEBUG - fetch_customer_data
2025-11-12 12:24:08,902 - ispa_next.functions - DEBUG - fetch_customer_data_from_bmw_id
2025-11-12 12:24:10,184 - ispa_next.functions - DEBUG - All data found, skipping remaining sources
2025-11-12 12:24:10,420 - ispa_next.functions - DEBUG - copy_customer_data_to_appointment
2025-11-12 12:24:12,219 - ispa_next.functions - DEBUG - check_for_alpina_vehicle
2025-11-12 12:24:12,220 - ispa_next.functions - DEBUG - check_bmw_id_add_to_list
2025-11-12 12:24:12,938 - ispa_next.functions - DEBUG - check_home_dealer_add_to_list
2025-11-12 12:24:12,938 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-12 12:24:13,608 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Fahrzeugzustand
2025-11-12 12:24:17,182 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 12:24:17,182 - ispa_next.rkr_manager.main - DEBUG - early exiting RemoteKeyReadManager - enabled=False or early_exit_enabled=True
2025-11-12 12:24:17,185 - ispa_next.functions - DEBUG - generate_attachments
2025-11-12 12:24:17,185 - ispa_next.functions - DEBUG - check_service_requirement
2025-11-12 12:24:17,187 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 12:24:17,670 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 12:24:21,801 - ispa_next.functions - DEBUG - check_service_requirement result: pdf_needed =False
2025-11-12 12:24:21,803 - ispa_next.wipers - DEBUG - handle_wiper_service_contracts
2025-11-12 12:24:21,805 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 12:24:21,933 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-12 12:24:27,523 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 12:24:28,017 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 12:24:28,018 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 12:24:28,690 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 12:24:28,692 - ispa_next.package_manager.main - DEBUG - updating cart content
2025-11-12 12:24:31,698 - ispa_next.package_manager.main - DEBUG - updating advice list content
2025-11-12 12:24:31,700 - ispa_next.package_manager.helper - DEBUG - get_advice_list_contents
2025-11-12 12:24:32,683 - ispa_next.package_manager.main - DEBUG - determining package movements
2025-11-12 12:24:32,687 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 12:24:32,696 - ispa_next.package_manager.main - DEBUG - Cannot place Beide Bremsscheiben vorn aus- und einbauen/ersetze: placement requirements not met
2025-11-12 12:24:32,698 - ispa_next.package_manager.main - DEBUG - Cannot place Beide Bremsscheiben hinten aus- und einbauen/erset: placement requirements not met
2025-11-12 12:24:32,700 - ispa_next.package_manager.main - DEBUG - found packages to cart: set()
2025-11-12 12:24:32,702 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 12:24:32,707 - ispa_next.package_manager.main - DEBUG - Cannot place Ladewunsch und Ladezustand: not present in source
2025-11-12 12:24:32,709 - ispa_next.package_manager.main - DEBUG - found packages to advice_list: set()
2025-11-12 12:24:32,711 - ispa_next.package_manager.main - DEBUG - determining package to delete
2025-11-12 12:24:32,722 - ispa_next.package_manager.main - DEBUG - found packages to delete: set()
2025-11-12 12:24:32,728 - ispa_next.package_manager.main - DEBUG - determining package to update
2025-11-12 12:24:32,730 - ispa_next.package_manager.main - DEBUG - found packages to update: set()
2025-11-12 12:24:32,732 - ispa_next.functions - DEBUG - verify_cart_packages_additional_texts
2025-11-12 12:24:32,733 - ispa_next.functions - DEBUG - check_cart_for_additional_text_packages
2025-11-12 12:24:32,733 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 12:24:35,963 - ispa_next.functions - DEBUG - handle_mobility_replacement
2025-11-12 12:24:35,964 - ispa_next.functions - DEBUG - verify_battery_in_motoroil_package
2025-11-12 12:24:35,975 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 12:24:39,241 - ispa_next.functions - DEBUG - verify_breaks_in_break_package
2025-11-12 12:24:39,242 - ispa_next.functions - DEBUG - verify breaks added if breaks service in cart
2025-11-12 12:24:39,253 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 12:24:42,471 - ispa_next.functions - DEBUG - process_check_control
2025-11-12 12:24:42,473 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Beanstandungen
2025-11-12 12:24:43,141 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Beanstandungen
2025-11-12 12:24:43,206 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 12:24:47,912 - ispa_next.functions - DEBUG - trying add_material_to_package
2025-11-12 12:24:47,914 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 12:24:51,139 - ispa_next.functions - DEBUG - notify_aw_increase_to_service_advisor
2025-11-12 12:25:01,429 - ispa_next.functions - DEBUG - check_cart_packages_for_parts_service_and_parts_availability
2025-11-12 12:25:01,888 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-12 12:25:02,410 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Abschluss
2025-11-12 12:25:02,514 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 12:25:12,993 - ispa_next.appointment_ending - DEBUG - entered complete process
2025-11-12 12:25:12,995 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 12:25:13,562 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-12 12:25:13,643 - ispa_next.common.shared - DEBUG - ISPA tab Abschluss is already open
2025-11-12 12:25:13,644 - ispa_next.appointment_ending - DEBUG - complete_process isn't exiting early.
2025-11-12 12:25:16,041 - ispa_next.appointment_ending - DEBUG - Service parts target assigned before process exit.
2025-11-12 12:25:27,953 - ispa_next.appointment_ending - DEBUG - return from complete process straight to process_list with saving without error_dialog.
2025-11-12 12:25:28,326 - ispa_next.appointment_loop.main - DEBUG - Closing appointment 1.
2025-11-12 12:25:29,080 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 12:25:29,662 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 193
2025-11-12 12:25:29,663 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 1
2025-11-12 12:25:32,036 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 81
2025-11-12 12:25:32,037 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 12:25:32,619 - ispa_next.main - DEBUG - 



2025-11-12 12:25:32,619 - ispa_next.main - DEBUG - starting with process 2 (TS-MV 266 E) of 3
2025-11-12 12:25:32,623 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 12:25:33,365 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 12:25:34,088 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 193
2025-11-12 12:25:34,089 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 81
2025-11-12 12:25:35,226 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 1
2025-11-12 12:25:35,227 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 12:25:55,567 - ispa_next.rkr_manager.main - DEBUG - RemoteKeyReadManager initialized
2025-11-12 12:25:57,191 - ispa_next.appointments.functions - DEBUG - Appointment was already processed in the past.
2025-11-12 12:26:01,524 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 12:26:04,752 - ispa_next.functions - DEBUG - check_and_verify_hu_date
2025-11-12 12:26:04,754 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 12:26:04,845 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 12:26:05,005 - ispa_next.functions - DEBUG - HU date is not available.
2025-11-12 12:26:08,241 - ispa_next.functions - DEBUG - check_potential_workshop_test
2025-11-12 12:26:08,243 - ispa_next.functions - DEBUG - check_vehicle_age_for_service_plus
2025-11-12 12:26:08,243 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 12:26:08,336 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 12:26:11,351 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 12:26:11,353 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 12:26:12,256 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 12:26:14,258 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-12 12:26:14,374 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-12 12:26:14,463 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-12 12:26:14,542 - ispa_next.rkr_manager.state - DEBUG - Checking color in CBS positions
2025-11-12 12:26:18,675 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: data_still_good
2025-11-12 12:26:19,678 - ispa_next.functions - DEBUG - handle_data_privacy_consent
2025-11-12 12:26:19,692 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 12:26:20,172 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 12:26:30,777 - ispa_next.functions - DEBUG - DSE icon is yellow
2025-11-12 12:26:34,490 - ispa_next.functions - DEBUG - transfer_customer_data_to_appointment
2025-11-12 12:26:34,491 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 12:26:34,578 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 12:26:34,578 - ispa_next.functions - DEBUG - fetch_customer_data
2025-11-12 12:26:34,614 - ispa_next.functions - DEBUG - fetch_customer_data_from_bmw_id
2025-11-12 12:26:35,827 - ispa_next.functions - DEBUG - fetch_customer_data_from_dms
2025-11-12 12:26:37,057 - ispa_next.functions - DEBUG - All data found, skipping remaining sources
2025-11-12 12:26:37,306 - ispa_next.functions - DEBUG - copy_customer_data_to_appointment
2025-11-12 12:26:39,006 - ispa_next.functions - DEBUG - Updated appointment (AJ00018011) customer contact data.
2025-11-12 12:26:39,919 - ispa_next.functions - DEBUG - check_for_alpina_vehicle
2025-11-12 12:26:39,921 - ispa_next.functions - DEBUG - check_bmw_id_add_to_list
2025-11-12 12:26:40,580 - ispa_next.functions - DEBUG - check_home_dealer_add_to_list
2025-11-12 12:26:40,582 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-12 12:26:41,311 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Fahrzeugzustand
2025-11-12 12:26:45,444 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 12:26:45,444 - ispa_next.rkr_manager.main - DEBUG - early exiting RemoteKeyReadManager - enabled=False or early_exit_enabled=True
2025-11-12 12:26:45,446 - ispa_next.functions - DEBUG - generate_attachments
2025-11-12 12:26:45,447 - ispa_next.functions - DEBUG - check_service_requirement
2025-11-12 12:26:45,448 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 12:26:45,970 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 12:26:50,081 - ispa_next.functions - DEBUG - check_service_requirement result: pdf_needed =False
2025-11-12 12:26:50,085 - ispa_next.wipers - DEBUG - handle_wiper_service_contracts
2025-11-12 12:26:50,086 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 12:26:50,164 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-12 12:26:55,732 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 12:26:56,183 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 12:26:56,185 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 12:26:56,858 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 12:26:56,858 - ispa_next.package_manager.main - DEBUG - updating cart content
2025-11-12 12:26:59,855 - ispa_next.package_manager.main - DEBUG - updating advice list content
2025-11-12 12:26:59,855 - ispa_next.package_manager.helper - DEBUG - get_advice_list_contents
2025-11-12 12:27:01,482 - ispa_next.package_manager.main - DEBUG - determining package movements
2025-11-12 12:27:01,484 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 12:27:01,486 - ispa_next.package_manager.main - DEBUG - Cannot place Beide Bremsscheiben vorn aus- und einbauen/ersetze: placement requirements not met
2025-11-12 12:27:01,486 - ispa_next.package_manager.main - DEBUG - Cannot place Beide Bremsscheiben hinten aus- und einbauen/erset: placement requirements not met
2025-11-12 12:27:01,486 - ispa_next.package_manager.main - DEBUG - found packages to cart: set()
2025-11-12 12:27:01,488 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 12:27:01,490 - ispa_next.package_manager.main - DEBUG - found packages to advice_list: set()
2025-11-12 12:27:01,490 - ispa_next.package_manager.main - DEBUG - determining package to delete
2025-11-12 12:27:01,492 - ispa_next.package_manager.main - DEBUG - found packages to delete: set()
2025-11-12 12:27:01,495 - ispa_next.package_manager.main - DEBUG - determining package to update
2025-11-12 12:27:01,499 - ispa_next.package_manager.main - DEBUG - found packages to update: set()
2025-11-12 12:27:01,503 - ispa_next.functions - DEBUG - verify_cart_packages_additional_texts
2025-11-12 12:27:01,504 - ispa_next.functions - DEBUG - check_cart_for_additional_text_packages
2025-11-12 12:27:01,513 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 12:27:04,729 - ispa_next.functions - DEBUG - handle_mobility_replacement
2025-11-12 12:27:04,730 - ispa_next.functions - DEBUG - verify_battery_in_motoroil_package
2025-11-12 12:27:04,731 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 12:27:07,936 - ispa_next.functions - DEBUG - verify_breaks_in_break_package
2025-11-12 12:27:07,936 - ispa_next.functions - DEBUG - verify breaks added if breaks service in cart
2025-11-12 12:27:07,938 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 12:27:11,143 - ispa_next.functions - DEBUG - process_check_control
2025-11-12 12:27:11,144 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Beanstandungen
2025-11-12 12:27:11,781 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Beanstandungen
2025-11-12 12:27:12,043 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 12:27:27,765 - ispa_next.functions - DEBUG - trying add_material_to_package
2025-11-12 12:27:27,767 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 12:27:30,990 - ispa_next.functions - DEBUG - notify_aw_increase_to_service_advisor
2025-11-12 12:27:40,877 - ispa_next.functions - DEBUG - check_cart_packages_for_parts_service_and_parts_availability
2025-11-12 12:27:41,396 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-12 12:27:41,965 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Abschluss
2025-11-12 12:27:42,071 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 12:28:13,175 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-12 12:28:17,220 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-12 12:28:20,887 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-12 12:28:24,760 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-12 12:28:24,762 - ispa_next.appointment_ending - DEBUG - entered complete process
2025-11-12 12:28:24,762 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 12:28:25,340 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-12 12:28:25,411 - ispa_next.common.shared - DEBUG - ISPA tab Abschluss is already open
2025-11-12 12:28:25,412 - ispa_next.appointment_ending - DEBUG - complete_process isn't exiting early.
2025-11-12 12:28:26,985 - ispa_next.appointment_ending - DEBUG - No need to assign service parts target.
2025-11-12 12:28:33,976 - ispa_next.appointment_ending - DEBUG - return from complete process straight to process_list with saving without error_dialog.
2025-11-12 12:28:34,355 - ispa_next.appointment_loop.main - DEBUG - Closing appointment 2.
2025-11-12 12:28:34,644 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 12:28:35,460 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 193
2025-11-12 12:28:35,460 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 1
2025-11-12 12:28:38,316 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 81
2025-11-12 12:28:38,317 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 12:28:39,221 - ispa_next.main - DEBUG - 



2025-11-12 12:28:39,221 - ispa_next.main - DEBUG - starting with process 3 (TS-SU 348) of 3
2025-11-12 12:28:39,224 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 12:28:40,073 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 12:28:41,259 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 193
2025-11-12 12:28:41,261 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 81
2025-11-12 12:28:42,457 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 1
2025-11-12 12:28:42,459 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 12:29:15,685 - ispa_next.rkr_manager.main - DEBUG - RemoteKeyReadManager initialized
2025-11-12 12:29:17,593 - ispa_next.appointments.functions - DEBUG - Appointment was already processed in the past.
2025-11-12 12:29:22,512 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 12:29:24,366 - ispa_next.functions - DEBUG - check_and_verify_hu_date
2025-11-12 12:29:24,366 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 12:29:24,441 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 12:29:24,792 - ispa_next.functions - DEBUG - check_potential_workshop_test
2025-11-12 12:29:24,794 - ispa_next.functions - DEBUG - check_vehicle_age_for_service_plus
2025-11-12 12:29:24,794 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 12:29:24,864 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 12:29:27,999 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 12:29:28,001 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 12:29:29,057 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 12:29:31,064 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-12 12:29:31,244 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-12 12:29:31,368 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-12 12:29:31,440 - ispa_next.rkr_manager.state - DEBUG - Checking color in CBS positions
2025-11-12 12:29:35,641 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: data_still_good
2025-11-12 12:29:36,646 - ispa_next.functions - DEBUG - handle_data_privacy_consent
2025-11-12 12:29:36,647 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 12:29:37,170 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 12:29:46,516 - ispa_next.functions - DEBUG - DSE icon is yellow
2025-11-12 12:29:46,516 - ispa_next.functions - DEBUG - DSE dealer channels are valid
2025-11-12 12:29:49,408 - ispa_next.functions - DEBUG - transfer_customer_data_to_appointment
2025-11-12 12:29:49,410 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 12:29:49,484 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 12:29:49,486 - ispa_next.functions - DEBUG - fetch_customer_data
2025-11-12 12:29:49,538 - ispa_next.functions - DEBUG - fetch_customer_data_from_bmw_id
2025-11-12 12:29:50,717 - ispa_next.functions - DEBUG - All data found, skipping remaining sources
2025-11-12 12:29:50,914 - ispa_next.functions - DEBUG - copy_customer_data_to_appointment
2025-11-12 12:29:52,511 - ispa_next.functions - DEBUG - Updated appointment (AJ00018087) customer contact data.
2025-11-12 12:29:53,418 - ispa_next.functions - DEBUG - check_for_alpina_vehicle
2025-11-12 12:29:53,419 - ispa_next.functions - DEBUG - check_bmw_id_add_to_list
2025-11-12 12:29:53,918 - ispa_next.functions - DEBUG - check_home_dealer_add_to_list
2025-11-12 12:29:53,919 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-12 12:29:54,500 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Fahrzeugzustand
2025-11-12 12:29:58,148 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 12:29:58,148 - ispa_next.rkr_manager.main - DEBUG - early exiting RemoteKeyReadManager - enabled=False or early_exit_enabled=True
2025-11-12 12:29:58,150 - ispa_next.functions - DEBUG - generate_attachments
2025-11-12 12:29:58,152 - ispa_next.functions - DEBUG - check_service_requirement
2025-11-12 12:29:58,152 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 12:29:58,636 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 12:30:02,798 - ispa_next.functions - DEBUG - check_service_requirement result: pdf_needed =False
2025-11-12 12:30:02,800 - ispa_next.wipers - DEBUG - handle_wiper_service_contracts
2025-11-12 12:30:02,802 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 12:30:02,878 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-12 12:30:11,992 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 12:30:12,474 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 12:30:12,475 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 12:30:13,197 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 12:30:13,199 - ispa_next.package_manager.main - DEBUG - updating cart content
2025-11-12 12:30:15,068 - ispa_next.package_manager.main - DEBUG - updating advice list content
2025-11-12 12:30:15,070 - ispa_next.package_manager.helper - DEBUG - get_advice_list_contents
2025-11-12 12:30:16,414 - ispa_next.package_manager.main - DEBUG - determining package movements
2025-11-12 12:30:16,416 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 12:30:16,420 - ispa_next.package_manager.main - DEBUG - Cannot place Beide Bremsscheiben vorn aus- und einbauen/ersetze: placement requirements not met
2025-11-12 12:30:16,422 - ispa_next.package_manager.main - DEBUG - Cannot place Beide Bremsscheiben hinten aus- und einbauen/erset: placement requirements not met
2025-11-12 12:30:16,422 - ispa_next.package_manager.main - DEBUG - found packages to cart: set()
2025-11-12 12:30:16,424 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 12:30:16,424 - ispa_next.package_manager.main - DEBUG - Cannot place Ladewunsch und Ladezustand: not present in source
2025-11-12 12:30:16,426 - ispa_next.package_manager.main - DEBUG - found packages to advice_list: set()
2025-11-12 12:30:16,427 - ispa_next.package_manager.main - DEBUG - determining package to delete
2025-11-12 12:30:16,438 - ispa_next.package_manager.main - DEBUG - found packages to delete: set()
2025-11-12 12:30:16,440 - ispa_next.package_manager.main - DEBUG - determining package to update
2025-11-12 12:30:16,444 - ispa_next.package_manager.main - DEBUG - found packages to update: set()
2025-11-12 12:30:16,448 - ispa_next.functions - DEBUG - verify_cart_packages_additional_texts
2025-11-12 12:30:16,450 - ispa_next.functions - DEBUG - check_cart_for_additional_text_packages
2025-11-12 12:30:16,450 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 12:30:18,381 - ispa_next.functions - DEBUG - handle_mobility_replacement
2025-11-12 12:30:18,383 - ispa_next.functions - DEBUG - verify_battery_in_motoroil_package
2025-11-12 12:30:18,385 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 12:30:20,335 - ispa_next.functions - DEBUG - verify_breaks_in_break_package
2025-11-12 12:30:20,335 - ispa_next.functions - DEBUG - verify breaks added if breaks service in cart
2025-11-12 12:30:20,342 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 12:30:22,264 - ispa_next.functions - DEBUG - process_check_control
2025-11-12 12:30:22,265 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Beanstandungen
2025-11-12 12:30:23,031 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Beanstandungen
2025-11-12 12:30:23,355 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 12:30:37,611 - ispa_next.functions - DEBUG - trying add_material_to_package
2025-11-12 12:30:37,613 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 12:30:39,557 - ispa_next.functions - DEBUG - notify_aw_increase_to_service_advisor
2025-11-12 12:30:50,333 - ispa_next.functions - DEBUG - check_cart_packages_for_parts_service_and_parts_availability
2025-11-12 12:30:50,834 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-12 12:30:51,336 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Abschluss
2025-11-12 12:30:51,428 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 12:31:09,290 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-12 12:31:13,395 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-12 12:31:13,397 - ispa_next.appointment_ending - DEBUG - entered complete process
2025-11-12 12:31:13,397 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 12:31:13,777 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-12 12:31:13,848 - ispa_next.common.shared - DEBUG - ISPA tab Abschluss is already open
2025-11-12 12:31:13,850 - ispa_next.appointment_ending - DEBUG - complete_process isn't exiting early.
2025-11-12 12:31:15,180 - ispa_next.appointment_ending - DEBUG - No need to assign service parts target.
2025-11-12 12:31:21,794 - ispa_next.appointment_ending - DEBUG - return from complete process straight to process_list with saving without error_dialog.
2025-11-12 12:31:22,166 - ispa_next.appointment_loop.main - DEBUG - Closing appointment 3.
2025-11-12 12:31:23,027 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 12:31:23,625 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 193
2025-11-12 12:31:23,627 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 1
2025-11-12 12:31:26,388 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 81
2025-11-12 12:31:26,389 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
