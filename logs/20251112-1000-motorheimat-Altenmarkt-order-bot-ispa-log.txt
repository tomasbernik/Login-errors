2025-11-12 10:21:34,009 - ispa_next.main - DEBUG - ISPA Next attempt (1 / 5)
2025-11-12 10:21:34,015 - overlays.client - INFO - Connected to overlay manager pipe
2025-11-12 10:21:43,083 - ispa_next.app_start.functions - DEBUG - handle_update_available
2025-11-12 10:21:53,802 - ispa_next.app_start.functions - DEBUG - has_ispa_errors
2025-11-12 10:22:09,312 - ispa_next.app_start.functions - DEBUG - authenticate_user
2025-11-12 10:22:41,741 - ispa_next.app_start.main - DEBUG - Login successful
2025-11-12 10:22:57,169 - ispa_next.appointments.functions - DEBUG - order_appointments_grid_by_created_at
2025-11-12 10:22:59,790 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 10:23:00,954 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 217
2025-11-12 10:23:00,956 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 80
2025-11-12 10:23:03,204 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 53
2025-11-12 10:23:03,205 - ispa_next.appointments.functions - DEBUG - recover_or_exit_IPS_error
2025-11-12 10:23:03,206 - ispa_next.appointments.functions - DEBUG - check_appointments_grid_for_IPS_error
2025-11-12 10:23:04,386 - ispa_next.appointments.functions - DEBUG - check_appointments_grid_for_IPS_error
2025-11-12 10:23:05,531 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 10:23:12,935 - ispa_next.appointments.models - DEBUG - Skipping appointment without VIN
2025-11-12 10:23:12,948 - ispa_next.appointments.models - DEBUG - Skipping appointment without VIN
2025-11-12 10:23:12,950 - ispa_next.appointments.models - DEBUG - Skipping appointment without VIN
2025-11-12 10:23:12,968 - ispa_next.main - DEBUG - Found 4 out of 13 appointments to process (configured limit: 15).
2025-11-12 10:23:12,968 - ispa_next.main - DEBUG - Processing 0 fresh appointments.
2025-11-12 10:23:12,968 - ispa_next.main - DEBUG - Processing 4 already visited appointments (w/ RKR not callable).
2025-11-12 10:23:12,968 - ispa_next.main - DEBUG - All appointments: TS-M 2679, TS-MV 266 E, TS-SU 348, TS-VS 73
2025-11-12 10:23:12,995 - ispa_next.main - DEBUG - 



2025-11-12 10:23:12,996 - ispa_next.main - DEBUG - starting with process 1 (TS-M 2679) of 4
2025-11-12 10:23:13,011 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 10:23:14,132 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 10:23:15,209 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 217
2025-11-12 10:23:15,211 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 53
2025-11-12 10:23:16,531 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 1
2025-11-12 10:23:16,533 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 10:23:42,194 - ispa_next.rkr_manager.main - DEBUG - RemoteKeyReadManager initialized
2025-11-12 10:23:43,790 - ispa_next.appointments.functions - DEBUG - Appointment was already processed in the past.
2025-11-12 10:23:48,252 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 10:23:51,498 - ispa_next.functions - DEBUG - check_and_verify_hu_date
2025-11-12 10:23:51,500 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 10:23:51,559 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 10:23:51,733 - ispa_next.functions - DEBUG - check_potential_workshop_test
2025-11-12 10:23:51,735 - ispa_next.functions - DEBUG - check_vehicle_age_for_service_plus
2025-11-12 10:23:51,735 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 10:23:51,802 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 10:23:54,915 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 10:23:54,917 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 10:23:55,847 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 10:23:57,853 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-12 10:23:57,955 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-12 10:23:58,069 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-12 10:23:58,138 - ispa_next.rkr_manager.state - DEBUG - Checking color in CBS positions
2025-11-12 10:24:02,300 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: data_still_good
2025-11-12 10:24:03,304 - ispa_next.functions - DEBUG - handle_data_privacy_consent
2025-11-12 10:24:03,304 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 10:24:03,785 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 10:24:14,650 - ispa_next.functions - DEBUG - DSE icon is yellow
2025-11-12 10:24:14,650 - ispa_next.functions - DEBUG - DSE dealer channels are valid
2025-11-12 10:24:17,860 - ispa_next.functions - DEBUG - transfer_customer_data_to_appointment
2025-11-12 10:24:17,862 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 10:24:17,928 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 10:24:17,929 - ispa_next.functions - DEBUG - fetch_customer_data
2025-11-12 10:24:17,967 - ispa_next.functions - DEBUG - fetch_customer_data_from_bmw_id
2025-11-12 10:24:19,169 - ispa_next.functions - DEBUG - All data found, skipping remaining sources
2025-11-12 10:24:19,386 - ispa_next.functions - DEBUG - copy_customer_data_to_appointment
2025-11-12 10:24:21,080 - ispa_next.functions - DEBUG - check_for_alpina_vehicle
2025-11-12 10:24:21,080 - ispa_next.functions - DEBUG - check_bmw_id_add_to_list
2025-11-12 10:24:21,590 - ispa_next.functions - DEBUG - check_home_dealer_add_to_list
2025-11-12 10:24:21,591 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-12 10:24:22,255 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Fahrzeugzustand
2025-11-12 10:24:25,868 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 10:24:25,868 - ispa_next.rkr_manager.main - DEBUG - early exiting RemoteKeyReadManager - enabled=False or early_exit_enabled=True
2025-11-12 10:24:25,875 - ispa_next.functions - DEBUG - generate_attachments
2025-11-12 10:24:25,877 - ispa_next.functions - DEBUG - check_service_requirement
2025-11-12 10:24:25,877 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 10:24:26,381 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 10:24:30,518 - ispa_next.functions - DEBUG - check_service_requirement result: pdf_needed =False
2025-11-12 10:24:30,522 - ispa_next.wipers - DEBUG - handle_wiper_service_contracts
2025-11-12 10:24:30,522 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 10:24:30,584 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-12 10:24:36,175 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 10:24:36,688 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 10:24:36,690 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 10:24:37,319 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 10:24:37,321 - ispa_next.package_manager.main - DEBUG - updating cart content
2025-11-12 10:24:40,331 - ispa_next.package_manager.main - DEBUG - updating advice list content
2025-11-12 10:24:40,333 - ispa_next.package_manager.helper - DEBUG - get_advice_list_contents
2025-11-12 10:24:41,362 - ispa_next.package_manager.main - DEBUG - determining package movements
2025-11-12 10:24:41,362 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 10:24:41,364 - ispa_next.package_manager.main - DEBUG - Cannot place Beide Bremsscheiben hinten aus- und einbauen/erset: placement requirements not met
2025-11-12 10:24:41,366 - ispa_next.package_manager.main - DEBUG - Cannot place Beide Bremsscheiben vorn aus- und einbauen/ersetze: placement requirements not met
2025-11-12 10:24:41,373 - ispa_next.package_manager.main - DEBUG - found packages to cart: set()
2025-11-12 10:24:41,376 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 10:24:41,382 - ispa_next.package_manager.main - DEBUG - Cannot place Ladewunsch und Ladezustand: not present in source
2025-11-12 10:24:41,382 - ispa_next.package_manager.main - DEBUG - found packages to advice_list: set()
2025-11-12 10:24:41,384 - ispa_next.package_manager.main - DEBUG - determining package to delete
2025-11-12 10:24:41,386 - ispa_next.package_manager.main - DEBUG - found packages to delete: set()
2025-11-12 10:24:41,386 - ispa_next.package_manager.main - DEBUG - determining package to update
2025-11-12 10:24:41,388 - ispa_next.package_manager.main - DEBUG - found packages to update: set()
2025-11-12 10:24:41,390 - ispa_next.functions - DEBUG - verify_cart_packages_additional_texts
2025-11-12 10:24:41,392 - ispa_next.functions - DEBUG - check_cart_for_additional_text_packages
2025-11-12 10:24:41,392 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 10:24:44,598 - ispa_next.functions - DEBUG - handle_mobility_replacement
2025-11-12 10:24:44,598 - ispa_next.functions - DEBUG - verify_battery_in_motoroil_package
2025-11-12 10:24:44,602 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 10:24:47,824 - ispa_next.functions - DEBUG - verify_breaks_in_break_package
2025-11-12 10:24:47,824 - ispa_next.functions - DEBUG - verify breaks added if breaks service in cart
2025-11-12 10:24:47,826 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 10:24:51,046 - ispa_next.functions - DEBUG - process_check_control
2025-11-12 10:24:51,046 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Beanstandungen
2025-11-12 10:24:51,780 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Beanstandungen
2025-11-12 10:24:51,838 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 10:24:56,659 - ispa_next.functions - DEBUG - trying add_material_to_package
2025-11-12 10:24:56,661 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 10:24:59,972 - ispa_next.functions - DEBUG - notify_aw_increase_to_service_advisor
2025-11-12 10:25:10,235 - ispa_next.functions - DEBUG - check_cart_packages_for_parts_service_and_parts_availability
2025-11-12 10:25:10,701 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-12 10:25:11,174 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Abschluss
2025-11-12 10:25:11,386 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 10:25:21,763 - ispa_next.appointment_ending - DEBUG - entered complete process
2025-11-12 10:25:21,763 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 10:25:22,347 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-12 10:25:22,421 - ispa_next.common.shared - DEBUG - ISPA tab Abschluss is already open
2025-11-12 10:25:22,422 - ispa_next.appointment_ending - DEBUG - complete_process isn't exiting early.
2025-11-12 10:25:24,816 - ispa_next.appointment_ending - DEBUG - Service parts target assigned before process exit.
2025-11-12 10:25:38,104 - ispa_next.appointment_ending - DEBUG - return from complete process straight to process_list with saving without error_dialog.
2025-11-12 10:25:38,488 - ispa_next.appointment_loop.main - DEBUG - Closing appointment 1.
2025-11-12 10:25:38,909 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 10:25:39,735 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 217
2025-11-12 10:25:39,737 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 1
2025-11-12 10:25:42,314 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 80
2025-11-12 10:25:42,315 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 10:25:43,132 - ispa_next.main - DEBUG - Found new Appointment: WS-L 72
2025-11-12 10:25:43,133 - ispa_next.main - DEBUG - 



2025-11-12 10:25:43,134 - ispa_next.main - DEBUG - starting with process 2 (WS-L 72) of 5
2025-11-12 10:25:43,137 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 10:25:44,308 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 10:25:45,386 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 217
2025-11-12 10:25:45,387 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 80
2025-11-12 10:25:46,666 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 1
2025-11-12 10:25:46,667 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 10:26:15,544 - ispa_next.rkr_manager.main - DEBUG - RemoteKeyReadManager initialized
2025-11-12 10:26:23,659 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 10:26:23,722 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 10:26:23,829 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 10:26:24,983 - ispa_next.functions - DEBUG - check_and_verify_hu_date
2025-11-12 10:26:24,983 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 10:26:25,067 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 10:26:25,202 - ispa_next.functions - DEBUG - check_potential_workshop_test
2025-11-12 10:26:25,203 - ispa_next.functions - DEBUG - check_vehicle_age_for_service_plus
2025-11-12 10:26:25,203 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 10:26:25,299 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 10:26:28,209 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 10:26:28,209 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 10:26:29,179 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 10:26:31,184 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-12 10:26:31,298 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-12 10:26:34,506 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-12 10:26:34,562 - ispa_next.rkr_manager.state - DEBUG - Getting cart and advice list contents
2025-11-12 10:26:34,563 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-12 10:26:42,460 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: non_blocking_wait
2025-11-12 10:26:43,471 - ispa_next.functions - DEBUG - handle_data_privacy_consent
2025-11-12 10:26:43,471 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 10:26:44,000 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 10:26:50,184 - ispa_next.functions - DEBUG - no DSE icon found
2025-11-12 10:26:50,186 - ispa_next.functions - DEBUG - transfer_customer_data_to_appointment
2025-11-12 10:26:50,188 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 10:26:50,303 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 10:26:50,303 - ispa_next.functions - DEBUG - fetch_customer_data
2025-11-12 10:26:50,333 - ispa_next.functions - DEBUG - fetch_customer_data_from_bmw_id
2025-11-12 10:26:51,479 - ispa_next.functions - DEBUG - All data found, skipping remaining sources
2025-11-12 10:26:51,723 - ispa_next.functions - DEBUG - copy_customer_data_to_appointment
2025-11-12 10:26:55,644 - ispa_next.functions - DEBUG - Updated appointment (AJ00018147) customer contact data.
2025-11-12 10:26:56,575 - ispa_next.functions - DEBUG - check_for_alpina_vehicle
2025-11-12 10:26:56,575 - ispa_next.functions - DEBUG - check_bmw_id_add_to_list
2025-11-12 10:26:57,319 - ispa_next.functions - DEBUG - check_home_dealer_add_to_list
2025-11-12 10:26:57,321 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-12 10:26:57,995 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Fahrzeugzustand
2025-11-12 10:27:01,553 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 10:27:01,555 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 10:27:02,088 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 10:27:04,094 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-12 10:27:04,189 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-12 10:27:04,297 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-12 10:27:04,367 - ispa_next.rkr_manager.state - DEBUG - Getting cart and advice list contents
2025-11-12 10:27:04,367 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-12 10:27:12,592 - ispa_next.rkr_manager.state - DEBUG - Waiting for timeout to pass
2025-11-12 10:28:12,594 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-12 10:28:23,956 - ispa_next.rkr_manager.helper - DEBUG - Found button 'Hinzufügen (Empfohlen)' in nested popup
2025-11-12 10:28:28,075 - ispa_next.rkr_manager.state - DEBUG - Checking cart items after successfull RKR
2025-11-12 10:28:28,075 - ispa_next.rkr_manager.state - DEBUG - Checking color in CBS positions
2025-11-12 10:28:32,265 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: success
2025-11-12 10:28:33,272 - ispa_next.functions - DEBUG - generate_attachments
2025-11-12 10:28:33,273 - ispa_next.functions - DEBUG - check_service_requirement
2025-11-12 10:28:33,273 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 10:28:33,379 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-12 10:28:37,515 - ispa_next.functions - DEBUG - check_service_requirement result: pdf_needed =False
2025-11-12 10:28:37,520 - ispa_next.wipers - DEBUG - handle_wiper_service_contracts
2025-11-12 10:28:37,521 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 10:28:37,591 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-12 10:28:43,237 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 10:28:43,732 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 10:28:43,734 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 10:28:44,430 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 10:28:44,431 - ispa_next.package_manager.main - DEBUG - updating cart content
2025-11-12 10:28:45,712 - ispa_next.package_manager.main - DEBUG - updating advice list content
2025-11-12 10:28:45,717 - ispa_next.package_manager.helper - DEBUG - get_advice_list_contents
2025-11-12 10:28:46,718 - ispa_next.package_manager.main - DEBUG - determining package movements
2025-11-12 10:28:46,719 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 10:28:46,722 - ispa_next.package_manager.main - DEBUG - Cannot place Beide Bremsscheiben hinten aus- und einbauen/erset: placement requirements not met
2025-11-12 10:28:46,722 - ispa_next.package_manager.main - DEBUG - Cannot place Beide Bremsscheiben vorn aus- und einbauen/ersetze: placement requirements not met
2025-11-12 10:28:46,724 - ispa_next.package_manager.main - DEBUG - found packages to cart: {Package(name=Fußraum saugen, source=from_tab, target=cart)}
2025-11-12 10:28:46,724 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 10:28:46,726 - ispa_next.package_manager.main - DEBUG - Cannot place Ladewunsch und Ladezustand: not present in source
2025-11-12 10:28:46,728 - ispa_next.package_manager.main - DEBUG - found packages to advice_list: set()
2025-11-12 10:28:46,729 - ispa_next.package_manager.main - DEBUG - determining package to delete
2025-11-12 10:28:46,731 - ispa_next.package_manager.main - DEBUG - found packages to delete: set()
2025-11-12 10:28:46,731 - ispa_next.package_manager.main - DEBUG - determining package to update
2025-11-12 10:28:46,733 - ispa_next.package_manager.main - DEBUG - found packages to update: set()
2025-11-12 10:28:46,735 - ispa_next.package_manager.helper - DEBUG - add_to_cart called
2025-11-12 10:28:47,427 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Marketing
2025-11-12 10:28:48,103 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Marketing
2025-11-12 10:28:52,465 - ispa_next.package_manager.helper - DEBUG - _add_to_container_manual
2025-11-12 10:28:52,501 - ispa_next.functions - DEBUG - verify_cart_packages_additional_texts
2025-11-12 10:28:52,502 - ispa_next.functions - DEBUG - check_cart_for_additional_text_packages
2025-11-12 10:28:52,503 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 10:28:54,443 - ispa_next.functions - DEBUG - handle_mobility_replacement
2025-11-12 10:28:54,445 - ispa_next.functions - DEBUG - verify_battery_in_motoroil_package
2025-11-12 10:28:54,449 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 10:28:56,319 - ispa_next.functions - DEBUG - verify_breaks_in_break_package
2025-11-12 10:28:56,319 - ispa_next.functions - DEBUG - verify breaks added if breaks service in cart
2025-11-12 10:28:56,321 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 10:28:58,179 - ispa_next.functions - DEBUG - process_check_control
2025-11-12 10:28:58,180 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Beanstandungen
2025-11-12 10:28:58,667 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Beanstandungen
2025-11-12 10:28:58,902 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 10:29:07,971 - ispa_next.functions - DEBUG - trying add_material_to_package
2025-11-12 10:29:07,973 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 10:29:09,904 - ispa_next.functions - DEBUG - notify_aw_increase_to_service_advisor
2025-11-12 10:29:20,032 - ispa_next.functions - DEBUG - check_cart_packages_for_parts_service_and_parts_availability
2025-11-12 10:29:20,542 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-12 10:29:21,127 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Abschluss
2025-11-12 10:29:21,310 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 10:29:38,528 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-12 10:29:41,776 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-12 10:29:41,778 - ispa_next.appointment_ending - DEBUG - entered complete process
2025-11-12 10:29:41,778 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 10:29:42,139 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-12 10:29:42,207 - ispa_next.common.shared - DEBUG - ISPA tab Abschluss is already open
2025-11-12 10:29:42,207 - ispa_next.appointment_ending - DEBUG - complete_process isn't exiting early.
2025-11-12 10:29:43,329 - ispa_next.appointment_ending - DEBUG - No need to assign service parts target.
2025-11-12 10:29:48,966 - ispa_next.appointment_ending - DEBUG - return from complete process straight to process_list with saving without error_dialog.
2025-11-12 10:29:49,352 - ispa_next.appointment_loop.main - DEBUG - Closing appointment 2.
2025-11-12 10:29:50,035 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 10:29:50,453 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 218
2025-11-12 10:29:50,453 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 1
2025-11-12 10:29:52,848 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 81
2025-11-12 10:29:52,849 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 10:29:53,464 - ispa_next.appointments.models - DEBUG - Appointment Dieter Rohlfsen Herr TS-RD 76 WBAJG11010ED95829 ohne Termin.
2025-11-12 10:29:53,470 - ispa_next.main - DEBUG - 



2025-11-12 10:29:53,470 - ispa_next.main - DEBUG - starting with process 3 (TS-MV 266 E) of 5
2025-11-12 10:29:53,472 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 10:29:54,255 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 10:29:54,983 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 218
2025-11-12 10:29:54,984 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 81
2025-11-12 10:29:56,023 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 1
2025-11-12 10:29:56,023 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 10:30:16,137 - ispa_next.rkr_manager.main - DEBUG - RemoteKeyReadManager initialized
2025-11-12 10:30:17,613 - ispa_next.appointments.functions - DEBUG - Appointment was already processed in the past.
2025-11-12 10:30:22,156 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 10:30:25,406 - ispa_next.functions - DEBUG - check_and_verify_hu_date
2025-11-12 10:30:25,406 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 10:30:25,528 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 10:30:25,747 - ispa_next.functions - DEBUG - HU date is not available.
2025-11-12 10:30:29,524 - ispa_next.functions - DEBUG - check_potential_workshop_test
2025-11-12 10:30:29,526 - ispa_next.functions - DEBUG - check_vehicle_age_for_service_plus
2025-11-12 10:30:29,527 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 10:30:29,607 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 10:30:32,642 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 10:30:32,644 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 10:30:33,555 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 10:30:35,559 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-12 10:30:35,677 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-12 10:30:35,779 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-12 10:30:35,852 - ispa_next.rkr_manager.state - DEBUG - Checking color in CBS positions
2025-11-12 10:30:40,028 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: data_still_good
2025-11-12 10:30:41,035 - ispa_next.functions - DEBUG - handle_data_privacy_consent
2025-11-12 10:30:41,035 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 10:30:41,578 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 10:30:52,520 - ispa_next.functions - DEBUG - DSE icon is yellow
2025-11-12 10:30:56,192 - ispa_next.functions - DEBUG - transfer_customer_data_to_appointment
2025-11-12 10:30:56,193 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 10:30:56,298 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 10:30:56,298 - ispa_next.functions - DEBUG - fetch_customer_data
2025-11-12 10:30:56,332 - ispa_next.functions - DEBUG - fetch_customer_data_from_bmw_id
2025-11-12 10:30:57,542 - ispa_next.functions - DEBUG - fetch_customer_data_from_dms
2025-11-12 10:30:58,673 - ispa_next.functions - DEBUG - All data found, skipping remaining sources
2025-11-12 10:30:58,881 - ispa_next.functions - DEBUG - copy_customer_data_to_appointment
2025-11-12 10:31:00,559 - ispa_next.functions - DEBUG - Updated appointment (AJ00018011) customer contact data.
2025-11-12 10:31:01,476 - ispa_next.functions - DEBUG - check_for_alpina_vehicle
2025-11-12 10:31:01,478 - ispa_next.functions - DEBUG - check_bmw_id_add_to_list
2025-11-12 10:31:02,174 - ispa_next.functions - DEBUG - check_home_dealer_add_to_list
2025-11-12 10:31:02,176 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-12 10:31:02,884 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Fahrzeugzustand
2025-11-12 10:31:06,911 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 10:31:06,911 - ispa_next.rkr_manager.main - DEBUG - early exiting RemoteKeyReadManager - enabled=False or early_exit_enabled=True
2025-11-12 10:31:06,913 - ispa_next.functions - DEBUG - generate_attachments
2025-11-12 10:31:06,914 - ispa_next.functions - DEBUG - check_service_requirement
2025-11-12 10:31:06,914 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 10:31:07,483 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 10:31:11,576 - ispa_next.functions - DEBUG - check_service_requirement result: pdf_needed =False
2025-11-12 10:31:11,579 - ispa_next.wipers - DEBUG - handle_wiper_service_contracts
2025-11-12 10:31:11,582 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 10:31:11,671 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-12 10:31:17,235 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 10:31:17,781 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 10:31:17,781 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 10:31:18,470 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 10:31:18,471 - ispa_next.package_manager.main - DEBUG - updating cart content
2025-11-12 10:31:21,477 - ispa_next.package_manager.main - DEBUG - updating advice list content
2025-11-12 10:31:21,479 - ispa_next.package_manager.helper - DEBUG - get_advice_list_contents
2025-11-12 10:31:23,124 - ispa_next.package_manager.main - DEBUG - determining package movements
2025-11-12 10:31:23,125 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 10:31:23,127 - ispa_next.package_manager.main - DEBUG - Cannot place Beide Bremsscheiben hinten aus- und einbauen/erset: placement requirements not met
2025-11-12 10:31:23,128 - ispa_next.package_manager.main - DEBUG - Cannot place Beide Bremsscheiben vorn aus- und einbauen/ersetze: placement requirements not met
2025-11-12 10:31:23,129 - ispa_next.package_manager.main - DEBUG - found packages to cart: set()
2025-11-12 10:31:23,130 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 10:31:23,132 - ispa_next.package_manager.main - DEBUG - found packages to advice_list: set()
2025-11-12 10:31:23,132 - ispa_next.package_manager.main - DEBUG - determining package to delete
2025-11-12 10:31:23,134 - ispa_next.package_manager.main - DEBUG - found packages to delete: set()
2025-11-12 10:31:23,136 - ispa_next.package_manager.main - DEBUG - determining package to update
2025-11-12 10:31:23,138 - ispa_next.package_manager.main - DEBUG - found packages to update: set()
2025-11-12 10:31:23,140 - ispa_next.functions - DEBUG - verify_cart_packages_additional_texts
2025-11-12 10:31:23,142 - ispa_next.functions - DEBUG - check_cart_for_additional_text_packages
2025-11-12 10:31:23,142 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 10:31:26,428 - ispa_next.functions - DEBUG - handle_mobility_replacement
2025-11-12 10:31:26,429 - ispa_next.functions - DEBUG - verify_battery_in_motoroil_package
2025-11-12 10:31:26,432 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 10:31:29,695 - ispa_next.functions - DEBUG - verify_breaks_in_break_package
2025-11-12 10:31:29,695 - ispa_next.functions - DEBUG - verify breaks added if breaks service in cart
2025-11-12 10:31:29,697 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 10:31:32,954 - ispa_next.functions - DEBUG - process_check_control
2025-11-12 10:31:32,954 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Beanstandungen
2025-11-12 10:31:33,671 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Beanstandungen
2025-11-12 10:31:33,965 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 10:31:49,494 - ispa_next.functions - DEBUG - trying add_material_to_package
2025-11-12 10:31:49,498 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 10:31:52,813 - ispa_next.functions - DEBUG - notify_aw_increase_to_service_advisor
2025-11-12 10:32:04,105 - ispa_next.functions - DEBUG - check_cart_packages_for_parts_service_and_parts_availability
2025-11-12 10:32:04,609 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-12 10:32:05,238 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Abschluss
2025-11-12 10:32:05,379 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 10:32:36,947 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-12 10:32:40,700 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-12 10:32:43,843 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-12 10:32:47,136 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-12 10:32:47,136 - ispa_next.appointment_ending - DEBUG - entered complete process
2025-11-12 10:32:47,138 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 10:32:47,512 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-12 10:32:47,584 - ispa_next.common.shared - DEBUG - ISPA tab Abschluss is already open
2025-11-12 10:32:47,586 - ispa_next.appointment_ending - DEBUG - complete_process isn't exiting early.
2025-11-12 10:32:48,880 - ispa_next.appointment_ending - DEBUG - No need to assign service parts target.
2025-11-12 10:32:54,714 - ispa_next.appointment_ending - DEBUG - return from complete process straight to process_list with saving without error_dialog.
2025-11-12 10:32:55,101 - ispa_next.appointment_loop.main - DEBUG - Closing appointment 3.
2025-11-12 10:32:55,809 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 10:32:56,229 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 218
2025-11-12 10:32:56,231 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 1
2025-11-12 10:32:58,707 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 81
2025-11-12 10:32:58,707 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 10:32:59,379 - ispa_next.appointments.models - DEBUG - Appointment Dieter Rohlfsen Herr TS-RD 76 WBAJG11010ED95829 ohne Termin.
2025-11-12 10:32:59,384 - ispa_next.main - DEBUG - 



2025-11-12 10:32:59,385 - ispa_next.main - DEBUG - starting with process 4 (TS-SU 348) of 5
2025-11-12 10:32:59,387 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 10:33:00,371 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 10:33:01,252 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 218
2025-11-12 10:33:01,253 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 81
2025-11-12 10:33:02,312 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 1
2025-11-12 10:33:02,313 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 10:33:33,013 - ispa_next.rkr_manager.main - DEBUG - RemoteKeyReadManager initialized
2025-11-12 10:33:34,820 - ispa_next.appointments.functions - DEBUG - Appointment was already processed in the past.
2025-11-12 10:33:39,406 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 10:33:41,343 - ispa_next.functions - DEBUG - check_and_verify_hu_date
2025-11-12 10:33:41,343 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 10:33:41,407 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 10:33:41,664 - ispa_next.functions - DEBUG - check_potential_workshop_test
2025-11-12 10:33:41,665 - ispa_next.functions - DEBUG - check_vehicle_age_for_service_plus
2025-11-12 10:33:41,665 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 10:33:41,730 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 10:33:44,892 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 10:33:44,893 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 10:33:45,962 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 10:33:47,966 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-12 10:33:48,088 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-12 10:33:48,169 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-12 10:33:48,254 - ispa_next.rkr_manager.state - DEBUG - Checking color in CBS positions
2025-11-12 10:33:52,388 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: data_still_good
2025-11-12 10:33:53,390 - ispa_next.functions - DEBUG - handle_data_privacy_consent
2025-11-12 10:33:53,392 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 10:33:53,893 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 10:34:05,149 - ispa_next.functions - DEBUG - DSE icon is yellow
2025-11-12 10:34:05,151 - ispa_next.functions - DEBUG - DSE dealer channels are valid
2025-11-12 10:34:08,791 - ispa_next.functions - DEBUG - transfer_customer_data_to_appointment
2025-11-12 10:34:08,793 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 10:34:08,906 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 10:34:08,907 - ispa_next.functions - DEBUG - fetch_customer_data
2025-11-12 10:34:08,998 - ispa_next.functions - DEBUG - fetch_customer_data_from_bmw_id
2025-11-12 10:34:10,227 - ispa_next.functions - DEBUG - All data found, skipping remaining sources
2025-11-12 10:34:10,450 - ispa_next.functions - DEBUG - copy_customer_data_to_appointment
2025-11-12 10:34:12,158 - ispa_next.functions - DEBUG - Updated appointment (AJ00018087) customer contact data.
2025-11-12 10:34:13,071 - ispa_next.functions - DEBUG - check_for_alpina_vehicle
2025-11-12 10:34:13,071 - ispa_next.functions - DEBUG - check_bmw_id_add_to_list
2025-11-12 10:34:13,756 - ispa_next.functions - DEBUG - check_home_dealer_add_to_list
2025-11-12 10:34:13,756 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-12 10:34:14,470 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Fahrzeugzustand
2025-11-12 10:34:18,050 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 10:34:18,050 - ispa_next.rkr_manager.main - DEBUG - early exiting RemoteKeyReadManager - enabled=False or early_exit_enabled=True
2025-11-12 10:34:18,075 - ispa_next.functions - DEBUG - generate_attachments
2025-11-12 10:34:18,075 - ispa_next.functions - DEBUG - check_service_requirement
2025-11-12 10:34:18,077 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 10:34:18,593 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 10:34:22,732 - ispa_next.functions - DEBUG - check_service_requirement result: pdf_needed =False
2025-11-12 10:34:22,736 - ispa_next.wipers - DEBUG - handle_wiper_service_contracts
2025-11-12 10:34:22,737 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 10:34:22,801 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-12 10:34:31,900 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 10:34:32,409 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 10:34:32,409 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 10:34:33,193 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 10:34:33,195 - ispa_next.package_manager.main - DEBUG - updating cart content
2025-11-12 10:34:35,098 - ispa_next.package_manager.main - DEBUG - updating advice list content
2025-11-12 10:34:35,100 - ispa_next.package_manager.helper - DEBUG - get_advice_list_contents
2025-11-12 10:34:36,488 - ispa_next.package_manager.main - DEBUG - determining package movements
2025-11-12 10:34:36,494 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 10:34:36,496 - ispa_next.package_manager.main - DEBUG - Cannot place Beide Bremsscheiben hinten aus- und einbauen/erset: placement requirements not met
2025-11-12 10:34:36,498 - ispa_next.package_manager.main - DEBUG - Cannot place Beide Bremsscheiben vorn aus- und einbauen/ersetze: placement requirements not met
2025-11-12 10:34:36,500 - ispa_next.package_manager.main - DEBUG - found packages to cart: set()
2025-11-12 10:34:36,500 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 10:34:36,502 - ispa_next.package_manager.main - DEBUG - Cannot place Ladewunsch und Ladezustand: not present in source
2025-11-12 10:34:36,502 - ispa_next.package_manager.main - DEBUG - found packages to advice_list: set()
2025-11-12 10:34:36,504 - ispa_next.package_manager.main - DEBUG - determining package to delete
2025-11-12 10:34:36,506 - ispa_next.package_manager.main - DEBUG - found packages to delete: set()
2025-11-12 10:34:36,506 - ispa_next.package_manager.main - DEBUG - determining package to update
2025-11-12 10:34:36,508 - ispa_next.package_manager.main - DEBUG - found packages to update: set()
2025-11-12 10:34:36,511 - ispa_next.functions - DEBUG - verify_cart_packages_additional_texts
2025-11-12 10:34:36,512 - ispa_next.functions - DEBUG - check_cart_for_additional_text_packages
2025-11-12 10:34:36,513 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 10:34:38,425 - ispa_next.functions - DEBUG - handle_mobility_replacement
2025-11-12 10:34:38,427 - ispa_next.functions - DEBUG - verify_battery_in_motoroil_package
2025-11-12 10:34:38,431 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 10:34:40,318 - ispa_next.functions - DEBUG - verify_breaks_in_break_package
2025-11-12 10:34:40,318 - ispa_next.functions - DEBUG - verify breaks added if breaks service in cart
2025-11-12 10:34:40,324 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 10:34:42,274 - ispa_next.functions - DEBUG - process_check_control
2025-11-12 10:34:42,276 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Beanstandungen
2025-11-12 10:34:43,097 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Beanstandungen
2025-11-12 10:34:43,333 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 10:34:57,092 - ispa_next.functions - DEBUG - trying add_material_to_package
2025-11-12 10:34:57,094 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 10:34:58,962 - ispa_next.functions - DEBUG - notify_aw_increase_to_service_advisor
2025-11-12 10:35:08,385 - ispa_next.functions - DEBUG - check_cart_packages_for_parts_service_and_parts_availability
2025-11-12 10:35:08,882 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-12 10:35:09,473 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Abschluss
2025-11-12 10:35:09,581 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 10:35:27,476 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-12 10:35:31,513 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-12 10:35:31,515 - ispa_next.appointment_ending - DEBUG - entered complete process
2025-11-12 10:35:31,515 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 10:35:32,083 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-12 10:35:32,152 - ispa_next.common.shared - DEBUG - ISPA tab Abschluss is already open
2025-11-12 10:35:32,152 - ispa_next.appointment_ending - DEBUG - complete_process isn't exiting early.
2025-11-12 10:35:33,581 - ispa_next.appointment_ending - DEBUG - No need to assign service parts target.
2025-11-12 10:35:40,611 - ispa_next.appointment_ending - DEBUG - return from complete process straight to process_list with saving without error_dialog.
2025-11-12 10:35:41,006 - ispa_next.appointment_loop.main - DEBUG - Closing appointment 4.
2025-11-12 10:35:41,670 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 10:35:42,122 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 191
2025-11-12 10:35:42,123 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 1
2025-11-12 10:35:44,633 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 81
2025-11-12 10:35:44,634 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 10:35:45,193 - ispa_next.appointments.models - DEBUG - Appointment Dieter Rohlfsen Herr TS-RD 76 WBAJG11010ED95829 ohne Termin.
2025-11-12 10:35:45,199 - ispa_next.main - DEBUG - 



2025-11-12 10:35:45,199 - ispa_next.main - DEBUG - starting with process 5 (TS-VS 73) of 5
2025-11-12 10:35:45,201 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 10:35:46,008 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 10:35:47,248 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 191
2025-11-12 10:35:47,249 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 81
2025-11-12 10:35:48,566 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 1
2025-11-12 10:35:48,568 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 10:36:11,455 - ispa_next.rkr_manager.main - DEBUG - RemoteKeyReadManager initialized
2025-11-12 10:36:13,410 - ispa_next.appointments.functions - DEBUG - Appointment was already processed in the past.
2025-11-12 10:36:18,357 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 10:36:20,310 - ispa_next.functions - DEBUG - check_and_verify_hu_date
2025-11-12 10:36:20,312 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 10:36:20,387 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 10:36:20,539 - ispa_next.functions - DEBUG - HU date already expired after 872 days.
2025-11-12 10:36:24,310 - ispa_next.functions - DEBUG - check_potential_workshop_test
2025-11-12 10:36:24,312 - ispa_next.functions - DEBUG - check_vehicle_age_for_service_plus
2025-11-12 10:36:24,314 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 10:36:24,384 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 10:36:30,555 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 10:36:30,557 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 10:36:31,424 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 10:36:33,431 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-12 10:36:33,554 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-12 10:36:33,665 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-12 10:36:33,744 - ispa_next.rkr_manager.state - DEBUG - Getting cart and advice list contents
2025-11-12 10:36:33,744 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-12 10:36:41,880 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: non_blocking_wait
2025-11-12 10:36:42,881 - ispa_next.functions - DEBUG - handle_data_privacy_consent
2025-11-12 10:36:42,883 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 10:36:43,375 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 10:36:54,168 - ispa_next.functions - DEBUG - DSE icon is yellow
2025-11-12 10:36:57,122 - ispa_next.functions - DEBUG - transfer_customer_data_to_appointment
2025-11-12 10:36:57,124 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 10:36:57,181 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 10:36:57,183 - ispa_next.functions - DEBUG - fetch_customer_data
2025-11-12 10:36:57,222 - ispa_next.functions - DEBUG - fetch_customer_data_from_bmw_id
2025-11-12 10:36:57,368 - ispa_next.functions - DEBUG - fetch_customer_data_from_dms
2025-11-12 10:36:58,369 - ispa_next.functions - DEBUG - fetch_customer_data_from_wps
2025-11-12 10:36:59,515 - ispa_next.functions - DEBUG - fetch_customer_data_from_temporary_data
2025-11-12 10:36:59,809 - ispa_next.functions - DEBUG - copy_customer_data_to_appointment
2025-11-12 10:37:01,503 - ispa_next.functions - DEBUG - Updated appointment (AJ00018047) customer contact data.
2025-11-12 10:37:02,413 - ispa_next.functions - DEBUG - check_for_alpina_vehicle
2025-11-12 10:37:02,414 - ispa_next.functions - DEBUG - check_bmw_id_add_to_list
2025-11-12 10:37:02,499 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-12 10:37:03,530 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Fahrzeugzustand
2025-11-12 10:37:04,526 - ispa_next.functions - DEBUG - check_home_dealer_add_to_list
2025-11-12 10:37:04,528 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-12 10:37:04,617 - ispa_next.common.shared - DEBUG - ISPA tab Fahrzeugzustand is already open
2025-11-12 10:37:08,236 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 10:37:08,238 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 10:37:08,713 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 10:37:10,717 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-12 10:37:10,828 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-12 10:37:10,986 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-12 10:37:11,068 - ispa_next.rkr_manager.state - DEBUG - Getting cart and advice list contents
2025-11-12 10:37:11,068 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-12 10:37:19,177 - ispa_next.rkr_manager.state - DEBUG - Waiting for timeout to pass
2025-11-12 10:38:19,179 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-12 10:38:27,368 - ispa_next.rkr_manager.state - DEBUG - Waiting for timeout to pass
2025-11-12 10:39:12,371 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-12 10:39:20,537 - ispa_next.rkr_manager.state - DEBUG - Cannot call from RKR
2025-11-12 10:39:27,978 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: rkr_not_successfull
2025-11-12 10:39:28,991 - ispa_next.functions - DEBUG - generate_attachments
2025-11-12 10:39:28,991 - ispa_next.functions - DEBUG - check_service_requirement
2025-11-12 10:39:28,993 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 10:39:29,076 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-12 10:39:33,166 - ispa_next.functions - DEBUG - check_service_requirement result: pdf_needed =False
2025-11-12 10:39:33,168 - ispa_next.wipers - DEBUG - handle_wiper_service_contracts
2025-11-12 10:39:33,170 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 10:39:33,227 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-12 10:39:33,633 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 10:39:34,114 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 10:39:34,114 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 10:39:34,775 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 10:39:34,776 - ispa_next.package_manager.main - DEBUG - updating cart content
2025-11-12 10:39:36,623 - ispa_next.package_manager.main - DEBUG - updating advice list content
2025-11-12 10:39:36,625 - ispa_next.package_manager.helper - DEBUG - get_advice_list_contents
2025-11-12 10:39:38,127 - ispa_next.package_manager.main - DEBUG - determining package movements
2025-11-12 10:39:38,127 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 10:39:38,129 - ispa_next.package_manager.main - DEBUG - Cannot place Beide Bremsscheiben hinten aus- und einbauen/erset: placement requirements not met
2025-11-12 10:39:38,131 - ispa_next.package_manager.main - DEBUG - Cannot place Beide Bremsscheiben vorn aus- und einbauen/ersetze: placement requirements not met
2025-11-12 10:39:38,131 - ispa_next.package_manager.main - DEBUG - found packages to cart: set()
2025-11-12 10:39:38,133 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 10:39:38,133 - ispa_next.package_manager.main - DEBUG - Cannot place Ladewunsch und Ladezustand: not present in source
2025-11-12 10:39:38,135 - ispa_next.package_manager.main - DEBUG - found packages to advice_list: set()
2025-11-12 10:39:38,135 - ispa_next.package_manager.main - DEBUG - determining package to delete
2025-11-12 10:39:38,138 - ispa_next.package_manager.main - DEBUG - found packages to delete: set()
2025-11-12 10:39:38,138 - ispa_next.package_manager.main - DEBUG - determining package to update
2025-11-12 10:39:38,140 - ispa_next.package_manager.main - DEBUG - found packages to update: set()
2025-11-12 10:39:38,146 - ispa_next.functions - DEBUG - verify_cart_packages_additional_texts
2025-11-12 10:39:38,147 - ispa_next.functions - DEBUG - check_cart_for_additional_text_packages
2025-11-12 10:39:38,148 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 10:39:39,986 - ispa_next.functions - DEBUG - handle_mobility_replacement
2025-11-12 10:39:39,987 - ispa_next.functions - DEBUG - verify_battery_in_motoroil_package
2025-11-12 10:39:39,989 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 10:39:41,920 - ispa_next.functions - DEBUG - verify_breaks_in_break_package
2025-11-12 10:39:41,920 - ispa_next.functions - DEBUG - verify breaks added if breaks service in cart
2025-11-12 10:39:41,923 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 10:39:43,825 - ispa_next.functions - DEBUG - process_check_control
2025-11-12 10:39:43,825 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Beanstandungen
2025-11-12 10:39:44,677 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Beanstandungen
2025-11-12 10:39:44,865 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 10:39:57,656 - ispa_next.functions - DEBUG - trying add_material_to_package
2025-11-12 10:39:57,656 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 10:39:59,567 - ispa_next.functions - DEBUG - notify_aw_increase_to_service_advisor
2025-11-12 10:40:09,641 - ispa_next.functions - DEBUG - check_cart_packages_for_parts_service_and_parts_availability
2025-11-12 10:40:10,160 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-12 10:40:10,689 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Abschluss
2025-11-12 10:40:10,869 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 10:40:28,368 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-12 10:40:32,558 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-12 10:40:32,560 - ispa_next.appointment_ending - DEBUG - entered complete process
2025-11-12 10:40:32,560 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 10:40:33,123 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-12 10:40:33,193 - ispa_next.common.shared - DEBUG - ISPA tab Abschluss is already open
2025-11-12 10:40:33,193 - ispa_next.appointment_ending - DEBUG - complete_process isn't exiting early.
2025-11-12 10:40:34,660 - ispa_next.appointment_ending - DEBUG - No need to assign service parts target.
2025-11-12 10:40:41,172 - ispa_next.appointment_ending - DEBUG - return from complete process straight to process_list with saving without error_dialog.
2025-11-12 10:40:41,566 - ispa_next.appointment_loop.main - DEBUG - Closing appointment 5.
2025-11-12 10:40:42,311 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 10:40:43,030 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 191
2025-11-12 10:40:43,032 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 1
2025-11-12 10:40:46,070 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 81
2025-11-12 10:40:46,071 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 10:40:46,887 - ispa_next.main - DEBUG - Found new Appointment: TS-RD 76
2025-11-12 10:40:46,888 - ispa_next.main - DEBUG - 



2025-11-12 10:40:46,888 - ispa_next.main - DEBUG - starting with process 6 (TS-RD 76) of 6
2025-11-12 10:40:46,904 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 10:40:48,196 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 10:40:49,309 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 191
2025-11-12 10:40:49,310 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 81
2025-11-12 10:40:50,464 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 1
2025-11-12 10:40:50,465 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 10:41:23,078 - ispa_next.rkr_manager.main - DEBUG - RemoteKeyReadManager initialized
2025-11-12 10:41:32,581 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 10:41:37,214 - ispa_next.functions - DEBUG - check_and_verify_hu_date
2025-11-12 10:41:37,214 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 10:41:37,298 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 10:41:37,514 - ispa_next.functions - DEBUG - HU date already expired after 321 days.
2025-11-12 10:41:44,376 - ispa_next.functions - DEBUG - check_potential_workshop_test
2025-11-12 10:41:44,378 - ispa_next.functions - DEBUG - check_vehicle_age_for_service_plus
2025-11-12 10:41:44,380 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 10:41:44,483 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 10:41:53,776 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 10:41:53,778 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 10:41:54,773 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 10:41:56,779 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-12 10:41:56,894 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-12 10:41:56,989 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-12 10:41:57,056 - ispa_next.rkr_manager.state - DEBUG - Getting cart and advice list contents
2025-11-12 10:41:57,056 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-12 10:42:07,699 - ispa_next.rkr_manager.helper - DEBUG - Found button 'Schlüsseldaten überschreiben und öffnen (Empfohlen)' in nested popup
2025-11-12 10:42:11,979 - ispa_next.rkr_manager.state - DEBUG - Checking cart items after successfull RKR
2025-11-12 10:42:11,979 - ispa_next.rkr_manager.state - DEBUG - Checking color in CBS positions
2025-11-12 10:42:16,165 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: success
2025-11-12 10:42:17,169 - ispa_next.functions - DEBUG - handle_data_privacy_consent
2025-11-12 10:42:17,169 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 10:42:17,688 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 10:42:28,267 - ispa_next.functions - DEBUG - DSE icon is yellow
2025-11-12 10:42:28,269 - ispa_next.functions - DEBUG - DSE dealer channels are valid
2025-11-12 10:42:35,015 - ispa_next.functions - DEBUG - transfer_customer_data_to_appointment
2025-11-12 10:42:35,018 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 10:42:35,133 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 10:42:35,134 - ispa_next.functions - DEBUG - fetch_customer_data
2025-11-12 10:42:35,166 - ispa_next.functions - DEBUG - fetch_customer_data_from_bmw_id
2025-11-12 10:42:35,286 - ispa_next.functions - DEBUG - fetch_customer_data_from_dms
2025-11-12 10:42:36,449 - ispa_next.functions - DEBUG - All data found, skipping remaining sources
2025-11-12 10:42:36,664 - ispa_next.functions - DEBUG - copy_customer_data_to_appointment
2025-11-12 10:42:40,573 - ispa_next.functions - DEBUG - Updated appointment (AJ00018155) customer contact data.
2025-11-12 10:42:41,760 - ispa_next.functions - DEBUG - check_for_alpina_vehicle
2025-11-12 10:42:41,760 - ispa_next.functions - DEBUG - check_bmw_id_add_to_list
2025-11-12 10:42:41,858 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-12 10:42:42,499 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Fahrzeugzustand
2025-11-12 10:42:43,690 - ispa_next.functions - DEBUG - check_home_dealer_add_to_list
2025-11-12 10:42:43,692 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-12 10:42:43,748 - ispa_next.common.shared - DEBUG - ISPA tab Fahrzeugzustand is already open
2025-11-12 10:42:47,326 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 10:42:47,326 - ispa_next.rkr_manager.main - DEBUG - early exiting RemoteKeyReadManager - enabled=False or early_exit_enabled=True
2025-11-12 10:42:47,328 - ispa_next.functions - DEBUG - generate_attachments
2025-11-12 10:42:47,330 - ispa_next.functions - DEBUG - check_service_requirement
2025-11-12 10:42:47,330 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 10:42:47,822 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 10:42:51,915 - ispa_next.functions - DEBUG - check_service_requirement result: pdf_needed =True
2025-11-12 10:42:52,422 - ispa_next.functions - DEBUG - generate_appointment_pdfs
2025-11-12 10:43:02,871 - ispa_next.wipers - DEBUG - handle_wiper_service_contracts
2025-11-12 10:43:02,871 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 10:43:02,950 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-12 10:43:03,322 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 10:43:04,121 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 10:43:04,122 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 10:43:04,946 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 10:43:04,946 - ispa_next.package_manager.main - DEBUG - updating cart content
2025-11-12 10:43:09,159 - ispa_next.package_manager.main - DEBUG - updating advice list content
2025-11-12 10:43:09,161 - ispa_next.package_manager.helper - DEBUG - get_advice_list_contents
2025-11-12 10:43:10,875 - ispa_next.package_manager.main - DEBUG - determining package movements
2025-11-12 10:43:10,877 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 10:43:10,879 - ispa_next.package_manager.main - DEBUG - Cannot place Beide Bremsscheiben hinten aus- und einbauen/erset: placement requirements not met
2025-11-12 10:43:10,881 - ispa_next.package_manager.main - DEBUG - Cannot place Beide Bremsscheiben vorn aus- und einbauen/ersetze: placement requirements not met
2025-11-12 10:43:10,882 - ispa_next.package_manager.main - DEBUG - found packages to cart: {Package(name=Fußraum saugen, source=from_tab, target=cart)}
2025-11-12 10:43:10,882 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 10:43:10,886 - ispa_next.package_manager.main - DEBUG - Cannot place Ladewunsch und Ladezustand: not present in source
2025-11-12 10:43:10,888 - ispa_next.package_manager.main - DEBUG - found packages to advice_list: set()
2025-11-12 10:43:10,908 - ispa_next.package_manager.main - DEBUG - determining package to delete
2025-11-12 10:43:10,910 - ispa_next.package_manager.main - DEBUG - found packages to delete: set()
2025-11-12 10:43:10,912 - ispa_next.package_manager.main - DEBUG - determining package to update
2025-11-12 10:43:10,914 - ispa_next.package_manager.main - DEBUG - found packages to update: set()
2025-11-12 10:43:10,916 - ispa_next.package_manager.helper - DEBUG - add_to_cart called
2025-11-12 10:43:11,688 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Marketing
2025-11-12 10:43:12,549 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Marketing
2025-11-12 10:43:17,327 - ispa_next.package_manager.helper - DEBUG - _add_to_container_manual
2025-11-12 10:43:17,329 - ispa_next.functions - DEBUG - verify_cart_packages_additional_texts
2025-11-12 10:43:17,330 - ispa_next.functions - DEBUG - check_cart_for_additional_text_packages
2025-11-12 10:43:17,330 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 10:43:22,708 - ispa_next.functions - DEBUG - handle_mobility_replacement
2025-11-12 10:43:22,710 - ispa_next.functions - DEBUG - verify_battery_in_motoroil_package
2025-11-12 10:43:22,715 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 10:43:28,049 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 10:43:28,530 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 10:43:38,248 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 10:43:53,517 - ispa_next.functions - DEBUG - verify_breaks_in_break_package
2025-11-12 10:43:53,517 - ispa_next.functions - DEBUG - verify breaks added if breaks service in cart
2025-11-12 10:43:53,533 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 10:43:58,986 - ispa_next.functions - DEBUG - process_check_control
2025-11-12 10:43:58,986 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Beanstandungen
2025-11-12 10:43:59,989 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Beanstandungen
2025-11-12 10:44:00,236 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 10:44:12,104 - ispa_next.functions - DEBUG - trying add_material_to_package
2025-11-12 10:44:12,107 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 10:44:17,556 - ispa_next.functions - DEBUG - notify_aw_increase_to_service_advisor
2025-11-12 10:44:30,085 - ispa_next.functions - DEBUG - check_cart_packages_for_parts_service_and_parts_availability
2025-11-12 10:44:30,658 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-12 10:44:31,238 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Abschluss
2025-11-12 10:44:31,416 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 10:45:23,763 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-12 10:45:29,600 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-12 10:45:35,149 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-12 10:45:40,500 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-12 10:45:45,853 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-12 10:45:51,986 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-12 10:45:57,333 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-12 10:45:57,335 - ispa_next.appointment_ending - DEBUG - entered complete process
2025-11-12 10:45:57,337 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 10:45:58,211 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-12 10:45:58,336 - ispa_next.common.shared - DEBUG - ISPA tab Abschluss is already open
2025-11-12 10:45:58,336 - ispa_next.appointment_ending - DEBUG - complete_process isn't exiting early.
2025-11-12 10:46:00,520 - ispa_next.appointment_ending - DEBUG - No need to assign service parts target.
2025-11-12 10:46:10,730 - ispa_next.appointment_ending - DEBUG - return from complete process straight to process_list with saving without error_dialog.
2025-11-12 10:46:11,139 - ispa_next.appointment_loop.main - DEBUG - Closing appointment 6.
2025-11-12 10:46:13,100 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 10:46:13,967 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 191
2025-11-12 10:46:13,969 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 1
2025-11-12 10:46:18,166 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 81
2025-11-12 10:46:18,167 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
