2025-11-12 11:07:37,291 - ispa_next.main - DEBUG - ISPA Next attempt (1 / 5)
2025-11-12 11:07:37,300 - overlays.client - INFO - Connected to overlay manager pipe
2025-11-12 11:07:54,095 - ispa_next.app_start.functions - DEBUG - handle_update_available
2025-11-12 11:08:04,682 - ispa_next.app_start.functions - DEBUG - has_ispa_errors
2025-11-12 11:08:20,334 - ispa_next.app_start.functions - DEBUG - authenticate_user
2025-11-12 11:08:53,333 - ispa_next.app_start.main - DEBUG - Login successful
2025-11-12 11:09:09,994 - ispa_next.appointments.functions - DEBUG - order_appointments_grid_by_created_at
2025-11-12 11:09:12,350 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 11:09:13,393 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 941
2025-11-12 11:09:13,395 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 283
2025-11-12 11:09:15,694 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 75
2025-11-12 11:09:15,695 - ispa_next.appointments.functions - DEBUG - recover_or_exit_IPS_error
2025-11-12 11:09:15,695 - ispa_next.appointments.functions - DEBUG - check_appointments_grid_for_IPS_error
2025-11-12 11:09:16,521 - ispa_next.appointments.functions - DEBUG - check_appointments_grid_for_IPS_error
2025-11-12 11:09:17,606 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 11:09:29,485 - ispa_next.appointments.models - DEBUG - Skipping appointment without VIN
2025-11-12 11:09:29,535 - ispa_next.appointments.models - DEBUG - Appointment Jasmin Ingrid Schneider FD-LL 66 WBA11AH040CN35713 ohne Termin.
2025-11-12 11:09:29,567 - ispa_next.appointments.models - DEBUG - Appointment Daniel Tin FD-T 115 WBAJP310X0BT73435 ohne Termin.
2025-11-12 11:09:29,567 - ispa_next.appointments.models - DEBUG - Skipping appointment without VIN
2025-11-12 11:09:29,575 - ispa_next.appointments.models - DEBUG - Appointment Edgar Blum VB-EB 903 WBA5V51090AE18702 ohne Termin.
2025-11-12 11:09:29,576 - ispa_next.appointments.models - DEBUG - Skipping appointment without VIN
2025-11-12 11:09:29,577 - ispa_next.appointments.models - DEBUG - Skipping appointment without VIN
2025-11-12 11:09:29,584 - ispa_next.appointments.models - DEBUG - Appointment Sarah Rockel VB-SR 4592 WBAJF31060WW33714 ohne Termin.
2025-11-12 11:09:29,593 - ispa_next.appointments.models - DEBUG - Appointment Edwin Schneider VB-CF 8691 WBATX31040LC42233 ohne Termin.
2025-11-12 11:09:29,599 - ispa_next.appointments.models - DEBUG - Appointment Rudolf Panzner FD-BR 42 WBAUJ710209C56237 ohne Termin.
2025-11-12 11:09:29,606 - ispa_next.appointments.models - DEBUG - Appointment Mahmut Odabasi FD-IL 1983 WBAJP31070BT73358 ohne Termin.
2025-11-12 11:09:29,612 - ispa_next.appointments.models - DEBUG - Appointment Elisabeth Jonas FD-M 100 WBAJF31050WW40413 ohne Termin.
2025-11-12 11:09:29,615 - ispa_next.appointments.models - DEBUG - Skipping appointment without VIN
2025-11-12 11:09:29,615 - ispa_next.appointments.models - DEBUG - Skipping appointment without VIN
2025-11-12 11:09:29,622 - ispa_next.appointments.models - DEBUG - Appointment Andreas Dumler FD-ED 2206 WBA6L51070FJ14696 ohne Termin.
2025-11-12 11:09:29,623 - ispa_next.appointments.models - DEBUG - Skipping appointment without VIN
2025-11-12 11:09:29,623 - ispa_next.appointments.models - DEBUG - Skipping appointment without VIN
2025-11-12 11:09:29,623 - ispa_next.appointments.models - DEBUG - Skipping appointment without VIN
2025-11-12 11:09:29,623 - ispa_next.appointments.models - DEBUG - Skipping appointment without VIN
2025-11-12 11:09:29,624 - ispa_next.appointments.models - DEBUG - Skipping appointment without VIN
2025-11-12 11:09:29,624 - ispa_next.appointments.models - DEBUG - Skipping appointment without VIN
2025-11-12 11:09:29,628 - ispa_next.main - DEBUG - Found 2 out of 16 appointments to process (configured limit: 15).
2025-11-12 11:09:29,629 - ispa_next.main - DEBUG - Processing 1 fresh appointments.
2025-11-12 11:09:29,629 - ispa_next.main - DEBUG - Processing 1 already visited appointments (w/ RKR not callable).
2025-11-12 11:09:29,629 - ispa_next.main - DEBUG - All appointments: FD-A 4441, FD-ED 885 E
2025-11-12 11:09:29,631 - ispa_next.main - DEBUG - 



2025-11-12 11:09:29,631 - ispa_next.main - DEBUG - starting with process 1 (FD-A 4441) of 2
2025-11-12 11:09:29,635 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 11:09:31,030 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 11:09:32,245 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 941
2025-11-12 11:09:32,246 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 75
2025-11-12 11:09:33,683 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 1
2025-11-12 11:09:33,685 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 11:09:58,289 - ispa_next.rkr_manager.main - DEBUG - RemoteKeyReadManager initialized
2025-11-12 11:10:07,064 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 11:10:08,925 - ispa_next.functions - DEBUG - check_and_verify_hu_date
2025-11-12 11:10:08,950 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 11:10:09,033 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 11:10:09,260 - ispa_next.functions - DEBUG - HU date already expired after 77 days.
2025-11-12 11:10:15,367 - ispa_next.functions - DEBUG - check_potential_workshop_test
2025-11-12 11:10:15,369 - ispa_next.functions - DEBUG - check_vehicle_age_for_service_plus
2025-11-12 11:10:18,061 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 11:10:18,063 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 11:10:18,955 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 11:10:20,987 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-12 11:10:21,106 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-12 11:10:21,197 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-12 11:10:21,266 - ispa_next.rkr_manager.state - DEBUG - Getting cart and advice list contents
2025-11-12 11:10:21,268 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 11:10:23,152 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-12 11:10:31,077 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: non_blocking_wait
2025-11-12 11:10:32,081 - ispa_next.functions - DEBUG - handle_data_privacy_consent
2025-11-12 11:10:32,081 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 11:10:32,585 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 11:10:40,608 - ispa_next.functions - DEBUG - DSE icon is green
2025-11-12 11:10:46,904 - ispa_next.functions - DEBUG - transfer_customer_data_to_appointment
2025-11-12 11:10:46,905 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 11:10:47,006 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 11:10:47,006 - ispa_next.functions - DEBUG - fetch_customer_data
2025-11-12 11:10:47,044 - ispa_next.functions - DEBUG - fetch_customer_data_from_bmw_id
2025-11-12 11:10:48,291 - ispa_next.functions - DEBUG - All data found, skipping remaining sources
2025-11-12 11:10:48,492 - ispa_next.functions - DEBUG - copy_customer_data_to_appointment
2025-11-12 11:10:52,479 - ispa_next.functions - DEBUG - Updated appointment (AC00069101) customer contact data.
2025-11-12 11:10:53,394 - ispa_next.functions - DEBUG - check_for_alpina_vehicle
2025-11-12 11:10:53,396 - ispa_next.functions - DEBUG - check_bmw_id_add_to_list
2025-11-12 11:10:54,353 - ispa_next.functions - DEBUG - check_home_dealer_add_to_list
2025-11-12 11:10:54,353 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-12 11:10:55,037 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Fahrzeugzustand
2025-11-12 11:10:59,031 - ispa_next.functions - DEBUG - Home dealer assignment button not available
2025-11-12 11:10:59,031 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 11:10:59,033 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 11:10:59,604 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 11:11:01,607 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-12 11:11:01,799 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-12 11:11:01,891 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-12 11:11:02,009 - ispa_next.rkr_manager.state - DEBUG - Getting cart and advice list contents
2025-11-12 11:11:02,011 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 11:11:03,881 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-12 11:11:15,305 - ispa_next.rkr_manager.helper - DEBUG - Found button 'Schlüsseldaten überschreiben und öffnen (Empfohlen)' in nested popup
2025-11-12 11:11:19,479 - ispa_next.rkr_manager.state - DEBUG - Checking cart items after successfull RKR
2025-11-12 11:11:19,482 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 11:11:23,587 - ispa_next.rkr_manager.state - DEBUG - moving cart item source=<PackageSource.CART: 'cart'> name='§ Fahrzeuguntersuchung' target=<Container.UNKOWN: 'unkown'> notification=None element=<pyfenster.Element name='BMW.ISPI.TRAC.IspaNext.BasketUI.ViewModels.BasketJobViewModel' class_name='TreeViewItem' control_type_name='TreeItem'> tab=None category=None subcategory=None search_term=None catalog_group=None catalog_subgroup=None catalog_page=None package_type=None number=None package_aw=None optional_part=None required_aws=[] parts_to_replace=None note=None valid_from=datetime.datetime(1900, 1, 1, 7, 0) valid_until=datetime.datetime(2100, 1, 1, 7, 0) valid_weekdays=[] replacement_packages=[] service_advisor_guards=[] service_advisor_requirements=[] deletion_guards=[] deletion_requirements=[] placement_guards=[] placement_requirements=[] to advice_list
2025-11-12 11:11:25,496 - ispa_next.rkr_manager.state - DEBUG - Checking color in CBS positions
2025-11-12 11:11:27,771 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: success
2025-11-12 11:11:28,776 - ispa_next.functions - DEBUG - generate_attachments
2025-11-12 11:11:28,777 - ispa_next.functions - DEBUG - check_service_requirement
2025-11-12 11:11:28,778 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 11:11:28,862 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-12 11:11:32,987 - ispa_next.functions - DEBUG - check_service_requirement result: pdf_needed =True
2025-11-12 11:11:33,547 - ispa_next.functions - DEBUG - generate_appointment_pdfs
2025-11-12 11:11:48,839 - ispa_next.wipers - DEBUG - handle_wiper_service_contracts
2025-11-12 11:11:48,840 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 11:11:48,946 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-12 11:11:49,333 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 11:11:49,979 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 11:11:49,980 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 11:11:50,720 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 11:11:50,722 - ispa_next.package_manager.main - DEBUG - updating cart content
2025-11-12 11:11:52,602 - ispa_next.package_manager.main - DEBUG - updating advice list content
2025-11-12 11:11:52,604 - ispa_next.package_manager.helper - DEBUG - get_advice_list_contents
2025-11-12 11:11:54,398 - ispa_next.package_manager.main - DEBUG - determining package movements
2025-11-12 11:11:54,400 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 11:11:54,403 - ispa_next.package_manager.main - DEBUG - found packages to cart: {Package(name=FAHRZEUGWÄSCHE KOSTENFREI, source=from_tab, target=cart)}
2025-11-12 11:11:54,403 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 11:11:54,405 - ispa_next.package_manager.main - DEBUG - Cannot place Ladewunsch und Ladezustand: not present in source
2025-11-12 11:11:54,407 - ispa_next.package_manager.main - DEBUG - found packages to advice_list: set()
2025-11-12 11:11:54,407 - ispa_next.package_manager.main - DEBUG - determining package to delete
2025-11-12 11:11:54,409 - ispa_next.package_manager.main - DEBUG - found packages to delete: set()
2025-11-12 11:11:54,409 - ispa_next.package_manager.main - DEBUG - determining package to update
2025-11-12 11:11:54,411 - ispa_next.package_manager.main - DEBUG - found packages to update: set()
2025-11-12 11:11:54,413 - ispa_next.package_manager.helper - DEBUG - add_to_cart called
2025-11-12 11:11:55,094 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Marketing
2025-11-12 11:11:55,814 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Marketing
2025-11-12 11:12:23,164 - ispa_next.package_manager.helper - DEBUG - _add_to_container_manual
2025-11-12 11:12:23,166 - ispa_next.functions - DEBUG - verify_cart_packages_additional_texts
2025-11-12 11:12:23,167 - ispa_next.functions - DEBUG - check_cart_for_additional_text_packages
2025-11-12 11:12:23,168 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 11:12:25,818 - ispa_next.functions - DEBUG - handle_mobility_replacement
2025-11-12 11:12:25,819 - ispa_next.functions - DEBUG - verify_battery_in_motoroil_package
2025-11-12 11:12:25,821 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 11:12:28,405 - ispa_next.functions - DEBUG - verify_breaks_in_break_package
2025-11-12 11:12:28,407 - ispa_next.functions - DEBUG - process_check_control
2025-11-12 11:12:28,407 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Beanstandungen
2025-11-12 11:12:28,876 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Beanstandungen
2025-11-12 11:12:29,042 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 11:12:35,448 - ispa_next.functions - DEBUG - trying add_material_to_package
2025-11-12 11:12:35,449 - ispa_next.functions - DEBUG - notify_aw_increase_to_service_advisor
2025-11-12 11:12:35,450 - ispa_next.functions - DEBUG - check_cart_packages_for_parts_service_and_parts_availability
2025-11-12 11:12:35,451 - ispa_next.appointment_ending - DEBUG - entered complete process
2025-11-12 11:12:35,451 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 11:12:36,462 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-12 11:12:37,055 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Abschluss
2025-11-12 11:12:37,056 - ispa_next.appointment_ending - DEBUG - complete_process isn't exiting early.
2025-11-12 11:12:39,629 - ispa_next.appointment_ending - DEBUG - No need to assign service parts target.
2025-11-12 11:12:50,638 - ispa_next.appointment_ending - DEBUG - return from complete process straight to process_list with saving without error_dialog.
2025-11-12 11:12:51,036 - ispa_next.appointment_loop.main - DEBUG - Closing appointment 1.
2025-11-12 11:12:53,860 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 11:12:54,608 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 942
2025-11-12 11:12:54,609 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 1
2025-11-12 11:12:58,186 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 283
2025-11-12 11:12:58,187 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 11:12:59,112 - ispa_next.appointments.models - DEBUG - Appointment Firma Simone Rothmann FD-SO 15 WMW51DH0X02P91055 ohne Termin.
2025-11-12 11:12:59,116 - ispa_next.appointments.models - DEBUG - Skipping appointment without VIN
2025-11-12 11:12:59,126 - ispa_next.appointments.models - DEBUG - Appointment Jasmin Ingrid Schneider FD-LL 66 WBA11AH040CN35713 ohne Termin.
2025-11-12 11:12:59,129 - ispa_next.main - DEBUG - Found new Appointment: FD-S 487
2025-11-12 11:12:59,129 - ispa_next.main - DEBUG - Found new Appointment: FD-MC 1806
2025-11-12 11:12:59,131 - ispa_next.main - DEBUG - 



2025-11-12 11:12:59,131 - ispa_next.main - DEBUG - starting with process 2 (FD-S 487) of 4
2025-11-12 11:12:59,134 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 11:13:00,509 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 11:13:01,843 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 942
2025-11-12 11:13:01,844 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 283
2025-11-12 11:13:03,863 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 1
2025-11-12 11:13:03,864 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 11:13:32,042 - ispa_next.rkr_manager.main - DEBUG - RemoteKeyReadManager initialized
2025-11-12 11:13:43,967 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 11:13:45,194 - ispa_next.functions - DEBUG - check_and_verify_hu_date
2025-11-12 11:13:45,195 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 11:13:45,279 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 11:13:45,601 - ispa_next.functions - DEBUG - check_potential_workshop_test
2025-11-12 11:13:45,603 - ispa_next.functions - DEBUG - check_vehicle_age_for_service_plus
2025-11-12 11:13:48,558 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 11:13:48,560 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 11:13:49,872 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 11:13:51,879 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-12 11:13:52,015 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-12 11:13:52,168 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-12 11:13:52,288 - ispa_next.rkr_manager.state - DEBUG - Checking color in CBS positions
2025-11-12 11:13:56,542 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: data_still_good
2025-11-12 11:13:57,573 - ispa_next.functions - DEBUG - handle_data_privacy_consent
2025-11-12 11:13:57,574 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 11:13:58,084 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 11:14:13,445 - ispa_next.functions - DEBUG - DSE icon is red
2025-11-12 11:14:22,357 - ispa_next.functions - DEBUG - transfer_customer_data_to_appointment
2025-11-12 11:14:22,359 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 11:14:22,463 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 11:14:22,464 - ispa_next.functions - DEBUG - fetch_customer_data
2025-11-12 11:14:22,536 - ispa_next.functions - DEBUG - fetch_customer_data_from_bmw_id
2025-11-12 11:14:23,849 - ispa_next.functions - DEBUG - fetch_customer_data_from_dms
2025-11-12 11:14:25,317 - ispa_next.functions - DEBUG - All data found, skipping remaining sources
2025-11-12 11:14:25,550 - ispa_next.functions - DEBUG - copy_customer_data_to_appointment
2025-11-12 11:14:29,761 - ispa_next.functions - DEBUG - Updated appointment (AC00069108) customer contact data.
2025-11-12 11:14:30,669 - ispa_next.functions - DEBUG - check_for_alpina_vehicle
2025-11-12 11:14:30,669 - ispa_next.functions - DEBUG - check_bmw_id_add_to_list
2025-11-12 11:14:31,685 - ispa_next.functions - DEBUG - check_home_dealer_add_to_list
2025-11-12 11:14:31,686 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-12 11:14:32,552 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Fahrzeugzustand
2025-11-12 11:14:36,141 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 11:14:36,141 - ispa_next.rkr_manager.main - DEBUG - early exiting RemoteKeyReadManager - enabled=False or early_exit_enabled=True
2025-11-12 11:14:36,152 - ispa_next.functions - DEBUG - generate_attachments
2025-11-12 11:14:36,153 - ispa_next.functions - DEBUG - check_service_requirement
2025-11-12 11:14:36,153 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 11:14:36,653 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 11:14:40,820 - ispa_next.functions - DEBUG - check_service_requirement result: pdf_needed =False
2025-11-12 11:14:40,824 - ispa_next.wipers - DEBUG - handle_wiper_service_contracts
2025-11-12 11:14:40,824 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 11:14:40,921 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-12 11:14:46,581 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 11:14:47,104 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 11:14:47,104 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 11:14:47,841 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 11:14:47,843 - ispa_next.package_manager.main - DEBUG - updating cart content
2025-11-12 11:14:49,158 - ispa_next.package_manager.main - DEBUG - updating advice list content
2025-11-12 11:14:49,160 - ispa_next.package_manager.helper - DEBUG - get_advice_list_contents
2025-11-12 11:14:50,351 - ispa_next.package_manager.main - DEBUG - determining package movements
2025-11-12 11:14:50,355 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 11:14:50,357 - ispa_next.package_manager.main - DEBUG - found packages to cart: {Package(name=FAHRZEUGWÄSCHE KOSTENFREI, source=from_tab, target=cart)}
2025-11-12 11:14:50,374 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 11:14:50,376 - ispa_next.package_manager.main - DEBUG - Cannot place Ladewunsch und Ladezustand: not present in source
2025-11-12 11:14:50,378 - ispa_next.package_manager.main - DEBUG - found packages to advice_list: set()
2025-11-12 11:14:50,380 - ispa_next.package_manager.main - DEBUG - determining package to delete
2025-11-12 11:14:50,380 - ispa_next.package_manager.main - DEBUG - found packages to delete: set()
2025-11-12 11:14:50,383 - ispa_next.package_manager.main - DEBUG - determining package to update
2025-11-12 11:14:50,385 - ispa_next.package_manager.main - DEBUG - found packages to update: set()
2025-11-12 11:14:50,387 - ispa_next.package_manager.helper - DEBUG - add_to_cart called
2025-11-12 11:14:51,124 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Marketing
2025-11-12 11:14:52,097 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Marketing
2025-11-12 11:15:20,285 - ispa_next.package_manager.helper - DEBUG - _add_to_container_manual
2025-11-12 11:15:20,286 - ispa_next.functions - DEBUG - verify_cart_packages_additional_texts
2025-11-12 11:15:20,287 - ispa_next.functions - DEBUG - check_cart_for_additional_text_packages
2025-11-12 11:15:20,288 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 11:15:22,190 - ispa_next.functions - DEBUG - handle_mobility_replacement
2025-11-12 11:15:22,191 - ispa_next.functions - DEBUG - verify_battery_in_motoroil_package
2025-11-12 11:15:22,193 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 11:15:24,126 - ispa_next.functions - DEBUG - verify_breaks_in_break_package
2025-11-12 11:15:24,128 - ispa_next.functions - DEBUG - process_check_control
2025-11-12 11:15:24,129 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Beanstandungen
2025-11-12 11:15:24,751 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Beanstandungen
2025-11-12 11:15:25,019 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 11:15:35,747 - ispa_next.functions - DEBUG - trying add_material_to_package
2025-11-12 11:15:35,752 - ispa_next.functions - DEBUG - notify_aw_increase_to_service_advisor
2025-11-12 11:15:35,754 - ispa_next.functions - DEBUG - check_cart_packages_for_parts_service_and_parts_availability
2025-11-12 11:15:35,756 - ispa_next.appointment_ending - DEBUG - entered complete process
2025-11-12 11:15:35,756 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 11:15:36,833 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-12 11:15:37,498 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Abschluss
2025-11-12 11:15:37,499 - ispa_next.appointment_ending - DEBUG - complete_process isn't exiting early.
2025-11-12 11:15:40,051 - ispa_next.appointment_ending - DEBUG - No need to assign service parts target.
2025-11-12 11:15:49,455 - ispa_next.appointment_ending - DEBUG - return from complete process straight to process_list with saving without error_dialog.
2025-11-12 11:15:49,846 - ispa_next.appointment_loop.main - DEBUG - Closing appointment 2.
2025-11-12 11:15:52,967 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 11:15:53,885 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 942
2025-11-12 11:15:53,887 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 1
2025-11-12 11:15:57,811 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 283
2025-11-12 11:15:57,812 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 11:15:58,752 - ispa_next.appointments.models - DEBUG - Skipping appointment without VIN
2025-11-12 11:15:58,758 - ispa_next.appointments.models - DEBUG - Appointment Jasmin Ingrid Schneider FD-LL 66 WBA11AH040CN35713 ohne Termin.
2025-11-12 11:15:58,761 - ispa_next.main - DEBUG - Found new Appointment: FD-SO 15
2025-11-12 11:15:58,762 - ispa_next.main - DEBUG - 



2025-11-12 11:15:58,762 - ispa_next.main - DEBUG - starting with process 3 (FD-SO 15) of 5
2025-11-12 11:15:58,765 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 11:16:00,057 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 11:16:01,490 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 942
2025-11-12 11:16:01,492 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 283
2025-11-12 11:16:03,205 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 1
2025-11-12 11:16:03,206 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 11:16:36,406 - ispa_next.rkr_manager.main - DEBUG - RemoteKeyReadManager initialized
2025-11-12 11:16:49,471 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 11:16:49,630 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 11:16:49,897 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 11:16:51,185 - ispa_next.functions - DEBUG - check_and_verify_hu_date
2025-11-12 11:16:51,185 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 11:16:51,275 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 11:16:51,698 - ispa_next.functions - DEBUG - check_potential_workshop_test
2025-11-12 11:16:51,700 - ispa_next.functions - DEBUG - check_vehicle_age_for_service_plus
2025-11-12 11:16:54,805 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 11:16:54,806 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 11:16:56,373 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 11:16:58,378 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-12 11:16:58,504 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-12 11:17:01,819 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-12 11:17:01,926 - ispa_next.rkr_manager.state - DEBUG - Getting cart and advice list contents
2025-11-12 11:17:01,930 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 11:17:03,205 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-12 11:17:12,043 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: non_blocking_wait
2025-11-12 11:17:13,046 - ispa_next.functions - DEBUG - handle_data_privacy_consent
2025-11-12 11:17:13,048 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 11:17:13,579 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 11:17:26,974 - ispa_next.functions - DEBUG - DSE icon is yellow
2025-11-12 11:17:26,975 - ispa_next.functions - DEBUG - DSE dealer channels are valid
2025-11-12 11:17:35,904 - ispa_next.functions - DEBUG - transfer_customer_data_to_appointment
2025-11-12 11:17:35,906 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 11:17:36,026 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 11:17:36,027 - ispa_next.functions - DEBUG - fetch_customer_data
2025-11-12 11:17:36,071 - ispa_next.functions - DEBUG - fetch_customer_data_from_bmw_id
2025-11-12 11:17:37,346 - ispa_next.functions - DEBUG - fetch_customer_data_from_dms
2025-11-12 11:17:38,613 - ispa_next.functions - DEBUG - All data found, skipping remaining sources
2025-11-12 11:17:38,839 - ispa_next.functions - DEBUG - copy_customer_data_to_appointment
2025-11-12 11:17:43,088 - ispa_next.functions - DEBUG - Updated appointment (AC00069109) customer contact data.
2025-11-12 11:17:44,031 - ispa_next.functions - DEBUG - check_for_alpina_vehicle
2025-11-12 11:17:44,035 - ispa_next.functions - DEBUG - check_bmw_id_add_to_list
2025-11-12 11:17:45,315 - ispa_next.functions - DEBUG - check_home_dealer_add_to_list
2025-11-12 11:17:45,315 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-12 11:17:46,232 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Fahrzeugzustand
2025-11-12 11:17:49,826 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 11:17:49,828 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 11:17:50,331 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 11:17:52,337 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-12 11:17:52,510 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-12 11:17:52,658 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-12 11:17:52,763 - ispa_next.rkr_manager.state - DEBUG - Getting cart and advice list contents
2025-11-12 11:17:52,764 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 11:17:54,043 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-12 11:18:03,158 - ispa_next.rkr_manager.state - DEBUG - Waiting for timeout to pass
2025-11-12 11:19:03,162 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-12 11:19:12,029 - ispa_next.rkr_manager.state - DEBUG - Waiting for timeout to pass
2025-11-12 11:19:37,032 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-12 11:19:45,659 - ispa_next.rkr_manager.state - DEBUG - Cannot call from RKR
2025-11-12 11:19:54,945 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: rkr_not_successfull
2025-11-12 11:19:55,952 - ispa_next.functions - DEBUG - generate_attachments
2025-11-12 11:19:55,952 - ispa_next.functions - DEBUG - check_service_requirement
2025-11-12 11:19:55,952 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 11:19:56,038 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-12 11:20:00,195 - ispa_next.functions - DEBUG - check_service_requirement result: pdf_needed =False
2025-11-12 11:20:00,198 - ispa_next.wipers - DEBUG - handle_wiper_service_contracts
2025-11-12 11:20:00,198 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 11:20:00,284 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-12 11:20:04,527 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 11:20:05,065 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 11:20:05,067 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 11:20:05,889 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 11:20:05,891 - ispa_next.package_manager.main - DEBUG - updating cart content
2025-11-12 11:20:07,273 - ispa_next.package_manager.main - DEBUG - updating advice list content
2025-11-12 11:20:07,275 - ispa_next.package_manager.helper - DEBUG - get_advice_list_contents
2025-11-12 11:20:08,713 - ispa_next.package_manager.main - DEBUG - determining package movements
2025-11-12 11:20:08,716 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 11:20:08,718 - ispa_next.package_manager.main - DEBUG - found packages to cart: {Package(name=FAHRZEUGWÄSCHE KOSTENFREI, source=from_tab, target=cart)}
2025-11-12 11:20:08,719 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 11:20:08,720 - ispa_next.package_manager.main - DEBUG - Cannot place Ladewunsch und Ladezustand: not present in source
2025-11-12 11:20:08,722 - ispa_next.package_manager.main - DEBUG - found packages to advice_list: set()
2025-11-12 11:20:08,723 - ispa_next.package_manager.main - DEBUG - determining package to delete
2025-11-12 11:20:08,724 - ispa_next.package_manager.main - DEBUG - found packages to delete: set()
2025-11-12 11:20:08,726 - ispa_next.package_manager.main - DEBUG - determining package to update
2025-11-12 11:20:08,726 - ispa_next.package_manager.main - DEBUG - found packages to update: set()
2025-11-12 11:20:08,729 - ispa_next.package_manager.helper - DEBUG - add_to_cart called
2025-11-12 11:20:09,451 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Marketing
2025-11-12 11:20:10,316 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Marketing
2025-11-12 11:20:37,355 - ispa_next.package_manager.helper - DEBUG - _add_to_container_manual
2025-11-12 11:20:37,357 - ispa_next.functions - DEBUG - verify_cart_packages_additional_texts
2025-11-12 11:20:37,357 - ispa_next.functions - DEBUG - check_cart_for_additional_text_packages
2025-11-12 11:20:37,359 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 11:20:39,326 - ispa_next.functions - DEBUG - handle_mobility_replacement
2025-11-12 11:20:39,329 - ispa_next.functions - DEBUG - verify_battery_in_motoroil_package
2025-11-12 11:20:39,332 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 11:20:41,242 - ispa_next.functions - DEBUG - verify_breaks_in_break_package
2025-11-12 11:20:41,242 - ispa_next.functions - DEBUG - process_check_control
2025-11-12 11:20:41,242 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Beanstandungen
2025-11-12 11:20:41,712 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Beanstandungen
2025-11-12 11:20:41,776 - ispa_next.functions - DEBUG - trying add_material_to_package
2025-11-12 11:20:41,778 - ispa_next.functions - DEBUG - notify_aw_increase_to_service_advisor
2025-11-12 11:20:41,780 - ispa_next.functions - DEBUG - check_cart_packages_for_parts_service_and_parts_availability
2025-11-12 11:20:41,782 - ispa_next.appointment_ending - DEBUG - entered complete process
2025-11-12 11:20:41,782 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 11:20:42,750 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-12 11:20:43,251 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Abschluss
2025-11-12 11:20:43,252 - ispa_next.appointment_ending - DEBUG - complete_process isn't exiting early.
2025-11-12 11:20:45,883 - ispa_next.appointment_ending - DEBUG - No need to assign service parts target.
2025-11-12 11:20:56,964 - ispa_next.appointment_ending - DEBUG - return from complete process straight to process_list with saving without error_dialog.
2025-11-12 11:20:57,342 - ispa_next.appointment_loop.main - DEBUG - Closing appointment 3.
2025-11-12 11:21:00,213 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 11:21:01,018 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 942
2025-11-12 11:21:01,020 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 1
2025-11-12 11:21:04,742 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 282
2025-11-12 11:21:04,743 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 11:21:05,662 - ispa_next.appointments.models - DEBUG - Appointment Jasmin Ingrid Schneider FD-LL 66 WBA11AH040CN35713 ohne Termin.
2025-11-12 11:21:05,666 - ispa_next.main - DEBUG - Found new Appointment: FD-CA 45
2025-11-12 11:21:05,668 - ispa_next.main - DEBUG - 



2025-11-12 11:21:05,668 - ispa_next.main - DEBUG - starting with process 4 (FD-CA 45) of 6
2025-11-12 11:21:05,671 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 11:21:06,910 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 11:21:08,231 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 942
2025-11-12 11:21:08,232 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 282
2025-11-12 11:21:10,379 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 1
2025-11-12 11:21:10,381 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 11:21:47,623 - ispa_next.rkr_manager.main - DEBUG - RemoteKeyReadManager initialized
2025-11-12 11:22:00,179 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 11:22:00,272 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 11:22:00,531 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 11:22:01,801 - ispa_next.functions - DEBUG - check_and_verify_hu_date
2025-11-12 11:22:01,803 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 11:22:01,912 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 11:22:02,253 - ispa_next.functions - DEBUG - check_potential_workshop_test
2025-11-12 11:22:02,256 - ispa_next.functions - DEBUG - check_vehicle_age_for_service_plus
2025-11-12 11:22:05,360 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 11:22:05,362 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 11:22:07,042 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 11:22:09,046 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-12 11:22:09,181 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-12 11:22:09,312 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-12 11:22:09,472 - ispa_next.rkr_manager.state - DEBUG - Getting cart and advice list contents
2025-11-12 11:22:09,474 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 11:22:10,749 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-12 11:22:21,771 - ispa_next.rkr_manager.helper - DEBUG - Found button 'Hinzufügen (Empfohlen)' in nested popup
2025-11-12 11:22:27,010 - ispa_next.rkr_manager.state - DEBUG - Checking cart items after successfull RKR
2025-11-12 11:22:27,012 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 11:22:31,179 - ispa_next.rkr_manager.state - DEBUG - moving cart item source=<PackageSource.CART: 'cart'> name='Mikrofilter (ggf. weiter Zusatzarbeit(en) beachten' target=<Container.UNKOWN: 'unkown'> notification=None element=<pyfenster.Element name='BMW.ISPI.TRAC.IspaNext.BasketUI.ViewModels.BasketJobViewModel' class_name='TreeViewItem' control_type_name='TreeItem'> tab=None category=None subcategory=None search_term=None catalog_group=None catalog_subgroup=None catalog_page=None package_type=None number=None package_aw=None optional_part=None required_aws=[] parts_to_replace=None note=None valid_from=datetime.datetime(1900, 1, 1, 7, 0) valid_until=datetime.datetime(2100, 1, 1, 7, 0) valid_weekdays=[] replacement_packages=[] service_advisor_guards=[] service_advisor_requirements=[] deletion_guards=[] deletion_requirements=[] placement_guards=[] placement_requirements=[] to advice_list
2025-11-12 11:22:34,567 - ispa_next.rkr_manager.state - DEBUG - moving cart item source=<PackageSource.CART: 'cart'> name='Motoröl' target=<Container.UNKOWN: 'unkown'> notification=None element=<pyfenster.Element name='BMW.ISPI.TRAC.IspaNext.BasketUI.ViewModels.BasketJobViewModel' class_name='TreeViewItem' control_type_name='TreeItem'> tab=None category=None subcategory=None search_term=None catalog_group=None catalog_subgroup=None catalog_page=None package_type=None number=None package_aw=None optional_part=None required_aws=[] parts_to_replace=None note=None valid_from=datetime.datetime(1900, 1, 1, 7, 0) valid_until=datetime.datetime(2100, 1, 1, 7, 0) valid_weekdays=[] replacement_packages=[] service_advisor_guards=[] service_advisor_requirements=[] deletion_guards=[] deletion_requirements=[] placement_guards=[] placement_requirements=[] to advice_list
2025-11-12 11:22:37,310 - ispa_next.rkr_manager.state - DEBUG - Checking color in CBS positions
2025-11-12 11:22:42,315 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: success
2025-11-12 11:22:43,322 - ispa_next.functions - DEBUG - handle_data_privacy_consent
2025-11-12 11:22:43,323 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 11:22:43,902 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 11:22:57,950 - ispa_next.functions - DEBUG - DSE icon is yellow
2025-11-12 11:23:06,039 - ispa_next.functions - DEBUG - transfer_customer_data_to_appointment
2025-11-12 11:23:06,041 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 11:23:06,146 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 11:23:06,147 - ispa_next.functions - DEBUG - fetch_customer_data
2025-11-12 11:23:06,198 - ispa_next.functions - DEBUG - fetch_customer_data_from_bmw_id
2025-11-12 11:23:07,561 - ispa_next.functions - DEBUG - All data found, skipping remaining sources
2025-11-12 11:23:07,768 - ispa_next.functions - DEBUG - copy_customer_data_to_appointment
2025-11-12 11:23:11,909 - ispa_next.functions - DEBUG - Updated appointment (AC00069111) customer contact data.
2025-11-12 11:23:12,951 - ispa_next.functions - DEBUG - check_for_alpina_vehicle
2025-11-12 11:23:12,965 - ispa_next.functions - DEBUG - check_bmw_id_add_to_list
2025-11-12 11:23:14,275 - ispa_next.functions - DEBUG - check_home_dealer_add_to_list
2025-11-12 11:23:14,276 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-12 11:23:15,286 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Fahrzeugzustand
2025-11-12 11:23:18,978 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 11:23:18,978 - ispa_next.rkr_manager.main - DEBUG - early exiting RemoteKeyReadManager - enabled=False or early_exit_enabled=True
2025-11-12 11:23:18,980 - ispa_next.functions - DEBUG - generate_attachments
2025-11-12 11:23:18,980 - ispa_next.functions - DEBUG - check_service_requirement
2025-11-12 11:23:18,982 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 11:23:19,461 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 11:23:23,629 - ispa_next.functions - DEBUG - check_service_requirement result: pdf_needed =True
2025-11-12 11:23:24,893 - ispa_next.functions - DEBUG - generate_appointment_pdfs
2025-11-12 11:23:35,042 - ispa_next.wipers - DEBUG - handle_wiper_service_contracts
2025-11-12 11:23:35,044 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 11:23:35,161 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-12 11:23:44,264 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 11:23:44,797 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 11:23:44,798 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 11:23:45,746 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 11:23:45,746 - ispa_next.package_manager.main - DEBUG - updating cart content
2025-11-12 11:23:47,074 - ispa_next.package_manager.main - DEBUG - updating advice list content
2025-11-12 11:23:47,079 - ispa_next.package_manager.helper - DEBUG - get_advice_list_contents
2025-11-12 11:23:49,458 - ispa_next.package_manager.main - DEBUG - determining package movements
2025-11-12 11:23:49,460 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 11:23:49,461 - ispa_next.package_manager.main - DEBUG - found packages to cart: {Package(name=FAHRZEUGWÄSCHE KOSTENFREI, source=from_tab, target=cart)}
2025-11-12 11:23:49,461 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 11:23:49,464 - ispa_next.package_manager.main - DEBUG - Cannot place Ladewunsch und Ladezustand: not present in source
2025-11-12 11:23:49,465 - ispa_next.package_manager.main - DEBUG - found packages to advice_list: set()
2025-11-12 11:23:49,466 - ispa_next.package_manager.main - DEBUG - determining package to delete
2025-11-12 11:23:49,468 - ispa_next.package_manager.main - DEBUG - found packages to delete: set()
2025-11-12 11:23:49,469 - ispa_next.package_manager.main - DEBUG - determining package to update
2025-11-12 11:23:49,470 - ispa_next.package_manager.main - DEBUG - found packages to update: set()
2025-11-12 11:23:49,472 - ispa_next.package_manager.helper - DEBUG - add_to_cart called
2025-11-12 11:23:50,206 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Marketing
2025-11-12 11:23:51,066 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Marketing
2025-11-12 11:24:19,121 - ispa_next.package_manager.helper - DEBUG - _add_to_container_manual
2025-11-12 11:24:19,123 - ispa_next.functions - DEBUG - verify_cart_packages_additional_texts
2025-11-12 11:24:19,123 - ispa_next.functions - DEBUG - check_cart_for_additional_text_packages
2025-11-12 11:24:19,125 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 11:24:21,051 - ispa_next.functions - DEBUG - handle_mobility_replacement
2025-11-12 11:24:21,052 - ispa_next.functions - DEBUG - verify_battery_in_motoroil_package
2025-11-12 11:24:21,054 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 11:24:22,978 - ispa_next.functions - DEBUG - verify_breaks_in_break_package
2025-11-12 11:24:22,979 - ispa_next.functions - DEBUG - process_check_control
2025-11-12 11:24:22,980 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Beanstandungen
2025-11-12 11:24:23,577 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Beanstandungen
2025-11-12 11:24:23,810 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 11:24:33,064 - ispa_next.functions - DEBUG - trying add_material_to_package
2025-11-12 11:24:33,065 - ispa_next.functions - DEBUG - notify_aw_increase_to_service_advisor
2025-11-12 11:24:33,066 - ispa_next.functions - DEBUG - check_cart_packages_for_parts_service_and_parts_availability
2025-11-12 11:24:33,068 - ispa_next.appointment_ending - DEBUG - entered complete process
2025-11-12 11:24:33,068 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 11:24:33,805 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-12 11:24:34,405 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Abschluss
2025-11-12 11:24:34,405 - ispa_next.appointment_ending - DEBUG - complete_process isn't exiting early.
2025-11-12 11:24:36,576 - ispa_next.appointment_ending - DEBUG - No need to assign service parts target.
2025-11-12 11:24:47,510 - ispa_next.appointment_ending - DEBUG - return from complete process straight to process_list with saving without error_dialog.
2025-11-12 11:24:47,903 - ispa_next.appointment_loop.main - DEBUG - Closing appointment 4.
2025-11-12 11:24:51,072 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 11:24:51,882 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 943
2025-11-12 11:24:51,883 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 1
2025-11-12 11:24:55,829 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 284
2025-11-12 11:24:55,829 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 11:24:56,823 - ispa_next.main - DEBUG - Found new Appointment: FD-AM 2112
2025-11-12 11:24:56,824 - ispa_next.main - DEBUG - Found new Appointment: FD-VV 404
2025-11-12 11:24:56,825 - ispa_next.main - DEBUG - 



2025-11-12 11:24:56,825 - ispa_next.main - DEBUG - starting with process 5 (FD-AM 2112) of 8
2025-11-12 11:24:56,829 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 11:24:58,172 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 11:24:59,656 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 943
2025-11-12 11:24:59,657 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 284
2025-11-12 11:25:01,629 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 1
2025-11-12 11:25:01,631 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 11:25:33,912 - ispa_next.rkr_manager.main - DEBUG - RemoteKeyReadManager initialized
2025-11-12 11:25:47,021 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 11:25:47,102 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 11:25:47,340 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 11:25:49,277 - ispa_next.functions - DEBUG - check_and_verify_hu_date
2025-11-12 11:25:49,279 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 11:25:49,379 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 11:25:49,654 - ispa_next.functions - DEBUG - check_potential_workshop_test
2025-11-12 11:25:49,656 - ispa_next.functions - DEBUG - check_vehicle_age_for_service_plus
2025-11-12 11:25:52,822 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 11:25:52,824 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 11:25:54,276 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 11:25:56,281 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-12 11:25:56,425 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-12 11:25:56,611 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-12 11:25:56,716 - ispa_next.rkr_manager.state - DEBUG - Getting cart and advice list contents
2025-11-12 11:25:56,717 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 11:25:58,620 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-12 11:26:09,568 - ispa_next.rkr_manager.helper - DEBUG - Found button 'Hinzufügen (Empfohlen)' in nested popup
2025-11-12 11:26:15,319 - ispa_next.rkr_manager.state - DEBUG - Checking cart items after successfull RKR
2025-11-12 11:26:15,321 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 11:26:20,197 - ispa_next.rkr_manager.state - DEBUG - moving cart item source=<PackageSource.CART: 'cart'> name='Gasdruckfedern für Frontklappe prüfen' target=<Container.UNKOWN: 'unkown'> notification=None element=<pyfenster.Element name='BMW.ISPI.TRAC.IspaNext.BasketUI.ViewModels.BasketJobViewModel' class_name='TreeViewItem' control_type_name='TreeItem'> tab=None category=None subcategory=None search_term=None catalog_group=None catalog_subgroup=None catalog_page=None package_type=None number=None package_aw=None optional_part=None required_aws=[] parts_to_replace=None note=None valid_from=datetime.datetime(1900, 1, 1, 7, 0) valid_until=datetime.datetime(2100, 1, 1, 7, 0) valid_weekdays=[] replacement_packages=[] service_advisor_guards=[] service_advisor_requirements=[] deletion_guards=[] deletion_requirements=[] placement_guards=[] placement_requirements=[] to advice_list
2025-11-12 11:26:24,221 - ispa_next.rkr_manager.state - DEBUG - moving cart item source=<PackageSource.CART: 'cart'> name='Bremsflüssigkeit' target=<Container.UNKOWN: 'unkown'> notification=None element=<pyfenster.Element name='BMW.ISPI.TRAC.IspaNext.BasketUI.ViewModels.BasketJobViewModel' class_name='TreeViewItem' control_type_name='TreeItem'> tab=None category=None subcategory=None search_term=None catalog_group=None catalog_subgroup=None catalog_page=None package_type=None number=None package_aw=None optional_part=None required_aws=[] parts_to_replace=None note=None valid_from=datetime.datetime(1900, 1, 1, 7, 0) valid_until=datetime.datetime(2100, 1, 1, 7, 0) valid_weekdays=[] replacement_packages=[] service_advisor_guards=[] service_advisor_requirements=[] deletion_guards=[] deletion_requirements=[] placement_guards=[] placement_requirements=[] to advice_list
2025-11-12 11:26:27,993 - ispa_next.rkr_manager.state - DEBUG - Checking color in CBS positions
2025-11-12 11:26:32,689 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: success
2025-11-12 11:26:33,708 - ispa_next.functions - DEBUG - handle_data_privacy_consent
2025-11-12 11:26:33,708 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 11:26:34,274 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 11:26:49,114 - ispa_next.functions - DEBUG - DSE icon is yellow
2025-11-12 11:26:49,114 - ispa_next.functions - DEBUG - DSE dealer channels are valid
2025-11-12 11:26:58,857 - ispa_next.functions - DEBUG - transfer_customer_data_to_appointment
2025-11-12 11:26:58,861 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 11:26:59,068 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 11:26:59,068 - ispa_next.functions - DEBUG - fetch_customer_data
2025-11-12 11:26:59,424 - ispa_next.functions - DEBUG - fetch_customer_data_from_bmw_id
2025-11-12 11:27:00,967 - ispa_next.functions - DEBUG - fetch_customer_data_from_dms
2025-11-12 11:27:02,285 - ispa_next.functions - DEBUG - All data found, skipping remaining sources
2025-11-12 11:27:02,578 - ispa_next.functions - DEBUG - copy_customer_data_to_appointment
2025-11-12 11:27:06,985 - ispa_next.functions - DEBUG - Updated appointment (AC00069114) customer contact data.
2025-11-12 11:27:07,990 - ispa_next.functions - DEBUG - check_for_alpina_vehicle
2025-11-12 11:27:07,991 - ispa_next.functions - DEBUG - check_bmw_id_add_to_list
2025-11-12 11:27:08,938 - ispa_next.functions - DEBUG - check_home_dealer_add_to_list
2025-11-12 11:27:08,938 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-12 11:27:10,430 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Fahrzeugzustand
2025-11-12 11:27:14,038 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 11:27:14,038 - ispa_next.rkr_manager.main - DEBUG - early exiting RemoteKeyReadManager - enabled=False or early_exit_enabled=True
2025-11-12 11:27:14,041 - ispa_next.functions - DEBUG - generate_attachments
2025-11-12 11:27:14,042 - ispa_next.functions - DEBUG - check_service_requirement
2025-11-12 11:27:14,042 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 11:27:14,578 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 11:27:18,719 - ispa_next.functions - DEBUG - check_service_requirement result: pdf_needed =False
2025-11-12 11:27:18,724 - ispa_next.wipers - DEBUG - handle_wiper_service_contracts
2025-11-12 11:27:18,725 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 11:27:18,834 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-12 11:27:27,990 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 11:27:28,528 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 11:27:28,528 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 11:27:29,436 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 11:27:29,437 - ispa_next.package_manager.main - DEBUG - updating cart content
2025-11-12 11:27:31,377 - ispa_next.package_manager.main - DEBUG - updating advice list content
2025-11-12 11:27:31,377 - ispa_next.package_manager.helper - DEBUG - get_advice_list_contents
2025-11-12 11:27:33,564 - ispa_next.package_manager.main - DEBUG - determining package movements
2025-11-12 11:27:33,565 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 11:27:33,566 - ispa_next.package_manager.main - DEBUG - found packages to cart: {Package(name=FAHRZEUGWÄSCHE KOSTENFREI, source=from_tab, target=cart)}
2025-11-12 11:27:33,567 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 11:27:33,570 - ispa_next.package_manager.main - DEBUG - Cannot place Ladewunsch und Ladezustand: not present in source
2025-11-12 11:27:33,572 - ispa_next.package_manager.main - DEBUG - found packages to advice_list: set()
2025-11-12 11:27:33,575 - ispa_next.package_manager.main - DEBUG - determining package to delete
2025-11-12 11:27:33,579 - ispa_next.package_manager.main - DEBUG - found packages to delete: set()
2025-11-12 11:27:33,580 - ispa_next.package_manager.main - DEBUG - determining package to update
2025-11-12 11:27:33,581 - ispa_next.package_manager.main - DEBUG - found packages to update: set()
2025-11-12 11:27:33,583 - ispa_next.package_manager.helper - DEBUG - add_to_cart called
2025-11-12 11:27:34,287 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Marketing
2025-11-12 11:27:35,074 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Marketing
2025-11-12 11:28:03,762 - ispa_next.package_manager.helper - DEBUG - _add_to_container_manual
2025-11-12 11:28:03,764 - ispa_next.functions - DEBUG - verify_cart_packages_additional_texts
2025-11-12 11:28:03,766 - ispa_next.functions - DEBUG - check_cart_for_additional_text_packages
2025-11-12 11:28:03,766 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 11:28:06,382 - ispa_next.functions - DEBUG - handle_mobility_replacement
2025-11-12 11:28:06,382 - ispa_next.functions - DEBUG - verify_battery_in_motoroil_package
2025-11-12 11:28:06,384 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 11:28:09,118 - ispa_next.functions - DEBUG - verify_breaks_in_break_package
2025-11-12 11:28:09,120 - ispa_next.functions - DEBUG - process_check_control
2025-11-12 11:28:09,121 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Beanstandungen
2025-11-12 11:28:09,773 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Beanstandungen
2025-11-12 11:28:09,972 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 11:28:18,425 - ispa_next.functions - DEBUG - trying add_material_to_package
2025-11-12 11:28:18,427 - ispa_next.functions - DEBUG - notify_aw_increase_to_service_advisor
2025-11-12 11:28:18,429 - ispa_next.functions - DEBUG - check_cart_packages_for_parts_service_and_parts_availability
2025-11-12 11:28:18,429 - ispa_next.appointment_ending - DEBUG - entered complete process
2025-11-12 11:28:18,431 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 11:28:19,491 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-12 11:28:20,108 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Abschluss
2025-11-12 11:28:20,109 - ispa_next.appointment_ending - DEBUG - complete_process isn't exiting early.
2025-11-12 11:28:22,851 - ispa_next.appointment_ending - DEBUG - No need to assign service parts target.
2025-11-12 11:28:34,494 - ispa_next.appointment_ending - DEBUG - return from complete process straight to process_list with saving without error_dialog.
2025-11-12 11:28:34,871 - ispa_next.appointment_loop.main - DEBUG - Closing appointment 5.
2025-11-12 11:28:38,340 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 11:28:39,289 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 943
2025-11-12 11:28:39,299 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 1
2025-11-12 11:28:43,472 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 284
2025-11-12 11:28:43,473 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 11:28:44,684 - ispa_next.main - DEBUG - 



2025-11-12 11:28:44,684 - ispa_next.main - DEBUG - starting with process 6 (FD-VV 404) of 8
2025-11-12 11:28:44,688 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 11:28:46,328 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 11:28:47,642 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 943
2025-11-12 11:28:47,644 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 284
2025-11-12 11:28:49,645 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 1
2025-11-12 11:28:49,646 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 11:29:19,958 - ispa_next.rkr_manager.main - DEBUG - RemoteKeyReadManager initialized
2025-11-12 11:29:32,811 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 11:29:36,188 - ispa_next.functions - DEBUG - check_and_verify_hu_date
2025-11-12 11:29:36,188 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 11:29:36,277 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 11:29:36,683 - ispa_next.functions - DEBUG - HU date is not available.
2025-11-12 11:29:44,985 - ispa_next.functions - DEBUG - check_potential_workshop_test
2025-11-12 11:29:44,987 - ispa_next.functions - DEBUG - check_vehicle_age_for_service_plus
2025-11-12 11:29:47,843 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 11:29:47,845 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 11:29:49,408 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 11:29:51,413 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-12 11:29:51,549 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-12 11:29:51,697 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-12 11:29:51,838 - ispa_next.rkr_manager.state - DEBUG - Checking color in CBS positions
2025-11-12 11:29:56,061 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: data_still_good
2025-11-12 11:29:57,065 - ispa_next.functions - DEBUG - handle_data_privacy_consent
2025-11-12 11:29:57,067 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 11:29:57,571 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 11:30:11,308 - ispa_next.functions - DEBUG - DSE icon is yellow
2025-11-12 11:30:11,309 - ispa_next.functions - DEBUG - DSE dealer channels are valid
2025-11-12 11:30:19,321 - ispa_next.functions - DEBUG - transfer_customer_data_to_appointment
2025-11-12 11:30:19,323 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 11:30:19,404 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 11:30:19,404 - ispa_next.functions - DEBUG - fetch_customer_data
2025-11-12 11:30:19,463 - ispa_next.functions - DEBUG - fetch_customer_data_from_bmw_id
2025-11-12 11:30:19,590 - ispa_next.functions - DEBUG - fetch_customer_data_from_dms
2025-11-12 11:30:21,183 - ispa_next.functions - DEBUG - All data found, skipping remaining sources
2025-11-12 11:30:21,397 - ispa_next.functions - DEBUG - copy_customer_data_to_appointment
2025-11-12 11:30:25,206 - ispa_next.functions - DEBUG - Updated appointment (AC00069113) customer contact data.
2025-11-12 11:30:26,166 - ispa_next.functions - DEBUG - check_for_alpina_vehicle
2025-11-12 11:30:26,167 - ispa_next.functions - DEBUG - check_bmw_id_add_to_list
2025-11-12 11:30:26,409 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-12 11:30:27,343 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Fahrzeugzustand
2025-11-12 11:30:28,872 - ispa_next.functions - DEBUG - check_home_dealer_add_to_list
2025-11-12 11:30:28,873 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-12 11:30:28,972 - ispa_next.common.shared - DEBUG - ISPA tab Fahrzeugzustand is already open
2025-11-12 11:30:32,599 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 11:30:32,599 - ispa_next.rkr_manager.main - DEBUG - early exiting RemoteKeyReadManager - enabled=False or early_exit_enabled=True
2025-11-12 11:30:32,602 - ispa_next.functions - DEBUG - generate_attachments
2025-11-12 11:30:32,602 - ispa_next.functions - DEBUG - check_service_requirement
2025-11-12 11:30:32,603 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 11:30:33,081 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 11:30:37,280 - ispa_next.functions - DEBUG - check_service_requirement result: pdf_needed =True
2025-11-12 11:30:38,202 - ispa_next.functions - DEBUG - generate_appointment_pdfs
2025-11-12 11:30:52,115 - ispa_next.wipers - DEBUG - handle_wiper_service_contracts
2025-11-12 11:30:52,115 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 11:30:52,236 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-12 11:30:57,782 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 11:30:58,268 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 11:30:58,268 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 11:30:59,035 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 11:30:59,035 - ispa_next.package_manager.main - DEBUG - updating cart content
2025-11-12 11:31:02,694 - ispa_next.package_manager.main - DEBUG - updating advice list content
2025-11-12 11:31:02,698 - ispa_next.package_manager.helper - DEBUG - get_advice_list_contents
2025-11-12 11:31:04,036 - ispa_next.package_manager.main - DEBUG - determining package movements
2025-11-12 11:31:04,040 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 11:31:04,043 - ispa_next.package_manager.main - DEBUG - found packages to cart: {Package(name=FAHRZEUGWÄSCHE KOSTENFREI, source=from_tab, target=cart)}
2025-11-12 11:31:04,047 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 11:31:04,049 - ispa_next.package_manager.main - DEBUG - Cannot place Ladewunsch und Ladezustand: not present in source
2025-11-12 11:31:04,050 - ispa_next.package_manager.main - DEBUG - found packages to advice_list: set()
2025-11-12 11:31:04,051 - ispa_next.package_manager.main - DEBUG - determining package to delete
2025-11-12 11:31:04,053 - ispa_next.package_manager.main - DEBUG - found packages to delete: set()
2025-11-12 11:31:04,054 - ispa_next.package_manager.main - DEBUG - determining package to update
2025-11-12 11:31:04,056 - ispa_next.package_manager.main - DEBUG - found packages to update: set()
2025-11-12 11:31:04,058 - ispa_next.package_manager.helper - DEBUG - add_to_cart called
2025-11-12 11:31:04,788 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Marketing
2025-11-12 11:31:05,687 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Marketing
2025-11-12 11:31:35,930 - ispa_next.package_manager.helper - DEBUG - _add_to_container_manual
2025-11-12 11:31:35,932 - ispa_next.functions - DEBUG - verify_cart_packages_additional_texts
2025-11-12 11:31:35,934 - ispa_next.functions - DEBUG - check_cart_for_additional_text_packages
2025-11-12 11:31:35,934 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 11:31:40,776 - ispa_next.functions - DEBUG - handle_mobility_replacement
2025-11-12 11:31:40,778 - ispa_next.functions - DEBUG - verify_battery_in_motoroil_package
2025-11-12 11:31:40,780 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 11:31:45,518 - ispa_next.functions - DEBUG - verify_breaks_in_break_package
2025-11-12 11:31:45,519 - ispa_next.functions - DEBUG - process_check_control
2025-11-12 11:31:45,519 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Beanstandungen
2025-11-12 11:31:46,061 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Beanstandungen
2025-11-12 11:31:46,214 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 11:31:53,780 - ispa_next.functions - DEBUG - trying add_material_to_package
2025-11-12 11:31:53,781 - ispa_next.functions - DEBUG - notify_aw_increase_to_service_advisor
2025-11-12 11:31:53,783 - ispa_next.functions - DEBUG - check_cart_packages_for_parts_service_and_parts_availability
2025-11-12 11:31:53,783 - ispa_next.appointment_ending - DEBUG - entered complete process
2025-11-12 11:31:53,784 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 11:31:54,556 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-12 11:31:55,071 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Abschluss
2025-11-12 11:31:55,073 - ispa_next.appointment_ending - DEBUG - complete_process isn't exiting early.
2025-11-12 11:31:57,742 - ispa_next.appointment_ending - DEBUG - No need to assign service parts target.
2025-11-12 11:32:07,851 - ispa_next.appointment_ending - DEBUG - return from complete process straight to process_list with saving without error_dialog.
2025-11-12 11:32:08,242 - ispa_next.appointment_loop.main - DEBUG - Closing appointment 6.
2025-11-12 11:32:11,781 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 11:32:12,839 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 942
2025-11-12 11:32:12,841 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 1
2025-11-12 11:32:17,514 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 284
2025-11-12 11:32:17,515 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 11:32:18,714 - ispa_next.main - DEBUG - 



2025-11-12 11:32:18,714 - ispa_next.main - DEBUG - starting with process 7 (FD-MC 1806) of 8
2025-11-12 11:32:18,718 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 11:32:20,268 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 11:32:22,047 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 942
2025-11-12 11:32:22,048 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 284
2025-11-12 11:32:24,342 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 1
2025-11-12 11:32:24,343 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 11:32:53,811 - ispa_next.rkr_manager.main - DEBUG - RemoteKeyReadManager initialized
2025-11-12 11:33:05,472 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 11:33:05,605 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 11:33:05,886 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 11:33:07,183 - ispa_next.functions - DEBUG - check_and_verify_hu_date
2025-11-12 11:33:07,185 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 11:33:07,266 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 11:33:07,547 - ispa_next.functions - DEBUG - check_potential_workshop_test
2025-11-12 11:33:07,549 - ispa_next.functions - DEBUG - check_vehicle_age_for_service_plus
2025-11-12 11:33:10,483 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 11:33:10,485 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 11:33:11,946 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 11:33:13,949 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-12 11:33:14,191 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-12 11:33:17,425 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-12 11:33:17,527 - ispa_next.rkr_manager.state - DEBUG - Getting cart and advice list contents
2025-11-12 11:33:17,527 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 11:33:18,786 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-12 11:33:27,648 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: non_blocking_wait
2025-11-12 11:33:28,653 - ispa_next.functions - DEBUG - handle_data_privacy_consent
2025-11-12 11:33:28,653 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 11:33:29,165 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 11:33:43,027 - ispa_next.functions - DEBUG - DSE icon is yellow
2025-11-12 11:33:43,027 - ispa_next.functions - DEBUG - DSE dealer channels are valid
2025-11-12 11:33:52,449 - ispa_next.functions - DEBUG - transfer_customer_data_to_appointment
2025-11-12 11:33:52,452 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 11:33:52,562 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 11:33:52,562 - ispa_next.functions - DEBUG - fetch_customer_data
2025-11-12 11:33:52,616 - ispa_next.functions - DEBUG - fetch_customer_data_from_bmw_id
2025-11-12 11:33:54,024 - ispa_next.functions - DEBUG - fetch_customer_data_from_dms
2025-11-12 11:33:55,647 - ispa_next.functions - DEBUG - All data found, skipping remaining sources
2025-11-12 11:33:55,884 - ispa_next.functions - DEBUG - copy_customer_data_to_appointment
2025-11-12 11:34:00,374 - ispa_next.functions - DEBUG - Updated appointment (AC00069103) customer contact data.
2025-11-12 11:34:01,274 - ispa_next.functions - DEBUG - check_for_alpina_vehicle
2025-11-12 11:34:01,277 - ispa_next.functions - DEBUG - check_bmw_id_add_to_list
2025-11-12 11:34:02,576 - ispa_next.functions - DEBUG - check_home_dealer_add_to_list
2025-11-12 11:34:02,578 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-12 11:34:03,592 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Fahrzeugzustand
2025-11-12 11:34:07,190 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 11:34:07,192 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 11:34:07,706 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 11:34:09,708 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-12 11:34:09,877 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-12 11:34:10,019 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-12 11:34:10,167 - ispa_next.rkr_manager.state - DEBUG - Getting cart and advice list contents
2025-11-12 11:34:10,169 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 11:34:11,416 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-12 11:34:22,926 - ispa_next.rkr_manager.helper - DEBUG - Found button 'Hinzufügen (Empfohlen)' in nested popup
2025-11-12 11:34:27,706 - ispa_next.rkr_manager.state - DEBUG - Checking cart items after successfull RKR
2025-11-12 11:34:27,708 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 11:34:28,989 - ispa_next.rkr_manager.state - DEBUG - Checking color in CBS positions
2025-11-12 11:34:33,246 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: success
2025-11-12 11:34:34,252 - ispa_next.functions - DEBUG - generate_attachments
2025-11-12 11:34:34,253 - ispa_next.functions - DEBUG - check_service_requirement
2025-11-12 11:34:34,253 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 11:34:34,385 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-12 11:34:38,560 - ispa_next.functions - DEBUG - check_service_requirement result: pdf_needed =False
2025-11-12 11:34:38,565 - ispa_next.wipers - DEBUG - handle_wiper_service_contracts
2025-11-12 11:34:38,565 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 11:34:38,649 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-12 11:34:44,312 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 11:34:44,844 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 11:34:44,844 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 11:34:45,645 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 11:34:45,645 - ispa_next.package_manager.main - DEBUG - updating cart content
2025-11-12 11:34:46,958 - ispa_next.package_manager.main - DEBUG - updating advice list content
2025-11-12 11:34:46,960 - ispa_next.package_manager.helper - DEBUG - get_advice_list_contents
2025-11-12 11:34:47,998 - ispa_next.package_manager.main - DEBUG - determining package movements
2025-11-12 11:34:47,998 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 11:34:48,000 - ispa_next.package_manager.main - DEBUG - found packages to cart: {Package(name=FAHRZEUGWÄSCHE KOSTENFREI, source=from_tab, target=cart)}
2025-11-12 11:34:48,002 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 11:34:48,004 - ispa_next.package_manager.main - DEBUG - Cannot place Ladewunsch und Ladezustand: not present in source
2025-11-12 11:34:48,006 - ispa_next.package_manager.main - DEBUG - found packages to advice_list: set()
2025-11-12 11:34:48,010 - ispa_next.package_manager.main - DEBUG - determining package to delete
2025-11-12 11:34:48,012 - ispa_next.package_manager.main - DEBUG - found packages to delete: set()
2025-11-12 11:34:48,016 - ispa_next.package_manager.main - DEBUG - determining package to update
2025-11-12 11:34:48,016 - ispa_next.package_manager.main - DEBUG - found packages to update: set()
2025-11-12 11:34:48,018 - ispa_next.package_manager.helper - DEBUG - add_to_cart called
2025-11-12 11:34:48,704 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Marketing
2025-11-12 11:34:49,432 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Marketing
2025-11-12 11:35:18,490 - ispa_next.package_manager.helper - DEBUG - _add_to_container_manual
2025-11-12 11:35:18,492 - ispa_next.functions - DEBUG - verify_cart_packages_additional_texts
2025-11-12 11:35:18,493 - ispa_next.functions - DEBUG - check_cart_for_additional_text_packages
2025-11-12 11:35:18,494 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 11:35:20,488 - ispa_next.functions - DEBUG - handle_mobility_replacement
2025-11-12 11:35:20,490 - ispa_next.functions - DEBUG - verify_battery_in_motoroil_package
2025-11-12 11:35:20,492 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 11:35:22,398 - ispa_next.functions - DEBUG - verify_breaks_in_break_package
2025-11-12 11:35:22,400 - ispa_next.functions - DEBUG - process_check_control
2025-11-12 11:35:22,400 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Beanstandungen
2025-11-12 11:35:23,125 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Beanstandungen
2025-11-12 11:35:23,369 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 11:35:32,578 - ispa_next.functions - DEBUG - trying add_material_to_package
2025-11-12 11:35:32,580 - ispa_next.functions - DEBUG - notify_aw_increase_to_service_advisor
2025-11-12 11:35:32,582 - ispa_next.functions - DEBUG - check_cart_packages_for_parts_service_and_parts_availability
2025-11-12 11:35:32,583 - ispa_next.appointment_ending - DEBUG - entered complete process
2025-11-12 11:35:32,583 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 11:35:33,374 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-12 11:35:34,017 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Abschluss
2025-11-12 11:35:34,019 - ispa_next.appointment_ending - DEBUG - complete_process isn't exiting early.
2025-11-12 11:35:36,601 - ispa_next.appointment_ending - DEBUG - No need to assign service parts target.
2025-11-12 11:35:47,369 - ispa_next.appointment_ending - DEBUG - return from complete process straight to process_list with saving without error_dialog.
2025-11-12 11:35:47,740 - ispa_next.appointment_loop.main - DEBUG - Closing appointment 7.
2025-11-12 11:35:51,072 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 11:35:52,003 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 942
2025-11-12 11:35:52,003 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 1
2025-11-12 11:35:56,467 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 284
2025-11-12 11:35:56,468 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 11:35:57,701 - ispa_next.main - DEBUG - 



2025-11-12 11:35:57,701 - ispa_next.main - DEBUG - starting with process 8 (FD-ED 885 E) of 8
2025-11-12 11:35:57,705 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 11:35:59,486 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 11:36:01,325 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 942
2025-11-12 11:36:01,330 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 284
2025-11-12 11:36:03,689 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 1
2025-11-12 11:36:03,690 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 11:36:39,285 - ispa_next.rkr_manager.main - DEBUG - RemoteKeyReadManager initialized
2025-11-12 11:36:42,303 - ispa_next.appointments.functions - DEBUG - Appointment was already processed in the past.
2025-11-12 11:36:49,333 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 11:36:54,114 - ispa_next.functions - DEBUG - check_and_verify_hu_date
2025-11-12 11:36:54,115 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 11:36:54,201 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 11:36:54,557 - ispa_next.functions - DEBUG - HU date already expired after 25 days.
2025-11-12 11:37:00,475 - ispa_next.functions - DEBUG - check_potential_workshop_test
2025-11-12 11:37:00,478 - ispa_next.functions - DEBUG - check_vehicle_age_for_service_plus
2025-11-12 11:37:03,517 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 11:37:03,517 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 11:37:05,013 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 11:37:07,019 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-12 11:37:07,196 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-12 11:37:07,338 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-12 11:37:07,488 - ispa_next.rkr_manager.state - DEBUG - Checking color in CBS positions
2025-11-12 11:37:09,682 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: data_still_good
2025-11-12 11:37:10,688 - ispa_next.functions - DEBUG - handle_data_privacy_consent
2025-11-12 11:37:10,690 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 11:37:11,203 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 11:37:25,917 - ispa_next.functions - DEBUG - DSE icon is yellow
2025-11-12 11:37:30,589 - ispa_next.functions - DEBUG - transfer_customer_data_to_appointment
2025-11-12 11:37:30,591 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 11:37:30,680 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 11:37:30,680 - ispa_next.functions - DEBUG - fetch_customer_data
2025-11-12 11:37:30,742 - ispa_next.functions - DEBUG - fetch_customer_data_from_bmw_id
2025-11-12 11:37:32,460 - ispa_next.functions - DEBUG - fetch_customer_data_from_dms
2025-11-12 11:37:33,623 - ispa_next.functions - DEBUG - All data found, skipping remaining sources
2025-11-12 11:37:33,861 - ispa_next.functions - DEBUG - copy_customer_data_to_appointment
2025-11-12 11:37:35,930 - ispa_next.functions - DEBUG - Updated appointment (AE00023378) customer contact data.
2025-11-12 11:37:36,834 - ispa_next.functions - DEBUG - check_for_alpina_vehicle
2025-11-12 11:37:36,835 - ispa_next.functions - DEBUG - check_bmw_id_add_to_list
2025-11-12 11:37:37,840 - ispa_next.functions - DEBUG - check_home_dealer_add_to_list
2025-11-12 11:37:37,840 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-12 11:37:39,364 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Fahrzeugzustand
2025-11-12 11:37:42,970 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 11:37:42,970 - ispa_next.rkr_manager.main - DEBUG - early exiting RemoteKeyReadManager - enabled=False or early_exit_enabled=True
2025-11-12 11:37:42,973 - ispa_next.functions - DEBUG - generate_attachments
2025-11-12 11:37:42,974 - ispa_next.functions - DEBUG - check_service_requirement
2025-11-12 11:37:42,974 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 11:37:43,512 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 11:37:47,651 - ispa_next.functions - DEBUG - check_service_requirement result: pdf_needed =True
2025-11-12 11:37:52,433 - ispa_next.wipers - DEBUG - handle_wiper_service_contracts
2025-11-12 11:37:52,435 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 11:37:52,555 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-12 11:37:52,929 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 11:37:53,464 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 11:37:53,466 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 11:37:54,303 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 11:37:54,304 - ispa_next.package_manager.main - DEBUG - updating cart content
2025-11-12 11:37:58,578 - ispa_next.package_manager.main - DEBUG - updating advice list content
2025-11-12 11:37:58,582 - ispa_next.package_manager.helper - DEBUG - get_advice_list_contents
2025-11-12 11:38:00,773 - ispa_next.package_manager.main - DEBUG - determining package movements
2025-11-12 11:38:00,775 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 11:38:00,775 - ispa_next.package_manager.main - DEBUG - found packages to cart: set()
2025-11-12 11:38:00,777 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 11:38:00,779 - ispa_next.package_manager.main - DEBUG - found packages to advice_list: set()
2025-11-12 11:38:00,779 - ispa_next.package_manager.main - DEBUG - determining package to delete
2025-11-12 11:38:00,783 - ispa_next.package_manager.main - DEBUG - found packages to delete: set()
2025-11-12 11:38:00,787 - ispa_next.package_manager.main - DEBUG - determining package to update
2025-11-12 11:38:00,791 - ispa_next.package_manager.main - DEBUG - found packages to update: set()
2025-11-12 11:38:00,793 - ispa_next.functions - DEBUG - verify_cart_packages_additional_texts
2025-11-12 11:38:00,795 - ispa_next.functions - DEBUG - check_cart_for_additional_text_packages
2025-11-12 11:38:00,796 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 11:38:05,679 - ispa_next.functions - DEBUG - Adding additional texts to cart items
2025-11-12 11:38:09,450 - ispa_next.functions - DEBUG - handle_mobility_replacement
2025-11-12 11:38:09,491 - ispa_next.functions - DEBUG - verify_battery_in_motoroil_package
2025-11-12 11:38:09,494 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 11:38:14,471 - ispa_next.functions - DEBUG - verify_breaks_in_break_package
2025-11-12 11:38:14,473 - ispa_next.functions - DEBUG - process_check_control
2025-11-12 11:38:14,473 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Beanstandungen
2025-11-12 11:38:15,636 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Beanstandungen
2025-11-12 11:38:15,893 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 11:38:33,124 - ispa_next.functions - DEBUG - trying add_material_to_package
2025-11-12 11:38:33,126 - ispa_next.functions - DEBUG - notify_aw_increase_to_service_advisor
2025-11-12 11:38:33,126 - ispa_next.functions - DEBUG - check_cart_packages_for_parts_service_and_parts_availability
2025-11-12 11:38:33,128 - ispa_next.appointment_ending - DEBUG - entered complete process
2025-11-12 11:38:33,128 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 11:38:34,169 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-12 11:38:34,845 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Abschluss
2025-11-12 11:38:34,847 - ispa_next.appointment_ending - DEBUG - complete_process isn't exiting early.
2025-11-12 11:38:37,717 - ispa_next.appointment_ending - DEBUG - No need to assign service parts target.
2025-11-12 11:38:49,744 - ispa_next.appointment_ending - DEBUG - return from complete process straight to process_list with saving without error_dialog.
2025-11-12 11:38:50,145 - ispa_next.appointment_loop.main - DEBUG - Closing appointment 8.
2025-11-12 11:38:52,687 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 11:38:53,767 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 942
2025-11-12 11:38:53,768 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 1
2025-11-12 11:38:58,379 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 284
2025-11-12 11:38:58,379 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
