2025-11-17 14:01:23,520 - ispa_next.main - DEBUG - ISPA Next attempt (1 / 5)
2025-11-17 14:01:23,520 - overlays.client - INFO - Connected to overlay manager pipe
2025-11-17 14:01:34,656 - ispa_next.app_start.functions - DEBUG - handle_update_available
2025-11-17 14:01:48,423 - ispa_next.app_start.functions - DEBUG - has_ispa_errors
2025-11-17 14:02:04,249 - ispa_next.app_start.functions - DEBUG - authenticate_user
2025-11-17 14:02:28,742 - ispa_next.app_start.main - DEBUG - Login successful
2025-11-17 14:02:48,031 - ispa_next.appointments.functions - DEBUG - order_appointments_grid_by_created_at
2025-11-17 14:02:51,115 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-17 14:02:52,529 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 619
2025-11-17 14:02:52,529 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 135
2025-11-17 14:02:55,241 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 67
2025-11-17 14:02:55,242 - ispa_next.appointments.functions - DEBUG - recover_or_exit_IPS_error
2025-11-17 14:02:55,242 - ispa_next.appointments.functions - DEBUG - check_appointments_grid_for_IPS_error
2025-11-17 14:02:56,563 - ispa_next.appointments.functions - DEBUG - check_appointments_grid_for_IPS_error
2025-11-17 14:02:57,978 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-17 14:03:09,978 - ispa_next.appointments.models - DEBUG - Appointment Frau Kirstin Hub ES-KH 756 WBAUD71010P274289 ohne Termin.
2025-11-17 14:03:09,993 - ispa_next.appointments.models - DEBUG - Appointment Herr Thorsten Jahn ES-BT 213E WBA71AB0005T71531 ohne Termin.
2025-11-17 14:03:10,003 - ispa_next.appointments.models - DEBUG - Appointment Herr Wolfgang Schenk ES-B 9898 WMW21GX0902X65973 ohne Termin.
2025-11-17 14:03:10,027 - ispa_next.appointments.models - DEBUG - Appointment Herr Erwin Konz ES-KL 2810 WMW31GA0007R53152 ohne Termin.
2025-11-17 14:03:10,038 - ispa_next.appointments.models - DEBUG - Appointment Herr Süha Ahmet Islek GP-XX 2024 WBY61EF0605Y46291 ohne Termin.
2025-11-17 14:03:10,046 - ispa_next.appointments.models - DEBUG - Appointment Herr Tom Marginean ES-TM 303 WBA3E31000F143961 ohne Termin.
2025-11-17 14:03:10,053 - ispa_next.appointments.models - DEBUG - Appointment Firma Stadtwerke Nürtingen GmbH NT-SW 255 WBA2X910407F70257 ohne Termin.
2025-11-17 14:03:10,061 - ispa_next.appointments.models - DEBUG - Appointment Firma Curium Germany GmbH B-CM 1688 WBA11GR0709159541 ohne Termin.
2025-11-17 14:03:10,073 - ispa_next.appointments.models - DEBUG - Appointment Herr Karlheinz-Heinz Jetter NT-JE 1000 WBAHU310305E39817 ohne Termin.
2025-11-17 14:03:10,095 - ispa_next.appointments.models - DEBUG - Appointment Herr Jörg Ohst DIL-CB 22 WBS31BA0X0CM39721 ohne Termin.
2025-11-17 14:03:10,108 - ispa_next.appointments.models - DEBUG - Appointment Frau Ella Rezlaw ES-LV 2313 WBA8H91060K664108 ohne Termin.
2025-11-17 14:03:10,119 - ispa_next.appointments.models - DEBUG - Appointment Firma Quality Analysis GmbH NT-W 2105 WBA7L110607P01981 ohne Termin.
2025-11-17 14:03:10,130 - ispa_next.appointments.models - DEBUG - Appointment Frau Gabriele Oberrenner ES-GM 2510 WBA8H71050FH09958 ohne Termin.
2025-11-17 14:03:10,159 - ispa_next.main - DEBUG - Found 4 out of 40 appointments to process (configured limit: 15).
2025-11-17 14:03:10,159 - ispa_next.main - DEBUG - Processing 4 fresh appointments.
2025-11-17 14:03:10,159 - ispa_next.main - DEBUG - All appointments: NT-SB 1711, ES-BF 446 E, NT-JR 70, ES-BF 2125
2025-11-17 14:03:10,162 - ispa_next.main - DEBUG - 



2025-11-17 14:03:10,162 - ispa_next.main - DEBUG - starting with process 1 (NT-SB 1711) of 4
2025-11-17 14:03:10,165 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-17 14:03:11,532 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-17 14:03:13,073 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 619
2025-11-17 14:03:13,074 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 67
2025-11-17 14:03:14,768 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 1
2025-11-17 14:03:14,770 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-17 14:03:57,155 - ispa_next.rkr_manager.main - DEBUG - RemoteKeyReadManager initialized
2025-11-17 14:04:07,827 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 14:04:09,064 - ispa_next.functions - DEBUG - check_and_verify_hu_date
2025-11-17 14:04:09,074 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 14:04:09,213 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 14:04:09,524 - ispa_next.functions - DEBUG - check_potential_workshop_test
2025-11-17 14:04:09,530 - ispa_next.functions - DEBUG - check_vehicle_age_for_service_plus
2025-11-17 14:04:12,432 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-17 14:04:12,432 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 14:04:13,581 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-17 14:04:15,586 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-17 14:04:15,784 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-17 14:04:19,030 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-17 14:04:19,143 - ispa_next.rkr_manager.state - DEBUG - Checking color in CBS positions
2025-11-17 14:04:23,343 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: data_still_good
2025-11-17 14:04:24,351 - ispa_next.functions - DEBUG - handle_data_privacy_consent
2025-11-17 14:04:24,351 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 14:04:24,910 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-17 14:04:38,231 - ispa_next.functions - DEBUG - DSE icon is yellow
2025-11-17 14:04:46,785 - ispa_next.functions - DEBUG - transfer_customer_data_to_appointment
2025-11-17 14:04:46,785 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 14:04:46,913 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 14:04:46,913 - ispa_next.functions - DEBUG - fetch_customer_data
2025-11-17 14:04:47,009 - ispa_next.functions - DEBUG - fetch_customer_data_from_bmw_id
2025-11-17 14:04:48,435 - ispa_next.functions - DEBUG - All data found, skipping remaining sources
2025-11-17 14:04:49,048 - ispa_next.functions - DEBUG - copy_customer_data_to_appointment
2025-11-17 14:04:53,478 - ispa_next.functions - DEBUG - Updated appointment (AA00027124) customer contact data.
2025-11-17 14:04:54,431 - ispa_next.functions - DEBUG - check_for_alpina_vehicle
2025-11-17 14:04:54,433 - ispa_next.functions - DEBUG - check_bmw_id_add_to_list
2025-11-17 14:04:55,343 - ispa_next.functions - DEBUG - check_home_dealer_add_to_list
2025-11-17 14:04:55,343 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-17 14:04:56,250 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Fahrzeugzustand
2025-11-17 14:04:59,937 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-17 14:04:59,937 - ispa_next.rkr_manager.main - DEBUG - early exiting RemoteKeyReadManager - enabled=False or early_exit_enabled=True
2025-11-17 14:04:59,937 - ispa_next.functions - DEBUG - generate_attachments
2025-11-17 14:04:59,937 - ispa_next.functions - DEBUG - check_service_requirement
2025-11-17 14:04:59,937 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 14:05:00,451 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-17 14:05:04,593 - ispa_next.functions - DEBUG - check_service_requirement result: pdf_needed =False
2025-11-17 14:05:04,593 - ispa_next.wipers - DEBUG - handle_wiper_service_contracts
2025-11-17 14:05:04,593 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 14:05:04,678 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-17 14:05:05,172 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 14:05:05,635 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-17 14:05:05,635 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 14:05:06,569 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-17 14:05:06,569 - ispa_next.package_manager.main - DEBUG - updating cart content
2025-11-17 14:05:08,050 - ispa_next.package_manager.main - DEBUG - updating advice list content
2025-11-17 14:05:08,060 - ispa_next.package_manager.helper - DEBUG - get_advice_list_contents
2025-11-17 14:05:09,136 - ispa_next.package_manager.main - DEBUG - determining package movements
2025-11-17 14:05:09,136 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-17 14:05:09,151 - ispa_next.package_manager.main - DEBUG - found packages to cart: set()
2025-11-17 14:05:09,156 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-17 14:05:09,156 - ispa_next.package_manager.main - DEBUG - Cannot place Beide Gasdruckfedern für Frontklappe aus- und einb: placement requirements not met
2025-11-17 14:05:09,156 - ispa_next.package_manager.main - DEBUG - Cannot place Ladewunsch und Ladezustand: not present in source
2025-11-17 14:05:09,156 - ispa_next.package_manager.main - DEBUG - found packages to advice_list: set()
2025-11-17 14:05:09,156 - ispa_next.package_manager.main - DEBUG - determining package to delete
2025-11-17 14:05:09,156 - ispa_next.package_manager.main - DEBUG - found packages to delete: set()
2025-11-17 14:05:09,156 - ispa_next.package_manager.main - DEBUG - determining package to update
2025-11-17 14:05:09,156 - ispa_next.package_manager.main - DEBUG - found packages to update: set()
2025-11-17 14:05:09,167 - ispa_next.functions - DEBUG - verify_cart_packages_additional_texts
2025-11-17 14:05:09,167 - ispa_next.functions - DEBUG - check_cart_for_additional_text_packages
2025-11-17 14:05:09,167 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 14:05:10,482 - ispa_next.functions - DEBUG - handle_mobility_replacement
2025-11-17 14:05:10,482 - ispa_next.functions - DEBUG - verify_battery_in_motoroil_package
2025-11-17 14:05:10,498 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 14:05:11,844 - ispa_next.functions - DEBUG - verify_breaks_in_break_package
2025-11-17 14:05:11,844 - ispa_next.functions - DEBUG - process_check_control
2025-11-17 14:05:11,844 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Beanstandungen
2025-11-17 14:05:12,859 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Beanstandungen
2025-11-17 14:05:13,410 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 14:05:22,250 - ispa_next.functions - DEBUG - trying add_material_to_package
2025-11-17 14:05:22,250 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 14:05:23,549 - ispa_next.functions - DEBUG - notify_aw_increase_to_service_advisor
2025-11-17 14:05:36,126 - ispa_next.functions - DEBUG - check_cart_packages_for_parts_service_and_parts_availability
2025-11-17 14:05:36,649 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-17 14:05:37,206 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Abschluss
2025-11-17 14:05:37,375 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 14:05:49,657 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-17 14:05:49,657 - ispa_next.appointment_ending - DEBUG - entered complete process
2025-11-17 14:05:49,657 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-17 14:05:50,376 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-17 14:05:50,456 - ispa_next.common.shared - DEBUG - ISPA tab Abschluss is already open
2025-11-17 14:05:50,456 - ispa_next.appointment_ending - DEBUG - complete_process isn't exiting early.
2025-11-17 14:05:52,407 - ispa_next.appointment_ending - DEBUG - No need to assign service parts target.
2025-11-17 14:06:05,313 - ispa_next.appointment_ending - DEBUG - return from complete process straight to process_list with saving without error_dialog.
2025-11-17 14:06:05,751 - ispa_next.appointment_loop.main - DEBUG - Closing appointment 1.
2025-11-17 14:06:06,891 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-17 14:06:07,459 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 619
2025-11-17 14:06:07,459 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 1
2025-11-17 14:06:10,990 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 135
2025-11-17 14:06:10,991 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-17 14:06:11,907 - ispa_next.appointments.models - DEBUG - Appointment Herr Dr. Volker Lorch ES-SL 2604 WMWXN710703B45428 ohne Termin.
2025-11-17 14:06:11,931 - ispa_next.main - DEBUG - 



2025-11-17 14:06:11,932 - ispa_next.main - DEBUG - starting with process 2 (ES-BF 446 E) of 4
2025-11-17 14:06:11,936 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-17 14:06:13,279 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-17 14:06:14,719 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 619
2025-11-17 14:06:14,721 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 135
2025-11-17 14:06:16,445 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 1
2025-11-17 14:06:16,447 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-17 14:06:59,408 - ispa_next.rkr_manager.main - DEBUG - RemoteKeyReadManager initialized
2025-11-17 14:07:10,111 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 14:07:10,221 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 14:07:10,413 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 14:07:12,408 - ispa_next.functions - DEBUG - check_and_verify_hu_date
2025-11-17 14:07:12,408 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 14:07:12,533 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 14:07:12,785 - ispa_next.functions - DEBUG - check_potential_workshop_test
2025-11-17 14:07:12,801 - ispa_next.functions - DEBUG - check_vehicle_age_for_service_plus
2025-11-17 14:07:15,819 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-17 14:07:15,819 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 14:07:17,175 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-17 14:07:19,180 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-17 14:07:19,304 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-17 14:07:19,448 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-17 14:07:19,579 - ispa_next.rkr_manager.state - DEBUG - Getting cart and advice list contents
2025-11-17 14:07:19,579 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 14:07:21,659 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-17 14:07:33,456 - ispa_next.rkr_manager.helper - DEBUG - Found button 'Hinzufügen (Empfohlen)' in nested popup
2025-11-17 14:07:41,003 - ispa_next.rkr_manager.state - DEBUG - Checking cart items after successfull RKR
2025-11-17 14:07:41,003 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 14:07:43,082 - ispa_next.rkr_manager.state - DEBUG - Checking color in CBS positions
2025-11-17 14:07:47,284 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: success
2025-11-17 14:07:48,297 - ispa_next.functions - DEBUG - handle_data_privacy_consent
2025-11-17 14:07:48,297 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 14:07:48,845 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-17 14:08:02,191 - ispa_next.functions - DEBUG - DSE icon is yellow
2025-11-17 14:08:11,644 - ispa_next.functions - DEBUG - transfer_customer_data_to_appointment
2025-11-17 14:08:11,644 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 14:08:11,823 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 14:08:11,823 - ispa_next.functions - DEBUG - fetch_customer_data
2025-11-17 14:08:11,869 - ispa_next.functions - DEBUG - fetch_customer_data_from_bmw_id
2025-11-17 14:08:13,245 - ispa_next.functions - DEBUG - fetch_customer_data_from_dms
2025-11-17 14:08:14,681 - ispa_next.functions - DEBUG - All data found, skipping remaining sources
2025-11-17 14:08:15,098 - ispa_next.functions - DEBUG - copy_customer_data_to_appointment
2025-11-17 14:08:17,980 - ispa_next.functions - DEBUG - Updated appointment (AA00027121) customer contact data.
2025-11-17 14:08:18,942 - ispa_next.functions - DEBUG - check_for_alpina_vehicle
2025-11-17 14:08:18,945 - ispa_next.functions - DEBUG - check_bmw_id_add_to_list
2025-11-17 14:08:19,972 - ispa_next.functions - DEBUG - check_home_dealer_add_to_list
2025-11-17 14:08:19,972 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-17 14:08:20,785 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Fahrzeugzustand
2025-11-17 14:08:24,410 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-17 14:08:24,410 - ispa_next.rkr_manager.main - DEBUG - early exiting RemoteKeyReadManager - enabled=False or early_exit_enabled=True
2025-11-17 14:08:24,413 - ispa_next.functions - DEBUG - generate_attachments
2025-11-17 14:08:24,413 - ispa_next.functions - DEBUG - check_service_requirement
2025-11-17 14:08:24,413 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 14:08:24,917 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-17 14:08:29,035 - ispa_next.functions - DEBUG - check_service_requirement result: pdf_needed =False
2025-11-17 14:08:29,035 - ispa_next.wipers - DEBUG - handle_wiper_service_contracts
2025-11-17 14:08:29,035 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 14:08:29,140 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-17 14:08:33,396 - ispa_next.wipers - DEBUG - valid contract found: Alphabet Service Inclusive
2025-11-17 14:08:43,929 - ispa_next.wipers - DEBUG - wipers found to add.
2025-11-17 14:08:44,426 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 14:08:45,072 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-17 14:08:45,076 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 14:08:45,875 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-17 14:08:45,879 - ispa_next.package_manager.main - DEBUG - updating cart content
2025-11-17 14:08:47,952 - ispa_next.package_manager.main - DEBUG - updating advice list content
2025-11-17 14:08:47,952 - ispa_next.package_manager.helper - DEBUG - get_advice_list_contents
2025-11-17 14:08:48,902 - ispa_next.package_manager.main - DEBUG - determining package movements
2025-11-17 14:08:48,902 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-17 14:08:48,910 - ispa_next.package_manager.main - DEBUG - found packages to cart: {Package(name=Wischerblatt für Heckscheibenwischer ersetzen, source=from_aw_package, target=cart), Package(name=Wischerblatt links und rechts ersetzen, source=from_aw_package, target=cart)}
2025-11-17 14:08:48,910 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-17 14:08:48,910 - ispa_next.package_manager.main - DEBUG - Cannot place Beide Gasdruckfedern für Frontklappe aus- und einb: placement requirements not met
2025-11-17 14:08:48,918 - ispa_next.package_manager.main - DEBUG - Cannot place Ladewunsch und Ladezustand: not present in source
2025-11-17 14:08:48,918 - ispa_next.package_manager.main - DEBUG - found packages to advice_list: set()
2025-11-17 14:08:48,918 - ispa_next.package_manager.main - DEBUG - determining package to delete
2025-11-17 14:08:48,922 - ispa_next.package_manager.main - DEBUG - found packages to delete: set()
2025-11-17 14:08:48,922 - ispa_next.package_manager.main - DEBUG - determining package to update
2025-11-17 14:08:48,922 - ispa_next.package_manager.main - DEBUG - found packages to update: set()
2025-11-17 14:08:48,922 - ispa_next.package_manager.helper - DEBUG - add_to_cart called
2025-11-17 14:09:33,136 - ispa_next.package_manager.helper - DEBUG - _add_to_container_manual
2025-11-17 14:09:33,136 - ispa_next.package_manager.helper - DEBUG - add_appointment_note in package_manager
2025-11-17 14:09:40,198 - ispa_next.functions - DEBUG - verify_cart_packages_additional_texts
2025-11-17 14:09:40,199 - ispa_next.functions - DEBUG - check_cart_for_additional_text_packages
2025-11-17 14:09:40,199 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 14:09:43,547 - ispa_next.functions - DEBUG - handle_mobility_replacement
2025-11-17 14:09:43,547 - ispa_next.functions - DEBUG - verify_battery_in_motoroil_package
2025-11-17 14:09:43,547 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 14:09:46,869 - ispa_next.functions - DEBUG - verify_breaks_in_break_package
2025-11-17 14:09:46,869 - ispa_next.functions - DEBUG - process_check_control
2025-11-17 14:09:46,869 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Beanstandungen
2025-11-17 14:09:47,849 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Beanstandungen
2025-11-17 14:09:48,181 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 14:10:11,506 - ispa_next.functions - DEBUG - trying add_material_to_package
2025-11-17 14:10:11,508 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 14:10:14,881 - ispa_next.functions - DEBUG - notify_aw_increase_to_service_advisor
2025-11-17 14:10:27,600 - ispa_next.functions - DEBUG - check_cart_packages_for_parts_service_and_parts_availability
2025-11-17 14:10:28,120 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-17 14:10:28,684 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Abschluss
2025-11-17 14:10:28,861 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 14:10:55,178 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-17 14:11:00,132 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-17 14:11:05,679 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-17 14:11:05,679 - ispa_next.appointment_ending - DEBUG - entered complete process
2025-11-17 14:11:05,710 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-17 14:11:06,429 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-17 14:11:06,555 - ispa_next.common.shared - DEBUG - ISPA tab Abschluss is already open
2025-11-17 14:11:06,555 - ispa_next.appointment_ending - DEBUG - complete_process isn't exiting early.
2025-11-17 14:11:08,709 - ispa_next.appointment_ending - DEBUG - No need to assign service parts target.
2025-11-17 14:11:18,239 - ispa_next.appointment_ending - DEBUG - return from complete process straight to process_list with saving without error_dialog.
2025-11-17 14:11:18,620 - ispa_next.appointment_loop.main - DEBUG - Closing appointment 2.
2025-11-17 14:11:20,046 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-17 14:11:20,797 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 619
2025-11-17 14:11:20,797 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 1
2025-11-17 14:11:24,539 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 135
2025-11-17 14:11:24,540 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-17 14:11:25,549 - ispa_next.appointments.models - DEBUG - Appointment Herr Dr. Volker Lorch ES-SL 2604 WMWXN710703B45428 ohne Termin.
2025-11-17 14:11:25,557 - ispa_next.main - DEBUG - 



2025-11-17 14:11:25,557 - ispa_next.main - DEBUG - starting with process 3 (NT-JR 70) of 4
2025-11-17 14:11:25,561 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-17 14:11:26,856 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-17 14:11:28,302 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 619
2025-11-17 14:11:28,303 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 135
2025-11-17 14:11:30,068 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 1
2025-11-17 14:11:30,069 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-17 14:12:04,337 - ispa_next.rkr_manager.main - DEBUG - RemoteKeyReadManager initialized
2025-11-17 14:12:15,195 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 14:12:17,825 - ispa_next.functions - DEBUG - check_and_verify_hu_date
2025-11-17 14:12:17,825 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 14:12:17,964 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 14:12:18,297 - ispa_next.functions - DEBUG - check_potential_workshop_test
2025-11-17 14:12:18,297 - ispa_next.functions - DEBUG - check_vehicle_age_for_service_plus
2025-11-17 14:12:21,248 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-17 14:12:21,248 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 14:12:22,602 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-17 14:12:24,618 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-17 14:12:24,847 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-17 14:12:28,164 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-17 14:12:28,337 - ispa_next.rkr_manager.state - DEBUG - Checking color in CBS positions
2025-11-17 14:12:32,557 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: data_still_good
2025-11-17 14:12:33,562 - ispa_next.functions - DEBUG - handle_data_privacy_consent
2025-11-17 14:12:33,562 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 14:12:34,087 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-17 14:12:47,447 - ispa_next.functions - DEBUG - DSE icon is yellow
2025-11-17 14:12:56,260 - ispa_next.functions - DEBUG - transfer_customer_data_to_appointment
2025-11-17 14:12:56,260 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 14:12:56,415 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 14:12:56,415 - ispa_next.functions - DEBUG - fetch_customer_data
2025-11-17 14:12:56,450 - ispa_next.functions - DEBUG - fetch_customer_data_from_bmw_id
2025-11-17 14:12:57,880 - ispa_next.functions - DEBUG - All data found, skipping remaining sources
2025-11-17 14:12:58,260 - ispa_next.functions - DEBUG - copy_customer_data_to_appointment
2025-11-17 14:13:01,441 - ispa_next.functions - DEBUG - Updated appointment (AA00027118) customer contact data.
2025-11-17 14:13:02,346 - ispa_next.functions - DEBUG - check_for_alpina_vehicle
2025-11-17 14:13:02,353 - ispa_next.functions - DEBUG - check_bmw_id_add_to_list
2025-11-17 14:13:03,196 - ispa_next.functions - DEBUG - check_home_dealer_add_to_list
2025-11-17 14:13:03,196 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-17 14:13:04,540 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Fahrzeugzustand
2025-11-17 14:13:08,134 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-17 14:13:08,134 - ispa_next.rkr_manager.main - DEBUG - early exiting RemoteKeyReadManager - enabled=False or early_exit_enabled=True
2025-11-17 14:13:08,134 - ispa_next.functions - DEBUG - generate_attachments
2025-11-17 14:13:08,134 - ispa_next.functions - DEBUG - check_service_requirement
2025-11-17 14:13:08,134 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 14:13:08,674 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-17 14:13:12,853 - ispa_next.functions - DEBUG - check_service_requirement result: pdf_needed =True
2025-11-17 14:13:13,744 - ispa_next.functions - DEBUG - generate_appointment_pdfs
2025-11-17 14:13:31,291 - ispa_next.wipers - DEBUG - handle_wiper_service_contracts
2025-11-17 14:13:31,291 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 14:13:31,555 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-17 14:13:35,791 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 14:13:36,448 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-17 14:13:36,448 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 14:13:37,577 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-17 14:13:37,577 - ispa_next.package_manager.main - DEBUG - updating cart content
2025-11-17 14:13:40,206 - ispa_next.package_manager.main - DEBUG - updating advice list content
2025-11-17 14:13:40,218 - ispa_next.package_manager.helper - DEBUG - get_advice_list_contents
2025-11-17 14:13:42,015 - ispa_next.package_manager.main - DEBUG - determining package movements
2025-11-17 14:13:42,015 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-17 14:13:42,026 - ispa_next.package_manager.main - DEBUG - found packages to cart: set()
2025-11-17 14:13:42,026 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-17 14:13:42,026 - ispa_next.package_manager.main - DEBUG - Cannot place Ladewunsch und Ladezustand: not present in source
2025-11-17 14:13:42,026 - ispa_next.package_manager.main - DEBUG - found packages to advice_list: {Package(name=Beide Gasdruckfedern für Frontklappe aus- und einb, source=from_aw_package, target=advice_list)}
2025-11-17 14:13:42,026 - ispa_next.package_manager.main - DEBUG - determining package to delete
2025-11-17 14:13:42,042 - ispa_next.package_manager.main - DEBUG - found packages to delete: set()
2025-11-17 14:13:42,042 - ispa_next.package_manager.main - DEBUG - determining package to update
2025-11-17 14:13:42,042 - ispa_next.package_manager.main - DEBUG - found packages to update: set()
2025-11-17 14:13:42,042 - ispa_next.package_manager.helper - DEBUG - add_to_advice_list called
2025-11-17 14:14:04,398 - ispa_next.package_manager.helper - DEBUG - _add_to_container_manual
2025-11-17 14:14:04,405 - ispa_next.functions - DEBUG - verify_cart_packages_additional_texts
2025-11-17 14:14:04,457 - ispa_next.functions - DEBUG - check_cart_for_additional_text_packages
2025-11-17 14:14:04,510 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 14:14:07,290 - ispa_next.functions - DEBUG - Adding additional texts to cart items
2025-11-17 14:14:12,073 - ispa_next.functions - DEBUG - handle_mobility_replacement
2025-11-17 14:14:12,198 - ispa_next.functions - DEBUG - verify_battery_in_motoroil_package
2025-11-17 14:14:12,198 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 14:14:15,213 - ispa_next.functions - DEBUG - verify_breaks_in_break_package
2025-11-17 14:14:15,213 - ispa_next.functions - DEBUG - process_check_control
2025-11-17 14:14:15,226 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Beanstandungen
2025-11-17 14:14:16,372 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Beanstandungen
2025-11-17 14:14:16,577 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 14:14:22,142 - ispa_next.functions - DEBUG - trying add_material_to_package
2025-11-17 14:14:22,142 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 14:14:24,966 - ispa_next.functions - DEBUG - notify_aw_increase_to_service_advisor
2025-11-17 14:14:45,601 - ispa_next.functions - DEBUG - check_cart_packages_for_parts_service_and_parts_availability
2025-11-17 14:14:46,204 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-17 14:14:46,865 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Abschluss
2025-11-17 14:14:47,195 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 14:15:15,576 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-17 14:15:23,215 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-17 14:15:30,961 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-17 14:15:30,961 - ispa_next.appointment_ending - DEBUG - entered complete process
2025-11-17 14:15:30,961 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-17 14:15:32,293 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-17 14:15:32,474 - ispa_next.common.shared - DEBUG - ISPA tab Abschluss is already open
2025-11-17 14:15:32,481 - ispa_next.appointment_ending - DEBUG - complete_process isn't exiting early.
2025-11-17 14:15:36,356 - ispa_next.appointment_ending - DEBUG - No need to assign service parts target.
2025-11-17 14:15:52,844 - ispa_next.appointment_ending - DEBUG - return from complete process straight to process_list with saving without error_dialog.
2025-11-17 14:15:53,254 - ispa_next.appointment_loop.main - DEBUG - Closing appointment 3.
2025-11-17 14:15:55,757 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-17 14:15:57,007 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 619
2025-11-17 14:15:57,012 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 1
2025-11-17 14:16:03,288 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 135
2025-11-17 14:16:03,288 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-17 14:16:04,965 - ispa_next.appointments.models - DEBUG - Appointment Herr Dr. Volker Lorch ES-SL 2604 WMWXN710703B45428 ohne Termin.
2025-11-17 14:16:04,971 - ispa_next.main - DEBUG - 



2025-11-17 14:16:04,971 - ispa_next.main - DEBUG - starting with process 4 (ES-BF 2125) of 4
2025-11-17 14:16:04,975 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-17 14:16:07,502 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-17 14:16:10,235 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 619
2025-11-17 14:16:10,237 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 135
2025-11-17 14:16:13,088 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 1
2025-11-17 14:16:13,090 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-17 14:16:58,619 - ispa_next.rkr_manager.main - DEBUG - RemoteKeyReadManager initialized
2025-11-17 14:17:14,862 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 14:17:15,030 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 14:17:15,455 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 14:17:16,778 - ispa_next.functions - DEBUG - check_and_verify_hu_date
2025-11-17 14:17:16,778 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 14:17:16,919 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 14:17:17,437 - ispa_next.functions - DEBUG - check_potential_workshop_test
2025-11-17 14:17:17,437 - ispa_next.functions - DEBUG - check_vehicle_age_for_service_plus
2025-11-17 14:17:20,977 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-17 14:17:20,977 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 14:17:23,233 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-17 14:17:25,300 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-17 14:17:25,530 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-17 14:17:25,719 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-17 14:17:26,305 - ispa_next.rkr_manager.state - DEBUG - Getting cart and advice list contents
2025-11-17 14:17:26,320 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 14:17:27,858 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-17 14:17:40,593 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: non_blocking_wait
2025-11-17 14:17:41,599 - ispa_next.functions - DEBUG - handle_data_privacy_consent
2025-11-17 14:17:41,599 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 14:17:42,143 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-17 14:18:01,812 - ispa_next.functions - DEBUG - DSE icon is yellow
2025-11-17 14:18:15,437 - ispa_next.functions - DEBUG - transfer_customer_data_to_appointment
2025-11-17 14:18:15,437 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 14:18:15,595 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-17 14:18:15,595 - ispa_next.functions - DEBUG - fetch_customer_data
2025-11-17 14:18:15,704 - ispa_next.functions - DEBUG - fetch_customer_data_from_bmw_id
2025-11-17 14:18:17,412 - ispa_next.functions - DEBUG - All data found, skipping remaining sources
2025-11-17 14:18:17,984 - ispa_next.functions - DEBUG - copy_customer_data_to_appointment
2025-11-17 14:18:23,526 - ispa_next.functions - DEBUG - Updated appointment (AA00027101) customer contact data.
2025-11-17 14:18:24,617 - ispa_next.functions - DEBUG - check_for_alpina_vehicle
2025-11-17 14:18:24,622 - ispa_next.functions - DEBUG - check_bmw_id_add_to_list
2025-11-17 14:18:26,320 - ispa_next.functions - DEBUG - check_home_dealer_add_to_list
2025-11-17 14:18:26,320 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-17 14:18:27,618 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Fahrzeugzustand
2025-11-17 14:18:32,358 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-17 14:18:32,438 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 14:18:33,075 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-17 14:18:35,078 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-17 14:18:35,281 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-17 14:18:35,562 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-17 14:18:35,816 - ispa_next.rkr_manager.state - DEBUG - Getting cart and advice list contents
2025-11-17 14:18:35,816 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 14:18:37,903 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-17 14:18:50,785 - ispa_next.rkr_manager.state - DEBUG - Waiting for timeout to pass
2025-11-17 14:19:50,798 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-17 14:20:03,517 - ispa_next.rkr_manager.state - DEBUG - Cannot call from RKR
2025-11-17 14:20:17,760 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: rkr_not_successfull
2025-11-17 14:20:18,768 - ispa_next.functions - DEBUG - generate_attachments
2025-11-17 14:20:18,768 - ispa_next.functions - DEBUG - check_service_requirement
2025-11-17 14:20:18,768 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 14:20:18,903 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-17 14:20:23,117 - ispa_next.functions - DEBUG - check_service_requirement result: pdf_needed =False
2025-11-17 14:20:23,117 - ispa_next.wipers - DEBUG - handle_wiper_service_contracts
2025-11-17 14:20:23,117 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 14:20:23,292 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-17 14:20:28,981 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-17 14:20:29,658 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-17 14:20:29,658 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-17 14:20:30,929 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-17 14:20:30,929 - ispa_next.package_manager.main - DEBUG - updating cart content
2025-11-17 14:20:32,988 - ispa_next.package_manager.main - DEBUG - updating advice list content
2025-11-17 14:20:32,998 - ispa_next.package_manager.helper - DEBUG - get_advice_list_contents
2025-11-17 14:20:34,846 - ispa_next.package_manager.main - DEBUG - determining package movements
2025-11-17 14:20:34,846 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-17 14:20:34,846 - ispa_next.package_manager.main - DEBUG - found packages to cart: set()
2025-11-17 14:20:34,846 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-17 14:20:34,846 - ispa_next.package_manager.main - DEBUG - Cannot place Beide Gasdruckfedern für Frontklappe aus- und einb: placement requirements not met
2025-11-17 14:20:34,861 - ispa_next.package_manager.main - DEBUG - Cannot place Ladewunsch und Ladezustand: not present in source
2025-11-17 14:20:34,861 - ispa_next.package_manager.main - DEBUG - found packages to advice_list: set()
2025-11-17 14:20:34,861 - ispa_next.package_manager.main - DEBUG - determining package to delete
2025-11-17 14:20:34,861 - ispa_next.package_manager.main - DEBUG - found packages to delete: set()
2025-11-17 14:20:34,861 - ispa_next.package_manager.main - DEBUG - determining package to update
2025-11-17 14:20:34,861 - ispa_next.package_manager.main - DEBUG - found packages to update: set()
2025-11-17 14:20:34,861 - ispa_next.functions - DEBUG - verify_cart_packages_additional_texts
2025-11-17 14:20:34,861 - ispa_next.functions - DEBUG - check_cart_for_additional_text_packages
2025-11-17 14:20:34,877 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 14:20:37,028 - ispa_next.functions - DEBUG - handle_mobility_replacement
2025-11-17 14:20:37,028 - ispa_next.functions - DEBUG - verify_battery_in_motoroil_package
2025-11-17 14:20:37,028 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 14:20:39,084 - ispa_next.functions - DEBUG - verify_breaks_in_break_package
2025-11-17 14:20:39,084 - ispa_next.functions - DEBUG - process_check_control
2025-11-17 14:20:39,084 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Beanstandungen
2025-11-17 14:20:40,224 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Beanstandungen
2025-11-17 14:20:40,333 - ispa_next.functions - DEBUG - trying add_material_to_package
2025-11-17 14:20:40,333 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 14:20:42,428 - ispa_next.functions - DEBUG - notify_aw_increase_to_service_advisor
2025-11-17 14:21:02,134 - ispa_next.functions - DEBUG - check_cart_packages_for_parts_service_and_parts_availability
2025-11-17 14:21:02,667 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-17 14:21:03,242 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Abschluss
2025-11-17 14:21:03,612 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-17 14:21:24,800 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-17 14:21:32,899 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-17 14:21:32,899 - ispa_next.appointment_ending - DEBUG - entered complete process
2025-11-17 14:21:32,899 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-17 14:21:34,215 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-17 14:21:34,394 - ispa_next.common.shared - DEBUG - ISPA tab Abschluss is already open
2025-11-17 14:21:34,394 - ispa_next.appointment_ending - DEBUG - complete_process isn't exiting early.
2025-11-17 14:21:38,286 - ispa_next.appointment_ending - DEBUG - No need to assign service parts target.
2025-11-17 14:21:54,092 - ispa_next.appointment_ending - DEBUG - return from complete process straight to process_list with saving without error_dialog.
2025-11-17 14:21:54,476 - ispa_next.appointment_loop.main - DEBUG - Closing appointment 4.
2025-11-17 14:21:57,034 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-17 14:21:58,363 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 619
2025-11-17 14:21:58,363 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 1
2025-11-17 14:22:04,697 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 135
2025-11-17 14:22:04,698 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-17 14:22:06,339 - ispa_next.appointments.models - DEBUG - Appointment Herr Dr. Volker Lorch ES-SL 2604 WMWXN710703B45428 ohne Termin.
