2025-11-12 13:08:25,951 - ispa_next.main - DEBUG - ISPA Next attempt (1 / 5)
2025-11-12 13:08:25,957 - overlays.client - INFO - Connected to overlay manager pipe
2025-11-12 13:08:39,176 - ispa_next.app_start.functions - DEBUG - handle_update_available
2025-11-12 13:08:52,381 - ispa_next.app_start.functions - DEBUG - has_ispa_errors
2025-11-12 13:09:08,290 - ispa_next.app_start.functions - DEBUG - authenticate_user
2025-11-12 13:09:32,894 - ispa_next.app_start.main - DEBUG - Login successful
2025-11-12 13:09:54,540 - ispa_next.appointments.functions - DEBUG - order_appointments_grid_by_created_at
2025-11-12 13:09:57,540 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 13:09:59,116 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 337
2025-11-12 13:09:59,118 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 122
2025-11-12 13:10:01,995 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 52
2025-11-12 13:10:01,996 - ispa_next.appointments.functions - DEBUG - recover_or_exit_IPS_error
2025-11-12 13:10:01,997 - ispa_next.appointments.functions - DEBUG - check_appointments_grid_for_IPS_error
2025-11-12 13:10:03,379 - ispa_next.appointments.functions - DEBUG - check_appointments_grid_for_IPS_error
2025-11-12 13:10:04,762 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 13:10:15,095 - ispa_next.appointments.models - DEBUG - Appointment Herr Wolfgang Kopp LIF-IK 5 WBA5V71080AE83326 ohne Termin.
2025-11-12 13:10:15,112 - ispa_next.appointments.models - DEBUG - Skipping appointment without VIN
2025-11-12 13:10:15,132 - ispa_next.appointments.models - DEBUG - Appointment Herr Thomas Küttner CO-TK 2 WB10P3105S6L56713 ohne Termin.
2025-11-12 13:10:15,144 - ispa_next.appointments.models - DEBUG - Appointment Herr Hans Hiesl KC-P 500 WBAUZ35070N014625 ohne Termin.
2025-11-12 13:10:15,155 - ispa_next.appointments.models - DEBUG - Appointment Firma Dechant Baumanagement LIF-D 206 WBA11DZ030FK13384 ohne Termin.
2025-11-12 13:10:15,166 - ispa_next.appointments.models - DEBUG - Appointment Herr Mohamed M´Zoughi BA-MW 86 WBA5F71050FH06261 ohne Termin.
2025-11-12 13:10:15,175 - ispa_next.appointments.models - DEBUG - Appointment Herr Herbert Fischer LIF-R 2001 WBA5F31070FH37519 ohne Termin.
2025-11-12 13:10:15,184 - ispa_next.appointments.models - DEBUG - Appointment Herr Josef Reuther KC-LM 365 WBAJR31030WC67267 ohne Termin.
2025-11-12 13:10:15,193 - ispa_next.appointments.models - DEBUG - Appointment Herr Jürgen Schießl LIF-RX 37 WBAHF11080WW25116 ohne Termin.
2025-11-12 13:10:15,203 - ispa_next.appointments.models - DEBUG - Appointment Silvia Maria Deuerling-Rehe LIF-LR 29 WBA6L31070FJ36086 ohne Termin.
2025-11-12 13:10:15,212 - ispa_next.appointments.models - DEBUG - Appointment Herr Thomas Heinze CO-OO 1990 WBALM11030E761644 ohne Termin.
2025-11-12 13:10:15,221 - ispa_next.appointments.models - DEBUG - Appointment Frau Larissa Wander LIF-WL 777 WBAJF31020WW07076 ohne Termin.
2025-11-12 13:10:15,229 - ispa_next.appointments.models - DEBUG - Appointment Herr Dr. Erich Dünninger LIF-DE 122 WBAJM91070BH38815 ohne Termin.
2025-11-12 13:10:15,239 - ispa_next.appointments.models - DEBUG - Appointment Frau Natalia Hein EBN-WT 31 WBA5R11060AE78384 ohne Termin.
2025-11-12 13:10:15,248 - ispa_next.appointments.models - DEBUG - Appointment Firma Elflein Transport Europe GmbH BA-E 5011 WBA11DZ040FK20876 ohne Termin.
2025-11-12 13:10:15,257 - ispa_next.appointments.models - DEBUG - Appointment Frau Emilia Brach LIF-BX 7 WBAVB31050PP95549 ohne Termin.
2025-11-12 13:10:15,266 - ispa_next.appointments.models - DEBUG - Appointment Herr Fernando Kaul SON-FX 12 WB10J9104L6D06264 ohne Termin.
2025-11-12 13:10:15,278 - ispa_next.appointments.models - DEBUG - Appointment Frau Dagmar Martin-Lang KC-LN 2 WBAJM71000G959600 ohne Termin.
2025-11-12 13:10:15,289 - ispa_next.appointments.models - DEBUG - Appointment Frau Alina Lunz LIF-A 680 WBAYK910005T99704 ohne Termin.
2025-11-12 13:10:15,299 - ispa_next.appointments.models - DEBUG - Appointment Firma Ferdinand Weiser GmbH & Co. KG CO-WE 70 WBAUZ35090NE09490 ohne Termin.
2025-11-12 13:10:15,342 - ispa_next.appointments.models - DEBUG - Appointment Frau Gülcin Ciray LIF-DV 904 WBAVA71090VA39683 ohne Termin.
2025-11-12 13:10:15,389 - ispa_next.appointments.models - DEBUG - Appointment Herr Marco Mechtold CO-MM 899 WMWXD11010WS49070 ohne Termin.
2025-11-12 13:10:15,401 - ispa_next.appointments.models - DEBUG - Appointment Firma Prisma D GmbH CO-WS 50 WBAJV61010BL16581 ohne Termin.
2025-11-12 13:10:15,412 - ispa_next.appointments.models - DEBUG - Appointment Herr Alexander Schneider STE-ML 777 WBA8T51030G752169 ohne Termin.
2025-11-12 13:10:15,424 - ispa_next.appointments.models - DEBUG - Appointment Herr Henry Neumüller LIF-HI 60 WBA2U11020VB06969 ohne Termin.
2025-11-12 13:10:15,436 - ispa_next.main - DEBUG - Found 4 out of 11 appointments to process (configured limit: 15).
2025-11-12 13:10:15,437 - ispa_next.main - DEBUG - Processing 0 fresh appointments.
2025-11-12 13:10:15,438 - ispa_next.main - DEBUG - Processing 4 already visited appointments (w/ RKR not callable).
2025-11-12 13:10:15,438 - ispa_next.main - DEBUG - All appointments: OF-TU 111, M-DS 2558, KEIN KENNZEICHEN, KC-YP 39
2025-11-12 13:10:15,441 - ispa_next.main - DEBUG - 



2025-11-12 13:10:15,441 - ispa_next.main - DEBUG - starting with process 1 (OF-TU 111) of 4
2025-11-12 13:10:15,446 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 13:10:16,736 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 13:10:18,162 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 337
2025-11-12 13:10:18,163 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 52
2025-11-12 13:10:19,908 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 1
2025-11-12 13:10:19,910 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 13:11:00,048 - ispa_next.rkr_manager.main - DEBUG - RemoteKeyReadManager initialized
2025-11-12 13:11:02,174 - ispa_next.appointments.functions - DEBUG - Appointment was already processed in the past.
2025-11-12 13:11:07,439 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 13:11:10,762 - ispa_next.functions - DEBUG - check_and_verify_hu_date
2025-11-12 13:11:10,763 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 13:11:10,842 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 13:11:11,187 - ispa_next.functions - DEBUG - check_potential_workshop_test
2025-11-12 13:11:11,189 - ispa_next.functions - DEBUG - check_vehicle_age_for_service_plus
2025-11-12 13:11:11,190 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 13:11:11,364 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 13:11:19,232 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 13:11:19,233 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 13:11:20,694 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 13:11:22,708 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-12 13:11:22,841 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-12 13:11:23,001 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-12 13:11:23,115 - ispa_next.rkr_manager.state - DEBUG - Getting cart and advice list contents
2025-11-12 13:11:23,116 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 13:11:26,600 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-12 13:11:36,000 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: non_blocking_wait
2025-11-12 13:11:37,003 - ispa_next.functions - DEBUG - handle_data_privacy_consent
2025-11-12 13:11:37,004 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 13:11:37,545 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 13:11:52,551 - ispa_next.functions - DEBUG - DSE icon is red
2025-11-12 13:11:57,185 - ispa_next.functions - DEBUG - transfer_customer_data_to_appointment
2025-11-12 13:11:57,187 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 13:11:57,352 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 13:11:57,354 - ispa_next.functions - DEBUG - fetch_customer_data
2025-11-12 13:11:57,448 - ispa_next.functions - DEBUG - fetch_customer_data_from_bmw_id
2025-11-12 13:11:57,635 - ispa_next.functions - DEBUG - fetch_customer_data_from_dms
2025-11-12 13:11:59,008 - ispa_next.functions - DEBUG - fetch_customer_data_from_wps
2025-11-12 13:12:00,377 - ispa_next.functions - DEBUG - fetch_customer_data_from_temporary_data
2025-11-12 13:12:00,813 - ispa_next.functions - DEBUG - copy_customer_data_to_appointment
2025-11-12 13:12:03,763 - ispa_next.functions - DEBUG - Updated appointment (AC00041146) customer contact data.
2025-11-12 13:12:04,700 - ispa_next.functions - DEBUG - check_for_alpina_vehicle
2025-11-12 13:12:04,705 - ispa_next.functions - DEBUG - check_bmw_id_add_to_list
2025-11-12 13:12:04,822 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-12 13:12:05,845 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Fahrzeugzustand
2025-11-12 13:12:07,117 - ispa_next.functions - DEBUG - check_home_dealer_add_to_list
2025-11-12 13:12:07,118 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-12 13:12:07,221 - ispa_next.common.shared - DEBUG - ISPA tab Fahrzeugzustand is already open
2025-11-12 13:12:11,332 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 13:12:11,334 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 13:12:11,839 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 13:12:13,842 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-12 13:12:14,025 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-12 13:12:14,192 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-12 13:12:14,302 - ispa_next.rkr_manager.state - DEBUG - Getting cart and advice list contents
2025-11-12 13:12:14,304 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 13:12:17,782 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-12 13:12:26,403 - ispa_next.rkr_manager.state - DEBUG - Waiting for timeout to pass
2025-11-12 13:13:26,407 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-12 13:13:38,324 - ispa_next.rkr_manager.helper - DEBUG - Found button 'Schlüsseldaten überschreiben und öffnen (Empfohlen)' in nested popup
2025-11-12 13:13:42,618 - ispa_next.rkr_manager.state - DEBUG - Checking cart items after successfull RKR
2025-11-12 13:13:42,619 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 13:13:46,073 - ispa_next.rkr_manager.state - DEBUG - Checking color in CBS positions
2025-11-12 13:13:50,333 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: success
2025-11-12 13:13:51,339 - ispa_next.functions - DEBUG - generate_attachments
2025-11-12 13:13:51,340 - ispa_next.functions - DEBUG - check_service_requirement
2025-11-12 13:13:51,340 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 13:13:51,454 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-12 13:13:55,675 - ispa_next.functions - DEBUG - check_service_requirement result: pdf_needed =False
2025-11-12 13:13:55,679 - ispa_next.wipers - DEBUG - handle_wiper_service_contracts
2025-11-12 13:13:55,680 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 13:13:55,787 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-12 13:13:56,170 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 13:13:56,703 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 13:13:56,704 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 13:13:57,424 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 13:13:57,428 - ispa_next.package_manager.main - DEBUG - updating cart content
2025-11-12 13:14:00,698 - ispa_next.package_manager.main - DEBUG - updating advice list content
2025-11-12 13:14:00,707 - ispa_next.package_manager.helper - DEBUG - get_advice_list_contents
2025-11-12 13:14:02,252 - ispa_next.package_manager.main - DEBUG - determining package movements
2025-11-12 13:14:02,256 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 13:14:02,262 - ispa_next.package_manager.main - DEBUG - found packages to cart: set()
2025-11-12 13:14:02,264 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 13:14:02,270 - ispa_next.package_manager.main - DEBUG - Cannot place Ladewunsch und Ladezustand: not present in source
2025-11-12 13:14:02,271 - ispa_next.package_manager.main - DEBUG - found packages to advice_list: {Package(name=Sperber Battery Health Ca, source=from_tab, target=advice_list)}
2025-11-12 13:14:02,272 - ispa_next.package_manager.main - DEBUG - determining package to delete
2025-11-12 13:14:02,278 - ispa_next.package_manager.main - DEBUG - found packages to delete: set()
2025-11-12 13:14:02,279 - ispa_next.package_manager.main - DEBUG - determining package to update
2025-11-12 13:14:02,285 - ispa_next.package_manager.main - DEBUG - found packages to update: set()
2025-11-12 13:14:02,287 - ispa_next.package_manager.helper - DEBUG - add_to_advice_list called
2025-11-12 13:14:03,179 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Marketing
2025-11-12 13:14:04,207 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Marketing
2025-11-12 13:14:10,093 - ispa_next.package_manager.helper - DEBUG - _add_to_container_manual
2025-11-12 13:14:10,095 - ispa_next.functions - DEBUG - verify_cart_packages_additional_texts
2025-11-12 13:14:10,096 - ispa_next.functions - DEBUG - check_cart_for_additional_text_packages
2025-11-12 13:14:10,097 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 13:14:13,457 - ispa_next.functions - DEBUG - handle_mobility_replacement
2025-11-12 13:14:13,459 - ispa_next.functions - DEBUG - verify_battery_in_motoroil_package
2025-11-12 13:14:13,462 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 13:14:16,821 - ispa_next.functions - DEBUG - verify_breaks_in_break_package
2025-11-12 13:14:16,821 - ispa_next.functions - DEBUG - verify breaks added if breaks service in cart
2025-11-12 13:14:16,823 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 13:14:20,342 - ispa_next.functions - DEBUG - process_check_control
2025-11-12 13:14:20,344 - ispa_next.functions - DEBUG - trying add_material_to_package
2025-11-12 13:14:20,346 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 13:14:23,702 - ispa_next.functions - DEBUG - notify_aw_increase_to_service_advisor
2025-11-12 13:14:38,318 - ispa_next.functions - DEBUG - check_cart_packages_for_parts_service_and_parts_availability
2025-11-12 13:14:38,950 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-12 13:14:39,720 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Abschluss
2025-11-12 13:14:39,910 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 13:15:12,185 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-12 13:15:16,661 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-12 13:15:21,306 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-12 13:15:26,324 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-12 13:15:30,379 - ispa_next.appointment_ending - DEBUG - entered complete process
2025-11-12 13:15:30,380 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 13:15:31,111 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-12 13:15:31,249 - ispa_next.common.shared - DEBUG - ISPA tab Abschluss is already open
2025-11-12 13:15:31,254 - ispa_next.appointment_ending - DEBUG - complete_process isn't exiting early.
2025-11-12 13:15:35,310 - ispa_next.appointment_ending - DEBUG - Service parts target assigned before process exit.
2025-11-12 13:15:39,100 - ispa_next.appointment_ending - DEBUG - attempt to close process with save: False
2025-11-12 13:15:42,909 - ispa_next.appointment_loop.main - DEBUG - Closing appointment 1.
2025-11-12 13:15:42,913 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 13:15:43,510 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 337
2025-11-12 13:15:43,512 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 1
2025-11-12 13:15:47,318 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 122
2025-11-12 13:15:47,319 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 13:15:48,419 - ispa_next.appointments.models - DEBUG - Appointment Ferdinando Gallella CO-NO 430 WBA4C31010G039340 ohne Termin.
2025-11-12 13:15:48,428 - ispa_next.main - DEBUG - 



2025-11-12 13:15:48,428 - ispa_next.main - DEBUG - starting with process 2 (M-DS 2558) of 4
2025-11-12 13:15:48,431 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 13:15:49,930 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 13:15:51,425 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 337
2025-11-12 13:15:51,426 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 122
2025-11-12 13:15:53,183 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 1
2025-11-12 13:15:53,185 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 13:16:33,331 - ispa_next.rkr_manager.main - DEBUG - RemoteKeyReadManager initialized
2025-11-12 13:16:36,127 - ispa_next.appointments.functions - DEBUG - Appointment was already processed in the past.
2025-11-12 13:16:41,508 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 13:16:42,780 - ispa_next.functions - DEBUG - check_and_verify_hu_date
2025-11-12 13:16:42,781 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 13:16:42,974 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 13:16:43,229 - ispa_next.functions - DEBUG - check_potential_workshop_test
2025-11-12 13:16:43,232 - ispa_next.functions - DEBUG - check_vehicle_age_for_service_plus
2025-11-12 13:16:43,233 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 13:16:43,337 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 13:16:46,599 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 13:16:46,601 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 13:16:47,984 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 13:16:49,989 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-12 13:16:50,163 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-12 13:16:50,332 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-12 13:16:50,442 - ispa_next.rkr_manager.state - DEBUG - Checking color in CBS positions
2025-11-12 13:16:54,738 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: data_still_good
2025-11-12 13:16:55,741 - ispa_next.functions - DEBUG - handle_data_privacy_consent
2025-11-12 13:16:55,742 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 13:16:56,284 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 13:17:09,341 - ispa_next.functions - DEBUG - DSE icon is yellow
2025-11-12 13:17:14,068 - ispa_next.functions - DEBUG - transfer_customer_data_to_appointment
2025-11-12 13:17:14,074 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 13:17:14,184 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 13:17:14,185 - ispa_next.functions - DEBUG - fetch_customer_data
2025-11-12 13:17:14,287 - ispa_next.functions - DEBUG - fetch_customer_data_from_bmw_id
2025-11-12 13:17:15,784 - ispa_next.functions - DEBUG - All data found, skipping remaining sources
2025-11-12 13:17:16,201 - ispa_next.functions - DEBUG - copy_customer_data_to_appointment
2025-11-12 13:17:19,294 - ispa_next.functions - DEBUG - Updated appointment (AC00041246) customer contact data.
2025-11-12 13:17:20,260 - ispa_next.functions - DEBUG - check_for_alpina_vehicle
2025-11-12 13:17:20,262 - ispa_next.functions - DEBUG - check_bmw_id_add_to_list
2025-11-12 13:17:21,138 - ispa_next.functions - DEBUG - check_home_dealer_add_to_list
2025-11-12 13:17:21,139 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-12 13:17:22,141 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Fahrzeugzustand
2025-11-12 13:17:25,762 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 13:17:25,762 - ispa_next.rkr_manager.main - DEBUG - early exiting RemoteKeyReadManager - enabled=False or early_exit_enabled=True
2025-11-12 13:17:25,765 - ispa_next.functions - DEBUG - generate_attachments
2025-11-12 13:17:25,765 - ispa_next.functions - DEBUG - check_service_requirement
2025-11-12 13:17:25,766 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 13:17:26,303 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 13:17:30,420 - ispa_next.functions - DEBUG - check_service_requirement result: pdf_needed =False
2025-11-12 13:17:30,424 - ispa_next.wipers - DEBUG - handle_wiper_service_contracts
2025-11-12 13:17:30,425 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 13:17:30,560 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-12 13:17:34,851 - ispa_next.wipers - DEBUG - valid contract found: Alphabet Service Inclusive
2025-11-12 13:17:51,358 - ispa_next.wipers - DEBUG - wipers have been already replaced.
2025-11-12 13:17:57,359 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 13:17:57,909 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 13:17:57,910 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 13:17:58,664 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 13:17:58,670 - ispa_next.package_manager.main - DEBUG - updating cart content
2025-11-12 13:18:00,110 - ispa_next.package_manager.main - DEBUG - updating advice list content
2025-11-12 13:18:00,130 - ispa_next.package_manager.helper - DEBUG - get_advice_list_contents
2025-11-12 13:18:01,771 - ispa_next.package_manager.main - DEBUG - determining package movements
2025-11-12 13:18:01,773 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 13:18:01,780 - ispa_next.package_manager.main - DEBUG - found packages to cart: set()
2025-11-12 13:18:01,783 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 13:18:01,790 - ispa_next.package_manager.main - DEBUG - Cannot place Ladewunsch und Ladezustand: not present in source
2025-11-12 13:18:01,791 - ispa_next.package_manager.main - DEBUG - found packages to advice_list: {Package(name=Sperber Battery Health Ca, source=from_tab, target=advice_list)}
2025-11-12 13:18:01,792 - ispa_next.package_manager.main - DEBUG - determining package to delete
2025-11-12 13:18:01,798 - ispa_next.package_manager.main - DEBUG - found packages to delete: set()
2025-11-12 13:18:01,800 - ispa_next.package_manager.main - DEBUG - determining package to update
2025-11-12 13:18:01,805 - ispa_next.package_manager.main - DEBUG - found packages to update: set()
2025-11-12 13:18:01,807 - ispa_next.package_manager.helper - DEBUG - add_to_advice_list called
2025-11-12 13:18:02,749 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Marketing
2025-11-12 13:18:03,518 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Marketing
2025-11-12 13:18:09,410 - ispa_next.package_manager.helper - DEBUG - _add_to_container_manual
2025-11-12 13:18:09,412 - ispa_next.functions - DEBUG - verify_cart_packages_additional_texts
2025-11-12 13:18:09,413 - ispa_next.functions - DEBUG - check_cart_for_additional_text_packages
2025-11-12 13:18:09,414 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 13:18:10,768 - ispa_next.functions - DEBUG - handle_mobility_replacement
2025-11-12 13:18:10,770 - ispa_next.functions - DEBUG - verify_battery_in_motoroil_package
2025-11-12 13:18:10,772 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 13:18:12,108 - ispa_next.functions - DEBUG - verify_breaks_in_break_package
2025-11-12 13:18:12,109 - ispa_next.functions - DEBUG - verify breaks added if breaks service in cart
2025-11-12 13:18:12,111 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 13:18:13,389 - ispa_next.functions - DEBUG - process_check_control
2025-11-12 13:18:13,391 - ispa_next.functions - DEBUG - trying add_material_to_package
2025-11-12 13:18:13,393 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 13:18:14,672 - ispa_next.functions - DEBUG - notify_aw_increase_to_service_advisor
2025-11-12 13:18:29,306 - ispa_next.functions - DEBUG - check_cart_packages_for_parts_service_and_parts_availability
2025-11-12 13:18:29,949 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-12 13:18:30,696 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Abschluss
2025-11-12 13:18:30,868 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 13:18:43,442 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-12 13:18:43,443 - ispa_next.appointment_ending - DEBUG - entered complete process
2025-11-12 13:18:43,444 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 13:18:44,176 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-12 13:18:44,293 - ispa_next.common.shared - DEBUG - ISPA tab Abschluss is already open
2025-11-12 13:18:44,295 - ispa_next.appointment_ending - DEBUG - complete_process isn't exiting early.
2025-11-12 13:18:46,244 - ispa_next.appointment_ending - DEBUG - No need to assign service parts target.
2025-11-12 13:18:59,315 - ispa_next.appointment_ending - DEBUG - return from complete process straight to process_list with saving without error_dialog.
2025-11-12 13:18:59,718 - ispa_next.appointment_loop.main - DEBUG - Closing appointment 2.
2025-11-12 13:19:01,187 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 13:19:01,804 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 337
2025-11-12 13:19:01,806 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 1
2025-11-12 13:19:05,532 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 122
2025-11-12 13:19:05,533 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 13:19:06,492 - ispa_next.appointments.models - DEBUG - Appointment Ferdinando Gallella CO-NO 430 WBA4C31010G039340 ohne Termin.
2025-11-12 13:19:06,502 - ispa_next.main - DEBUG - 



2025-11-12 13:19:06,502 - ispa_next.main - DEBUG - starting with process 3 (KEIN KENNZEICHEN) of 4
2025-11-12 13:19:06,506 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 13:19:07,834 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 13:19:09,559 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 337
2025-11-12 13:19:09,561 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 122
2025-11-12 13:19:11,211 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 1
2025-11-12 13:19:11,213 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 13:19:42,516 - ispa_next.rkr_manager.main - DEBUG - RemoteKeyReadManager initialized
2025-11-12 13:19:44,614 - ispa_next.appointments.functions - DEBUG - Appointment was already processed in the past.
2025-11-12 13:19:50,129 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 13:19:52,792 - ispa_next.functions - DEBUG - check_and_verify_hu_date
2025-11-12 13:19:52,793 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 13:19:52,871 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 13:19:53,207 - ispa_next.functions - DEBUG - HU date is not available.
2025-11-12 13:19:58,126 - ispa_next.functions - DEBUG - check_potential_workshop_test
2025-11-12 13:19:58,129 - ispa_next.functions - DEBUG - check_vehicle_age_for_service_plus
2025-11-12 13:19:58,130 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 13:19:58,340 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 13:20:01,379 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 13:20:01,381 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 13:20:02,750 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 13:20:04,753 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-12 13:20:04,884 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-12 13:20:05,057 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-12 13:20:05,185 - ispa_next.rkr_manager.state - DEBUG - Checking color in CBS positions
2025-11-12 13:20:09,422 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: data_still_good
2025-11-12 13:20:10,427 - ispa_next.functions - DEBUG - handle_data_privacy_consent
2025-11-12 13:20:10,427 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 13:20:11,026 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 13:20:14,972 - ispa_next.functions - DEBUG - no DSE icon found
2025-11-12 13:20:14,974 - ispa_next.functions - DEBUG - transfer_customer_data_to_appointment
2025-11-12 13:20:14,976 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 13:20:15,058 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 13:20:15,059 - ispa_next.functions - DEBUG - fetch_customer_data
2025-11-12 13:20:15,190 - ispa_next.functions - DEBUG - fetch_customer_data_from_bmw_id
2025-11-12 13:20:16,457 - ispa_next.functions - DEBUG - fetch_customer_data_from_dms
2025-11-12 13:20:16,570 - ispa_next.functions - DEBUG - fetch_customer_data_from_wps
2025-11-12 13:20:17,725 - ispa_next.functions - DEBUG - fetch_customer_data_from_temporary_data
2025-11-12 13:20:18,253 - ispa_next.functions - DEBUG - copy_customer_data_to_appointment
2025-11-12 13:20:21,359 - ispa_next.functions - DEBUG - Updated appointment (AC00041322) customer contact data.
2025-11-12 13:20:22,294 - ispa_next.functions - DEBUG - check_for_alpina_vehicle
2025-11-12 13:20:22,296 - ispa_next.functions - DEBUG - check_bmw_id_add_to_list
2025-11-12 13:20:23,351 - ispa_next.functions - DEBUG - check_home_dealer_add_to_list
2025-11-12 13:20:23,351 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-12 13:20:24,236 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Fahrzeugzustand
2025-11-12 13:20:28,382 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 13:20:28,382 - ispa_next.rkr_manager.main - DEBUG - early exiting RemoteKeyReadManager - enabled=False or early_exit_enabled=True
2025-11-12 13:20:28,385 - ispa_next.functions - DEBUG - generate_attachments
2025-11-12 13:20:28,386 - ispa_next.functions - DEBUG - check_service_requirement
2025-11-12 13:20:28,386 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 13:20:28,928 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 13:20:33,051 - ispa_next.functions - DEBUG - check_service_requirement result: pdf_needed =False
2025-11-12 13:20:33,056 - ispa_next.wipers - DEBUG - handle_wiper_service_contracts
2025-11-12 13:20:33,056 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 13:20:33,180 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-12 13:20:38,774 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 13:20:39,332 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 13:20:39,333 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 13:20:40,118 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 13:20:40,124 - ispa_next.package_manager.main - DEBUG - updating cart content
2025-11-12 13:20:42,754 - ispa_next.package_manager.main - DEBUG - updating advice list content
2025-11-12 13:20:42,756 - ispa_next.package_manager.helper - DEBUG - get_advice_list_contents
2025-11-12 13:20:44,340 - ispa_next.package_manager.main - DEBUG - determining package movements
2025-11-12 13:20:44,342 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 13:20:44,350 - ispa_next.package_manager.main - DEBUG - found packages to cart: set()
2025-11-12 13:20:44,352 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 13:20:44,358 - ispa_next.package_manager.main - DEBUG - Cannot place Ladewunsch und Ladezustand: not present in source
2025-11-12 13:20:44,359 - ispa_next.package_manager.main - DEBUG - found packages to advice_list: {Package(name=Sperber Battery Health Ca, source=from_tab, target=advice_list)}
2025-11-12 13:20:44,360 - ispa_next.package_manager.main - DEBUG - determining package to delete
2025-11-12 13:20:44,365 - ispa_next.package_manager.main - DEBUG - found packages to delete: set()
2025-11-12 13:20:44,367 - ispa_next.package_manager.main - DEBUG - determining package to update
2025-11-12 13:20:44,372 - ispa_next.package_manager.main - DEBUG - found packages to update: set()
2025-11-12 13:20:44,385 - ispa_next.package_manager.helper - DEBUG - add_to_advice_list called
2025-11-12 13:20:45,188 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Marketing
2025-11-12 13:20:46,083 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Marketing
2025-11-12 13:20:52,125 - ispa_next.package_manager.helper - DEBUG - _add_to_container_manual
2025-11-12 13:20:52,127 - ispa_next.functions - DEBUG - verify_cart_packages_additional_texts
2025-11-12 13:20:52,128 - ispa_next.functions - DEBUG - check_cart_for_additional_text_packages
2025-11-12 13:20:52,129 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 13:20:54,798 - ispa_next.functions - DEBUG - handle_mobility_replacement
2025-11-12 13:20:54,799 - ispa_next.functions - DEBUG - verify_battery_in_motoroil_package
2025-11-12 13:20:54,802 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 13:20:57,432 - ispa_next.functions - DEBUG - verify_breaks_in_break_package
2025-11-12 13:20:57,432 - ispa_next.functions - DEBUG - verify breaks added if breaks service in cart
2025-11-12 13:20:57,435 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 13:21:00,190 - ispa_next.functions - DEBUG - process_check_control
2025-11-12 13:21:00,191 - ispa_next.functions - DEBUG - trying add_material_to_package
2025-11-12 13:21:00,193 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 13:21:02,819 - ispa_next.functions - DEBUG - notify_aw_increase_to_service_advisor
2025-11-12 13:21:17,226 - ispa_next.functions - DEBUG - check_cart_packages_for_parts_service_and_parts_availability
2025-11-12 13:21:17,847 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-12 13:21:18,567 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Abschluss
2025-11-12 13:21:18,714 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 13:21:44,535 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-12 13:21:49,152 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-12 13:21:54,226 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-12 13:21:54,228 - ispa_next.appointment_ending - DEBUG - entered complete process
2025-11-12 13:21:54,229 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 13:21:54,961 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-12 13:21:55,155 - ispa_next.common.shared - DEBUG - ISPA tab Abschluss is already open
2025-11-12 13:21:55,157 - ispa_next.appointment_ending - DEBUG - complete_process isn't exiting early.
2025-11-12 13:21:57,141 - ispa_next.appointment_ending - DEBUG - No need to assign service parts target.
2025-11-12 13:22:06,599 - ispa_next.appointment_ending - DEBUG - return from complete process straight to process_list with saving without error_dialog.
2025-11-12 13:22:07,025 - ispa_next.appointment_loop.main - DEBUG - Closing appointment 3.
2025-11-12 13:22:08,347 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 13:22:09,161 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 337
2025-11-12 13:22:09,162 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 1
2025-11-12 13:22:12,941 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 122
2025-11-12 13:22:12,942 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 13:22:13,925 - ispa_next.appointments.models - DEBUG - Appointment Ferdinando Gallella CO-NO 430 WBA4C31010G039340 ohne Termin.
2025-11-12 13:22:13,933 - ispa_next.main - DEBUG - 



2025-11-12 13:22:13,933 - ispa_next.main - DEBUG - starting with process 4 (KC-YP 39) of 4
2025-11-12 13:22:13,937 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 13:22:15,306 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 13:22:17,042 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 337
2025-11-12 13:22:17,043 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 122
2025-11-12 13:22:18,625 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 1
2025-11-12 13:22:18,626 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 13:22:52,631 - ispa_next.rkr_manager.main - DEBUG - RemoteKeyReadManager initialized
2025-11-12 13:22:54,885 - ispa_next.appointments.functions - DEBUG - Appointment was already processed in the past.
2025-11-12 13:23:00,432 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 13:23:04,543 - ispa_next.functions - DEBUG - check_and_verify_hu_date
2025-11-12 13:23:04,544 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 13:23:04,725 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 13:23:05,009 - ispa_next.functions - DEBUG - HU date already expired after 13 days.
2025-11-12 13:23:09,715 - ispa_next.functions - DEBUG - check_potential_workshop_test
2025-11-12 13:23:09,718 - ispa_next.functions - DEBUG - check_vehicle_age_for_service_plus
2025-11-12 13:23:09,719 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 13:23:09,825 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 13:23:13,032 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 13:23:13,034 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 13:23:14,386 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 13:23:16,390 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-12 13:23:16,568 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-12 13:23:16,679 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-12 13:23:16,793 - ispa_next.rkr_manager.state - DEBUG - Getting cart and advice list contents
2025-11-12 13:23:16,809 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 13:23:21,133 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-12 13:23:29,845 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: non_blocking_wait
2025-11-12 13:23:30,849 - ispa_next.functions - DEBUG - handle_data_privacy_consent
2025-11-12 13:23:30,850 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 13:23:31,408 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 13:23:47,040 - ispa_next.functions - DEBUG - DSE icon is red
2025-11-12 13:23:51,814 - ispa_next.functions - DEBUG - transfer_customer_data_to_appointment
2025-11-12 13:23:51,816 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 13:23:52,018 - ispa_next.common.shared - DEBUG - ISPA tab Kunden & Fahrzeug is already open
2025-11-12 13:23:52,019 - ispa_next.functions - DEBUG - fetch_customer_data
2025-11-12 13:23:52,141 - ispa_next.functions - DEBUG - fetch_customer_data_from_bmw_id
2025-11-12 13:23:52,270 - ispa_next.functions - DEBUG - fetch_customer_data_from_dms
2025-11-12 13:23:54,057 - ispa_next.functions - DEBUG - All data found, skipping remaining sources
2025-11-12 13:23:54,421 - ispa_next.functions - DEBUG - copy_customer_data_to_appointment
2025-11-12 13:23:57,610 - ispa_next.functions - DEBUG - Updated appointment (AC00041342) customer contact data.
2025-11-12 13:23:58,527 - ispa_next.functions - DEBUG - check_for_alpina_vehicle
2025-11-12 13:23:58,529 - ispa_next.functions - DEBUG - check_bmw_id_add_to_list
2025-11-12 13:23:58,744 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-12 13:23:59,754 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Fahrzeugzustand
2025-11-12 13:24:00,953 - ispa_next.functions - DEBUG - check_home_dealer_add_to_list
2025-11-12 13:24:00,954 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Fahrzeugzustand
2025-11-12 13:24:01,061 - ispa_next.common.shared - DEBUG - ISPA tab Fahrzeugzustand is already open
2025-11-12 13:24:05,366 - ispa_next.rkr_manager.main - DEBUG - running RemoteKeyReadManager
2025-11-12 13:24:05,368 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 13:24:05,864 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 13:24:07,869 - ispa_next.rkr_manager.state - DEBUG - Entering initial state
2025-11-12 13:24:08,032 - ispa_next.rkr_manager.state - DEBUG - Checking customer consent
2025-11-12 13:24:08,274 - ispa_next.rkr_manager.state - DEBUG - Checking data freshness
2025-11-12 13:24:08,385 - ispa_next.rkr_manager.state - DEBUG - Getting cart and advice list contents
2025-11-12 13:24:08,387 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 13:24:12,598 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-12 13:24:21,242 - ispa_next.rkr_manager.state - DEBUG - Waiting for timeout to pass
2025-11-12 13:25:21,245 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-12 13:25:30,194 - ispa_next.rkr_manager.state - DEBUG - Waiting for timeout to pass
2025-11-12 13:25:53,198 - ispa_next.rkr_manager.state - DEBUG - Triggering remote key read
2025-11-12 13:26:01,582 - ispa_next.rkr_manager.state - DEBUG - Cannot call from RKR
2025-11-12 13:26:10,844 - ispa_next.rkr_manager.state - DEBUG - State machine completed with reason: rkr_not_successfull
2025-11-12 13:26:11,850 - ispa_next.functions - DEBUG - generate_attachments
2025-11-12 13:26:11,850 - ispa_next.functions - DEBUG - check_service_requirement
2025-11-12 13:26:11,851 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 13:26:11,969 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-12 13:26:16,143 - ispa_next.functions - DEBUG - check_service_requirement result: pdf_needed =True
2025-11-12 13:26:20,770 - ispa_next.wipers - DEBUG - handle_wiper_service_contracts
2025-11-12 13:26:20,771 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 13:26:20,956 - ispa_next.common.shared - DEBUG - ISPA tab Wartung is already open
2025-11-12 13:26:21,348 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Kunden & Fahrzeug
2025-11-12 13:26:21,906 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Kunden & Fahrzeug
2025-11-12 13:26:21,908 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Wartung
2025-11-12 13:26:22,793 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Wartung
2025-11-12 13:26:22,844 - ispa_next.package_manager.main - DEBUG - updating cart content
2025-11-12 13:26:26,723 - ispa_next.package_manager.main - DEBUG - updating advice list content
2025-11-12 13:26:26,725 - ispa_next.package_manager.helper - DEBUG - get_advice_list_contents
2025-11-12 13:26:28,330 - ispa_next.package_manager.main - DEBUG - determining package movements
2025-11-12 13:26:28,351 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 13:26:28,360 - ispa_next.package_manager.main - DEBUG - found packages to cart: set()
2025-11-12 13:26:28,383 - ispa_next.package_manager.main - DEBUG - determining packages to place
2025-11-12 13:26:28,414 - ispa_next.package_manager.main - DEBUG - Cannot place Ladewunsch und Ladezustand: not present in source
2025-11-12 13:26:28,431 - ispa_next.package_manager.main - DEBUG - found packages to advice_list: {Package(name=Sperber Battery Health Ca, source=from_tab, target=advice_list)}
2025-11-12 13:26:28,438 - ispa_next.package_manager.main - DEBUG - determining package to delete
2025-11-12 13:26:28,449 - ispa_next.package_manager.main - DEBUG - found packages to delete: set()
2025-11-12 13:26:28,450 - ispa_next.package_manager.main - DEBUG - determining package to update
2025-11-12 13:26:28,457 - ispa_next.package_manager.main - DEBUG - found packages to update: set()
2025-11-12 13:26:28,459 - ispa_next.package_manager.helper - DEBUG - add_to_advice_list called
2025-11-12 13:26:29,403 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Marketing
2025-11-12 13:26:30,325 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Marketing
2025-11-12 13:26:33,422 - ispa_next.package_manager.helper - DEBUG - _add_to_container_manual
2025-11-12 13:26:33,424 - ispa_next.functions - DEBUG - verify_cart_packages_additional_texts
2025-11-12 13:26:33,427 - ispa_next.functions - DEBUG - check_cart_for_additional_text_packages
2025-11-12 13:26:33,428 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 13:26:38,107 - ispa_next.functions - DEBUG - handle_mobility_replacement
2025-11-12 13:26:38,109 - ispa_next.functions - DEBUG - verify_battery_in_motoroil_package
2025-11-12 13:26:38,111 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 13:26:42,156 - ispa_next.functions - DEBUG - verify_breaks_in_break_package
2025-11-12 13:26:42,157 - ispa_next.functions - DEBUG - verify breaks added if breaks service in cart
2025-11-12 13:26:42,161 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 13:26:46,191 - ispa_next.functions - DEBUG - process_check_control
2025-11-12 13:26:46,192 - ispa_next.functions - DEBUG - trying add_material_to_package
2025-11-12 13:26:46,194 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 13:26:50,319 - ispa_next.functions - DEBUG - notify_aw_increase_to_service_advisor
2025-11-12 13:27:04,567 - ispa_next.functions - DEBUG - check_cart_packages_for_parts_service_and_parts_availability
2025-11-12 13:27:05,227 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-12 13:27:05,922 - ispa_next.common.shared - DEBUG - Successfully opened ISPA tab: Abschluss
2025-11-12 13:27:06,075 - ispa_next.functions - DEBUG - get_cart_contents
2025-11-12 13:27:45,157 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-12 13:27:50,561 - ispa_next.functions - DEBUG - Sucessfully closed JobDetailsView.
2025-11-12 13:27:54,594 - ispa_next.appointment_ending - DEBUG - entered complete process
2025-11-12 13:27:54,595 - ispa_next.appointment_loop.helpers - DEBUG - Checking for potential OIDC Login dialog
2025-11-12 13:27:55,373 - ispa_next.common.shared - DEBUG - Attempting to open ISPA tab: Abschluss
2025-11-12 13:27:55,532 - ispa_next.common.shared - DEBUG - ISPA tab Abschluss is already open
2025-11-12 13:27:55,534 - ispa_next.appointment_ending - DEBUG - complete_process isn't exiting early.
2025-11-12 13:27:59,514 - ispa_next.appointment_ending - DEBUG - Service parts target assigned before process exit.
2025-11-12 13:28:09,665 - ispa_next.appointment_ending - DEBUG - return from complete process straight to process_list with saving without error_dialog.
2025-11-12 13:28:10,102 - ispa_next.appointment_loop.main - DEBUG - Closing appointment 4.
2025-11-12 13:28:11,396 - ispa_next.appointments.functions - DEBUG - filter_appointments_grid_by_term
2025-11-12 13:28:12,184 - ispa_next.appointments.functions - DEBUG - Gross total count for all events at location: 337
2025-11-12 13:28:12,185 - ispa_next.appointments.functions - DEBUG - Unfiltered total count for 'Terminvereinbarung' events: 1
2025-11-12 13:28:16,352 - ispa_next.appointments.functions - DEBUG - Filtered by term total count for 'Terminvereinbarung' events: 122
2025-11-12 13:28:16,353 - ispa_next.appointments.functions - DEBUG - fetch_appointments_from_grid
2025-11-12 13:28:17,338 - ispa_next.appointments.models - DEBUG - Appointment Ferdinando Gallella CO-NO 430 WBA4C31010G039340 ohne Termin.
